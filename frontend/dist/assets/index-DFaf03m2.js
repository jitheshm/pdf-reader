var nP=Object.defineProperty;var aE=n=>{throw TypeError(n)};var rP=(n,e,t)=>e in n?nP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var me=(n,e,t)=>rP(n,typeof e!="symbol"?e+"":e,t),Ky=(n,e,t)=>e.has(n)||aE("Cannot "+t);var c=(n,e,t)=>(Ky(n,e,"read from private field"),t?t.call(n):e.get(n)),S=(n,e,t)=>e.has(n)?aE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),b=(n,e,t,r)=>(Ky(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),E=(n,e,t)=>(Ky(n,e,"access private method"),t);var $n=(n,e,t,r)=>({set _(i){b(n,e,i,t)},get _(){return c(n,e,r)}});function Yx(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function w_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zx={exports:{}},Zg={},Qx={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf=Symbol.for("react.element"),iP=Symbol.for("react.portal"),sP=Symbol.for("react.fragment"),oP=Symbol.for("react.strict_mode"),aP=Symbol.for("react.profiler"),lP=Symbol.for("react.provider"),uP=Symbol.for("react.context"),cP=Symbol.for("react.forward_ref"),dP=Symbol.for("react.suspense"),hP=Symbol.for("react.memo"),fP=Symbol.for("react.lazy"),lE=Symbol.iterator;function pP(n){return n===null||typeof n!="object"?null:(n=lE&&n[lE]||n["@@iterator"],typeof n=="function"?n:null)}var Jx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eA=Object.assign,tA={};function Rc(n,e,t){this.props=n,this.context=e,this.refs=tA,this.updater=t||Jx}Rc.prototype.isReactComponent={};Rc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Rc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function nA(){}nA.prototype=Rc.prototype;function __(n,e,t){this.props=n,this.context=e,this.refs=tA,this.updater=t||Jx}var b_=__.prototype=new nA;b_.constructor=__;eA(b_,Rc.prototype);b_.isPureReactComponent=!0;var uE=Array.isArray,rA=Object.prototype.hasOwnProperty,E_={current:null},iA={key:!0,ref:!0,__self:!0,__source:!0};function sA(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)rA.call(e,r)&&!iA.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Yf,type:n,key:s,ref:o,props:i,_owner:E_.current}}function mP(n,e){return{$$typeof:Yf,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function S_(n){return typeof n=="object"&&n!==null&&n.$$typeof===Yf}function gP(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var cE=/\/+/g;function Yy(n,e){return typeof n=="object"&&n!==null&&n.key!=null?gP(""+n.key):e.toString(36)}function $p(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Yf:case iP:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+Yy(o,0):r,uE(i)?(t="",n!=null&&(t=n.replace(cE,"$&/")+"/"),$p(i,e,t,"",function(u){return u})):i!=null&&(S_(i)&&(i=mP(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(cE,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",uE(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+Yy(s,a);o+=$p(s,e,t,l,i)}else if(l=pP(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+Yy(s,a++),o+=$p(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wp(n,e,t){if(n==null)return n;var r=[],i=0;return $p(n,r,"","",function(s){return e.call(t,s,i++)}),r}function yP(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Cn={current:null},Vp={transition:null},vP={ReactCurrentDispatcher:Cn,ReactCurrentBatchConfig:Vp,ReactCurrentOwner:E_};function oA(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:wp,forEach:function(n,e,t){wp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return wp(n,function(){e++}),e},toArray:function(n){return wp(n,function(e){return e})||[]},only:function(n){if(!S_(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Te.Component=Rc;Te.Fragment=sP;Te.Profiler=aP;Te.PureComponent=__;Te.StrictMode=oP;Te.Suspense=dP;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vP;Te.act=oA;Te.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=eA({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=E_.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)rA.call(e,l)&&!iA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Yf,type:n.type,key:i,ref:s,props:r,_owner:o}};Te.createContext=function(n){return n={$$typeof:uP,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:lP,_context:n},n.Consumer=n};Te.createElement=sA;Te.createFactory=function(n){var e=sA.bind(null,n);return e.type=n,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(n){return{$$typeof:cP,render:n}};Te.isValidElement=S_;Te.lazy=function(n){return{$$typeof:fP,_payload:{_status:-1,_result:n},_init:yP}};Te.memo=function(n,e){return{$$typeof:hP,type:n,compare:e===void 0?null:e}};Te.startTransition=function(n){var e=Vp.transition;Vp.transition={};try{n()}finally{Vp.transition=e}};Te.unstable_act=oA;Te.useCallback=function(n,e){return Cn.current.useCallback(n,e)};Te.useContext=function(n){return Cn.current.useContext(n)};Te.useDebugValue=function(){};Te.useDeferredValue=function(n){return Cn.current.useDeferredValue(n)};Te.useEffect=function(n,e){return Cn.current.useEffect(n,e)};Te.useId=function(){return Cn.current.useId()};Te.useImperativeHandle=function(n,e,t){return Cn.current.useImperativeHandle(n,e,t)};Te.useInsertionEffect=function(n,e){return Cn.current.useInsertionEffect(n,e)};Te.useLayoutEffect=function(n,e){return Cn.current.useLayoutEffect(n,e)};Te.useMemo=function(n,e){return Cn.current.useMemo(n,e)};Te.useReducer=function(n,e,t){return Cn.current.useReducer(n,e,t)};Te.useRef=function(n){return Cn.current.useRef(n)};Te.useState=function(n){return Cn.current.useState(n)};Te.useSyncExternalStore=function(n,e,t){return Cn.current.useSyncExternalStore(n,e,t)};Te.useTransition=function(){return Cn.current.useTransition()};Te.version="18.3.1";Qx.exports=Te;var L=Qx.exports;const Es=w_(L),Bv=Yx({__proto__:null,default:Es},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wP=L,_P=Symbol.for("react.element"),bP=Symbol.for("react.fragment"),EP=Object.prototype.hasOwnProperty,SP=wP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xP={key:!0,ref:!0,__self:!0,__source:!0};function aA(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)EP.call(e,r)&&!xP.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_P,type:n,key:s,ref:o,props:i,_owner:SP.current}}Zg.Fragment=bP;Zg.jsx=aA;Zg.jsxs=aA;Zx.exports=Zg;var M=Zx.exports,lA={exports:{}},dr={},uA={exports:{}},cA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,$){var ie=F.length;F.push($);e:for(;0<ie;){var Re=ie-1>>>1,ue=F[Re];if(0<i(ue,$))F[Re]=$,F[ie]=ue,ie=Re;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var $=F[0],ie=F.pop();if(ie!==$){F[0]=ie;e:for(var Re=0,ue=F.length,Ee=ue>>>1;Re<Ee;){var Ye=2*(Re+1)-1,lt=F[Ye],De=Ye+1,Se=F[De];if(0>i(lt,ie))De<ue&&0>i(Se,lt)?(F[Re]=Se,F[De]=ie,Re=De):(F[Re]=lt,F[Ye]=ie,Re=Ye);else if(De<ue&&0>i(Se,ie))F[Re]=Se,F[De]=ie,Re=De;else break e}}return $}function i(F,$){var ie=F.sortIndex-$.sortIndex;return ie!==0?ie:F.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,m=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var $=t(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=F)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=t(u)}}function x(F){if(y=!1,w(F),!m)if(t(l)!==null)m=!0,pe(C);else{var $=t(u);$!==null&&V(x,$.startTime-F)}}function C(F,$){m=!1,y&&(y=!1,g(A),A=-1),p=!0;var ie=f;try{for(w($),h=t(l);h!==null&&(!(h.expirationTime>$)||F&&!j());){var Re=h.callback;if(typeof Re=="function"){h.callback=null,f=h.priorityLevel;var ue=Re(h.expirationTime<=$);$=n.unstable_now(),typeof ue=="function"?h.callback=ue:h===t(l)&&r(l),w($)}else r(l);h=t(l)}if(h!==null)var Ee=!0;else{var Ye=t(u);Ye!==null&&V(x,Ye.startTime-$),Ee=!1}return Ee}finally{h=null,f=ie,p=!1}}var k=!1,P=null,A=-1,D=5,I=-1;function j(){return!(n.unstable_now()-I<D)}function ne(){if(P!==null){var F=n.unstable_now();I=F;var $=!0;try{$=P(!0,F)}finally{$?J():(k=!1,P=null)}}else k=!1}var J;if(typeof v=="function")J=function(){v(ne)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,he=X.port2;X.port1.onmessage=ne,J=function(){he.postMessage(null)}}else J=function(){_(ne,0)};function pe(F){P=F,k||(k=!0,J())}function V(F,$){A=_(function(){F(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){m||p||(m=!0,pe(C))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var ie=f;f=$;try{return F()}finally{f=ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ie=f;f=F;try{return $()}finally{f=ie}},n.unstable_scheduleCallback=function(F,$,ie){var Re=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Re+ie:Re):ie=Re,F){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ie+ue,F={id:d++,callback:$,priorityLevel:F,startTime:ie,expirationTime:ue,sortIndex:-1},ie>Re?(F.sortIndex=ie,e(u,F),t(l)===null&&F===t(u)&&(y?(g(A),A=-1):y=!0,V(x,ie-Re))):(F.sortIndex=ue,e(l,F),m||p||(m=!0,pe(C))),F},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(F){var $=f;return function(){var ie=f;f=$;try{return F.apply(this,arguments)}finally{f=ie}}}})(cA);uA.exports=cA;var AP=uA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CP=L,lr=AP;function B(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dA=new Set,Od={};function Rl(n,e){mc(n,e),mc(n+"Capture",e)}function mc(n,e){for(Od[n]=e,n=0;n<e.length;n++)dA.add(e[n])}var Rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uv=Object.prototype.hasOwnProperty,kP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dE={},hE={};function TP(n){return Uv.call(hE,n)?!0:Uv.call(dE,n)?!1:kP.test(n)?hE[n]=!0:(dE[n]=!0,!1)}function RP(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function PP(n,e,t,r){if(e===null||typeof e>"u"||RP(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kn(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){rn[n]=new kn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];rn[e]=new kn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){rn[n]=new kn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){rn[n]=new kn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){rn[n]=new kn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){rn[n]=new kn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){rn[n]=new kn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){rn[n]=new kn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){rn[n]=new kn(n,5,!1,n.toLowerCase(),null,!1,!1)});var x_=/[\-:]([a-z])/g;function A_(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(x_,A_);rn[e]=new kn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(x_,A_);rn[e]=new kn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(x_,A_);rn[e]=new kn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){rn[n]=new kn(n,1,!1,n.toLowerCase(),null,!1,!1)});rn.xlinkHref=new kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){rn[n]=new kn(n,1,!1,n.toLowerCase(),null,!0,!0)});function C_(n,e,t,r){var i=rn.hasOwnProperty(e)?rn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PP(e,t,i,r)&&(t=null),r||i===null?TP(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Fs=CP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_p=Symbol.for("react.element"),Xl=Symbol.for("react.portal"),Kl=Symbol.for("react.fragment"),k_=Symbol.for("react.strict_mode"),Hv=Symbol.for("react.profiler"),hA=Symbol.for("react.provider"),fA=Symbol.for("react.context"),T_=Symbol.for("react.forward_ref"),$v=Symbol.for("react.suspense"),Vv=Symbol.for("react.suspense_list"),R_=Symbol.for("react.memo"),qs=Symbol.for("react.lazy"),pA=Symbol.for("react.offscreen"),fE=Symbol.iterator;function Fc(n){return n===null||typeof n!="object"?null:(n=fE&&n[fE]||n["@@iterator"],typeof n=="function"?n:null)}var gt=Object.assign,Zy;function Qc(n){if(Zy===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Zy=e&&e[1]||""}return`
`+Zy+n}var Qy=!1;function Jy(n,e){if(!n||Qy)return"";Qy=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qy=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Qc(n):""}function LP(n){switch(n.tag){case 5:return Qc(n.type);case 16:return Qc("Lazy");case 13:return Qc("Suspense");case 19:return Qc("SuspenseList");case 0:case 2:case 15:return n=Jy(n.type,!1),n;case 11:return n=Jy(n.type.render,!1),n;case 1:return n=Jy(n.type,!0),n;default:return""}}function Wv(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Kl:return"Fragment";case Xl:return"Portal";case Hv:return"Profiler";case k_:return"StrictMode";case $v:return"Suspense";case Vv:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case fA:return(n.displayName||"Context")+".Consumer";case hA:return(n._context.displayName||"Context")+".Provider";case T_:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R_:return e=n.displayName||null,e!==null?e:Wv(n.type)||"Memo";case qs:e=n._payload,n=n._init;try{return Wv(n(e))}catch{}}return null}function MP(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wv(e);case 8:return e===k_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function mA(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OP(n){var e=mA(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function bp(n){n._valueTracker||(n._valueTracker=OP(n))}function gA(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=mA(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Nm(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Gv(n,e){var t=e.checked;return gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function pE(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Lo(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yA(n,e){e=e.checked,e!=null&&C_(n,"checked",e,!1)}function qv(n,e){yA(n,e);var t=Lo(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Xv(n,e.type,t):e.hasOwnProperty("defaultValue")&&Xv(n,e.type,Lo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function mE(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Xv(n,e,t){(e!=="number"||Nm(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Jc=Array.isArray;function uu(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Lo(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Kv(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return gt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function gE(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(B(92));if(Jc(t)){if(1<t.length)throw Error(B(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Lo(t)}}function vA(n,e){var t=Lo(e.value),r=Lo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function yE(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function wA(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yv(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?wA(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ep,_A=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Ep=Ep||document.createElement("div"),Ep.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ep.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Dd(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var bd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DP=["Webkit","ms","Moz","O"];Object.keys(bd).forEach(function(n){DP.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),bd[e]=bd[n]})});function bA(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||bd.hasOwnProperty(n)&&bd[n]?(""+e).trim():e+"px"}function EA(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=bA(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var NP=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zv(n,e){if(e){if(NP[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Qv(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jv=null;function P_(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var e0=null,cu=null,du=null;function vE(n){if(n=Jf(n)){if(typeof e0!="function")throw Error(B(280));var e=n.stateNode;e&&(e=ny(e),e0(n.stateNode,n.type,e))}}function SA(n){cu?du?du.push(n):du=[n]:cu=n}function xA(){if(cu){var n=cu,e=du;if(du=cu=null,vE(n),e)for(n=0;n<e.length;n++)vE(e[n])}}function AA(n,e){return n(e)}function CA(){}var ev=!1;function kA(n,e,t){if(ev)return n(e,t);ev=!0;try{return AA(n,e,t)}finally{ev=!1,(cu!==null||du!==null)&&(CA(),xA())}}function Nd(n,e){var t=n.stateNode;if(t===null)return null;var r=ny(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(B(231,e,typeof t));return t}var t0=!1;if(Rs)try{var jc={};Object.defineProperty(jc,"passive",{get:function(){t0=!0}}),window.addEventListener("test",jc,jc),window.removeEventListener("test",jc,jc)}catch{t0=!1}function IP(n,e,t,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var Ed=!1,Im=null,Fm=!1,n0=null,FP={onError:function(n){Ed=!0,Im=n}};function jP(n,e,t,r,i,s,o,a,l){Ed=!1,Im=null,IP.apply(FP,arguments)}function zP(n,e,t,r,i,s,o,a,l){if(jP.apply(this,arguments),Ed){if(Ed){var u=Im;Ed=!1,Im=null}else throw Error(B(198));Fm||(Fm=!0,n0=u)}}function Pl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function TA(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function wE(n){if(Pl(n)!==n)throw Error(B(188))}function BP(n){var e=n.alternate;if(!e){if(e=Pl(n),e===null)throw Error(B(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return wE(i),n;if(s===r)return wE(i),e;s=s.sibling}throw Error(B(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(t.alternate!==r)throw Error(B(190))}if(t.tag!==3)throw Error(B(188));return t.stateNode.current===t?n:e}function RA(n){return n=BP(n),n!==null?PA(n):null}function PA(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=PA(n);if(e!==null)return e;n=n.sibling}return null}var LA=lr.unstable_scheduleCallback,_E=lr.unstable_cancelCallback,UP=lr.unstable_shouldYield,HP=lr.unstable_requestPaint,St=lr.unstable_now,$P=lr.unstable_getCurrentPriorityLevel,L_=lr.unstable_ImmediatePriority,MA=lr.unstable_UserBlockingPriority,jm=lr.unstable_NormalPriority,VP=lr.unstable_LowPriority,OA=lr.unstable_IdlePriority,Qg=null,Ti=null;function WP(n){if(Ti&&typeof Ti.onCommitFiberRoot=="function")try{Ti.onCommitFiberRoot(Qg,n,void 0,(n.current.flags&128)===128)}catch{}}var Qr=Math.clz32?Math.clz32:XP,GP=Math.log,qP=Math.LN2;function XP(n){return n>>>=0,n===0?32:31-(GP(n)/qP|0)|0}var Sp=64,xp=4194304;function ed(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function zm(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=ed(a):(s&=o,s!==0&&(r=ed(s)))}else o=t&~i,o!==0?r=ed(o):s!==0&&(r=ed(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Qr(e),i=1<<t,r|=n[t],e&=~i;return r}function KP(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YP(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Qr(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=KP(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function r0(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function DA(){var n=Sp;return Sp<<=1,!(Sp&4194240)&&(Sp=64),n}function tv(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Zf(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Qr(e),n[e]=t}function ZP(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Qr(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function M_(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Qr(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var $e=0;function NA(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var IA,O_,FA,jA,zA,i0=!1,Ap=[],So=null,xo=null,Ao=null,Id=new Map,Fd=new Map,Ks=[],QP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bE(n,e){switch(n){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":xo=null;break;case"mouseover":case"mouseout":Ao=null;break;case"pointerover":case"pointerout":Id.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fd.delete(e.pointerId)}}function zc(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Jf(e),e!==null&&O_(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function JP(n,e,t,r,i){switch(e){case"focusin":return So=zc(So,n,e,t,r,i),!0;case"dragenter":return xo=zc(xo,n,e,t,r,i),!0;case"mouseover":return Ao=zc(Ao,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Id.set(s,zc(Id.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Fd.set(s,zc(Fd.get(s)||null,n,e,t,r,i)),!0}return!1}function BA(n){var e=aa(n.target);if(e!==null){var t=Pl(e);if(t!==null){if(e=t.tag,e===13){if(e=TA(t),e!==null){n.blockedOn=e,zA(n.priority,function(){FA(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Wp(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=s0(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Jv=r,t.target.dispatchEvent(r),Jv=null}else return e=Jf(t),e!==null&&O_(e),n.blockedOn=t,!1;e.shift()}return!0}function EE(n,e,t){Wp(n)&&t.delete(e)}function eL(){i0=!1,So!==null&&Wp(So)&&(So=null),xo!==null&&Wp(xo)&&(xo=null),Ao!==null&&Wp(Ao)&&(Ao=null),Id.forEach(EE),Fd.forEach(EE)}function Bc(n,e){n.blockedOn===e&&(n.blockedOn=null,i0||(i0=!0,lr.unstable_scheduleCallback(lr.unstable_NormalPriority,eL)))}function jd(n){function e(i){return Bc(i,n)}if(0<Ap.length){Bc(Ap[0],n);for(var t=1;t<Ap.length;t++){var r=Ap[t];r.blockedOn===n&&(r.blockedOn=null)}}for(So!==null&&Bc(So,n),xo!==null&&Bc(xo,n),Ao!==null&&Bc(Ao,n),Id.forEach(e),Fd.forEach(e),t=0;t<Ks.length;t++)r=Ks[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Ks.length&&(t=Ks[0],t.blockedOn===null);)BA(t),t.blockedOn===null&&Ks.shift()}var hu=Fs.ReactCurrentBatchConfig,Bm=!0;function tL(n,e,t,r){var i=$e,s=hu.transition;hu.transition=null;try{$e=1,D_(n,e,t,r)}finally{$e=i,hu.transition=s}}function nL(n,e,t,r){var i=$e,s=hu.transition;hu.transition=null;try{$e=4,D_(n,e,t,r)}finally{$e=i,hu.transition=s}}function D_(n,e,t,r){if(Bm){var i=s0(n,e,t,r);if(i===null)dv(n,e,r,Um,t),bE(n,r);else if(JP(i,n,e,t,r))r.stopPropagation();else if(bE(n,r),e&4&&-1<QP.indexOf(n)){for(;i!==null;){var s=Jf(i);if(s!==null&&IA(s),s=s0(n,e,t,r),s===null&&dv(n,e,r,Um,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else dv(n,e,r,null,t)}}var Um=null;function s0(n,e,t,r){if(Um=null,n=P_(r),n=aa(n),n!==null)if(e=Pl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=TA(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Um=n,null}function UA(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($P()){case L_:return 1;case MA:return 4;case jm:case VP:return 16;case OA:return 536870912;default:return 16}default:return 16}}var bo=null,N_=null,Gp=null;function HA(){if(Gp)return Gp;var n,e=N_,t=e.length,r,i="value"in bo?bo.value:bo.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return Gp=i.slice(n,1<r?1-r:void 0)}function qp(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Cp(){return!0}function SE(){return!1}function hr(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cp:SE,this.isPropagationStopped=SE,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Cp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Cp)},persist:function(){},isPersistent:Cp}),e}var Pc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},I_=hr(Pc),Qf=gt({},Pc,{view:0,detail:0}),rL=hr(Qf),nv,rv,Uc,Jg=gt({},Qf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:F_,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Uc&&(Uc&&n.type==="mousemove"?(nv=n.screenX-Uc.screenX,rv=n.screenY-Uc.screenY):rv=nv=0,Uc=n),nv)},movementY:function(n){return"movementY"in n?n.movementY:rv}}),xE=hr(Jg),iL=gt({},Jg,{dataTransfer:0}),sL=hr(iL),oL=gt({},Qf,{relatedTarget:0}),iv=hr(oL),aL=gt({},Pc,{animationName:0,elapsedTime:0,pseudoElement:0}),lL=hr(aL),uL=gt({},Pc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),cL=hr(uL),dL=gt({},Pc,{data:0}),AE=hr(dL),hL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mL(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=pL[n])?!!e[n]:!1}function F_(){return mL}var gL=gt({},Qf,{key:function(n){if(n.key){var e=hL[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=qp(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?fL[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:F_,charCode:function(n){return n.type==="keypress"?qp(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?qp(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),yL=hr(gL),vL=gt({},Jg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),CE=hr(vL),wL=gt({},Qf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:F_}),_L=hr(wL),bL=gt({},Pc,{propertyName:0,elapsedTime:0,pseudoElement:0}),EL=hr(bL),SL=gt({},Jg,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),xL=hr(SL),AL=[9,13,27,32],j_=Rs&&"CompositionEvent"in window,Sd=null;Rs&&"documentMode"in document&&(Sd=document.documentMode);var CL=Rs&&"TextEvent"in window&&!Sd,$A=Rs&&(!j_||Sd&&8<Sd&&11>=Sd),kE=" ",TE=!1;function VA(n,e){switch(n){case"keyup":return AL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WA(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Yl=!1;function kL(n,e){switch(n){case"compositionend":return WA(e);case"keypress":return e.which!==32?null:(TE=!0,kE);case"textInput":return n=e.data,n===kE&&TE?null:n;default:return null}}function TL(n,e){if(Yl)return n==="compositionend"||!j_&&VA(n,e)?(n=HA(),Gp=N_=bo=null,Yl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $A&&e.locale!=="ko"?null:e.data;default:return null}}var RL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RE(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!RL[n.type]:e==="textarea"}function GA(n,e,t,r){SA(r),e=Hm(e,"onChange"),0<e.length&&(t=new I_("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var xd=null,zd=null;function PL(n){r1(n,0)}function ey(n){var e=Jl(n);if(gA(e))return n}function LL(n,e){if(n==="change")return e}var qA=!1;if(Rs){var sv;if(Rs){var ov="oninput"in document;if(!ov){var PE=document.createElement("div");PE.setAttribute("oninput","return;"),ov=typeof PE.oninput=="function"}sv=ov}else sv=!1;qA=sv&&(!document.documentMode||9<document.documentMode)}function LE(){xd&&(xd.detachEvent("onpropertychange",XA),zd=xd=null)}function XA(n){if(n.propertyName==="value"&&ey(zd)){var e=[];GA(e,zd,n,P_(n)),kA(PL,e)}}function ML(n,e,t){n==="focusin"?(LE(),xd=e,zd=t,xd.attachEvent("onpropertychange",XA)):n==="focusout"&&LE()}function OL(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ey(zd)}function DL(n,e){if(n==="click")return ey(e)}function NL(n,e){if(n==="input"||n==="change")return ey(e)}function IL(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ni=typeof Object.is=="function"?Object.is:IL;function Bd(n,e){if(ni(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!Uv.call(e,i)||!ni(n[i],e[i]))return!1}return!0}function ME(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function OE(n,e){var t=ME(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=ME(t)}}function KA(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?KA(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function YA(){for(var n=window,e=Nm();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Nm(n.document)}return e}function z_(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function FL(n){var e=YA(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&KA(t.ownerDocument.documentElement,t)){if(r!==null&&z_(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=OE(t,s);var o=OE(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var jL=Rs&&"documentMode"in document&&11>=document.documentMode,Zl=null,o0=null,Ad=null,a0=!1;function DE(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;a0||Zl==null||Zl!==Nm(r)||(r=Zl,"selectionStart"in r&&z_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ad&&Bd(Ad,r)||(Ad=r,r=Hm(o0,"onSelect"),0<r.length&&(e=new I_("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Zl)))}function kp(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Ql={animationend:kp("Animation","AnimationEnd"),animationiteration:kp("Animation","AnimationIteration"),animationstart:kp("Animation","AnimationStart"),transitionend:kp("Transition","TransitionEnd")},av={},ZA={};Rs&&(ZA=document.createElement("div").style,"AnimationEvent"in window||(delete Ql.animationend.animation,delete Ql.animationiteration.animation,delete Ql.animationstart.animation),"TransitionEvent"in window||delete Ql.transitionend.transition);function ty(n){if(av[n])return av[n];if(!Ql[n])return n;var e=Ql[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in ZA)return av[n]=e[t];return n}var QA=ty("animationend"),JA=ty("animationiteration"),e1=ty("animationstart"),t1=ty("transitionend"),n1=new Map,NE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Uo(n,e){n1.set(n,e),Rl(e,[n])}for(var lv=0;lv<NE.length;lv++){var uv=NE[lv],zL=uv.toLowerCase(),BL=uv[0].toUpperCase()+uv.slice(1);Uo(zL,"on"+BL)}Uo(QA,"onAnimationEnd");Uo(JA,"onAnimationIteration");Uo(e1,"onAnimationStart");Uo("dblclick","onDoubleClick");Uo("focusin","onFocus");Uo("focusout","onBlur");Uo(t1,"onTransitionEnd");mc("onMouseEnter",["mouseout","mouseover"]);mc("onMouseLeave",["mouseout","mouseover"]);mc("onPointerEnter",["pointerout","pointerover"]);mc("onPointerLeave",["pointerout","pointerover"]);Rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UL=new Set("cancel close invalid load scroll toggle".split(" ").concat(td));function IE(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,zP(r,e,void 0,n),n.currentTarget=null}function r1(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;IE(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;IE(i,a,u),s=l}}}if(Fm)throw n=n0,Fm=!1,n0=null,n}function it(n,e){var t=e[h0];t===void 0&&(t=e[h0]=new Set);var r=n+"__bubble";t.has(r)||(i1(e,n,2,!1),t.add(r))}function cv(n,e,t){var r=0;e&&(r|=4),i1(t,n,r,e)}var Tp="_reactListening"+Math.random().toString(36).slice(2);function Ud(n){if(!n[Tp]){n[Tp]=!0,dA.forEach(function(t){t!=="selectionchange"&&(UL.has(t)||cv(t,!1,n),cv(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Tp]||(e[Tp]=!0,cv("selectionchange",!1,e))}}function i1(n,e,t,r){switch(UA(e)){case 1:var i=tL;break;case 4:i=nL;break;default:i=D_}t=i.bind(null,e,t,n),i=void 0,!t0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function dv(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=aa(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}kA(function(){var u=s,d=P_(t),h=[];e:{var f=n1.get(n);if(f!==void 0){var p=I_,m=n;switch(n){case"keypress":if(qp(t)===0)break e;case"keydown":case"keyup":p=yL;break;case"focusin":m="focus",p=iv;break;case"focusout":m="blur",p=iv;break;case"beforeblur":case"afterblur":p=iv;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=xE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=sL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=_L;break;case QA:case JA:case e1:p=lL;break;case t1:p=EL;break;case"scroll":p=rL;break;case"wheel":p=xL;break;case"copy":case"cut":case"paste":p=cL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=CE}var y=(e&4)!==0,_=!y&&n==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=u,w;v!==null;){w=v;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,g!==null&&(x=Nd(v,g),x!=null&&y.push(Hd(v,x,w)))),_)break;v=v.return}0<y.length&&(f=new p(f,m,null,t,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==Jv&&(m=t.relatedTarget||t.fromElement)&&(aa(m)||m[Ps]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=t.relatedTarget||t.toElement,p=u,m=m?aa(m):null,m!==null&&(_=Pl(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(y=xE,x="onMouseLeave",g="onMouseEnter",v="mouse",(n==="pointerout"||n==="pointerover")&&(y=CE,x="onPointerLeave",g="onPointerEnter",v="pointer"),_=p==null?f:Jl(p),w=m==null?f:Jl(m),f=new y(x,v+"leave",p,t,d),f.target=_,f.relatedTarget=w,x=null,aa(d)===u&&(y=new y(g,v+"enter",m,t,d),y.target=w,y.relatedTarget=_,x=y),_=x,p&&m)t:{for(y=p,g=m,v=0,w=y;w;w=zl(w))v++;for(w=0,x=g;x;x=zl(x))w++;for(;0<v-w;)y=zl(y),v--;for(;0<w-v;)g=zl(g),w--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=zl(y),g=zl(g)}y=null}else y=null;p!==null&&FE(h,f,p,y,!1),m!==null&&_!==null&&FE(h,_,m,y,!0)}}e:{if(f=u?Jl(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=LL;else if(RE(f))if(qA)C=NL;else{C=OL;var k=ML}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=DL);if(C&&(C=C(n,u))){GA(h,C,t,d);break e}k&&k(n,f,u),n==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Xv(f,"number",f.value)}switch(k=u?Jl(u):window,n){case"focusin":(RE(k)||k.contentEditable==="true")&&(Zl=k,o0=u,Ad=null);break;case"focusout":Ad=o0=Zl=null;break;case"mousedown":a0=!0;break;case"contextmenu":case"mouseup":case"dragend":a0=!1,DE(h,t,d);break;case"selectionchange":if(jL)break;case"keydown":case"keyup":DE(h,t,d)}var P;if(j_)e:{switch(n){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Yl?VA(n,t)&&(A="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(A="onCompositionStart");A&&($A&&t.locale!=="ko"&&(Yl||A!=="onCompositionStart"?A==="onCompositionEnd"&&Yl&&(P=HA()):(bo=d,N_="value"in bo?bo.value:bo.textContent,Yl=!0)),k=Hm(u,A),0<k.length&&(A=new AE(A,n,null,t,d),h.push({event:A,listeners:k}),P?A.data=P:(P=WA(t),P!==null&&(A.data=P)))),(P=CL?kL(n,t):TL(n,t))&&(u=Hm(u,"onBeforeInput"),0<u.length&&(d=new AE("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=P))}r1(h,e)})}function Hd(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Hm(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Nd(n,t),s!=null&&r.unshift(Hd(n,s,i)),s=Nd(n,e),s!=null&&r.push(Hd(n,s,i))),n=n.return}return r}function zl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function FE(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Nd(t,s),l!=null&&o.unshift(Hd(t,l,a))):i||(l=Nd(t,s),l!=null&&o.push(Hd(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var HL=/\r\n?/g,$L=/\u0000|\uFFFD/g;function jE(n){return(typeof n=="string"?n:""+n).replace(HL,`
`).replace($L,"")}function Rp(n,e,t){if(e=jE(e),jE(n)!==e&&t)throw Error(B(425))}function $m(){}var l0=null,u0=null;function c0(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var d0=typeof setTimeout=="function"?setTimeout:void 0,VL=typeof clearTimeout=="function"?clearTimeout:void 0,zE=typeof Promise=="function"?Promise:void 0,WL=typeof queueMicrotask=="function"?queueMicrotask:typeof zE<"u"?function(n){return zE.resolve(null).then(n).catch(GL)}:d0;function GL(n){setTimeout(function(){throw n})}function hv(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),jd(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);jd(e)}function Co(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function BE(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Lc=Math.random().toString(36).slice(2),Ci="__reactFiber$"+Lc,$d="__reactProps$"+Lc,Ps="__reactContainer$"+Lc,h0="__reactEvents$"+Lc,qL="__reactListeners$"+Lc,XL="__reactHandles$"+Lc;function aa(n){var e=n[Ci];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ps]||t[Ci]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=BE(n);n!==null;){if(t=n[Ci])return t;n=BE(n)}return e}n=t,t=n.parentNode}return null}function Jf(n){return n=n[Ci]||n[Ps],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Jl(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(B(33))}function ny(n){return n[$d]||null}var f0=[],eu=-1;function Ho(n){return{current:n}}function st(n){0>eu||(n.current=f0[eu],f0[eu]=null,eu--)}function rt(n,e){eu++,f0[eu]=n.current,n.current=e}var Mo={},pn=Ho(Mo),In=Ho(!1),hl=Mo;function gc(n,e){var t=n.type.contextTypes;if(!t)return Mo;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Fn(n){return n=n.childContextTypes,n!=null}function Vm(){st(In),st(pn)}function UE(n,e,t){if(pn.current!==Mo)throw Error(B(168));rt(pn,e),rt(In,t)}function s1(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,MP(n)||"Unknown",i));return gt({},t,r)}function Wm(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Mo,hl=pn.current,rt(pn,n),rt(In,In.current),!0}function HE(n,e,t){var r=n.stateNode;if(!r)throw Error(B(169));t?(n=s1(n,e,hl),r.__reactInternalMemoizedMergedChildContext=n,st(In),st(pn),rt(pn,n)):st(In),rt(In,t)}var Xi=null,ry=!1,fv=!1;function o1(n){Xi===null?Xi=[n]:Xi.push(n)}function KL(n){ry=!0,o1(n)}function $o(){if(!fv&&Xi!==null){fv=!0;var n=0,e=$e;try{var t=Xi;for($e=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Xi=null,ry=!1}catch(i){throw Xi!==null&&(Xi=Xi.slice(n+1)),LA(L_,$o),i}finally{$e=e,fv=!1}}return null}var tu=[],nu=0,Gm=null,qm=0,Er=[],Sr=0,fl=null,_s=1,bs="";function Qo(n,e){tu[nu++]=qm,tu[nu++]=Gm,Gm=n,qm=e}function a1(n,e,t){Er[Sr++]=_s,Er[Sr++]=bs,Er[Sr++]=fl,fl=n;var r=_s;n=bs;var i=32-Qr(r)-1;r&=~(1<<i),t+=1;var s=32-Qr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_s=1<<32-Qr(e)+i|t<<i|r,bs=s+n}else _s=1<<s|t<<i|r,bs=n}function B_(n){n.return!==null&&(Qo(n,1),a1(n,1,0))}function U_(n){for(;n===Gm;)Gm=tu[--nu],tu[nu]=null,qm=tu[--nu],tu[nu]=null;for(;n===fl;)fl=Er[--Sr],Er[Sr]=null,bs=Er[--Sr],Er[Sr]=null,_s=Er[--Sr],Er[Sr]=null}var sr=null,rr=null,at=!1,Kr=null;function l1(n,e){var t=Cr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function $E(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,sr=n,rr=Co(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,sr=n,rr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=fl!==null?{id:_s,overflow:bs}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Cr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,sr=n,rr=null,!0):!1;default:return!1}}function p0(n){return(n.mode&1)!==0&&(n.flags&128)===0}function m0(n){if(at){var e=rr;if(e){var t=e;if(!$E(n,e)){if(p0(n))throw Error(B(418));e=Co(t.nextSibling);var r=sr;e&&$E(n,e)?l1(r,t):(n.flags=n.flags&-4097|2,at=!1,sr=n)}}else{if(p0(n))throw Error(B(418));n.flags=n.flags&-4097|2,at=!1,sr=n}}}function VE(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;sr=n}function Pp(n){if(n!==sr)return!1;if(!at)return VE(n),at=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!c0(n.type,n.memoizedProps)),e&&(e=rr)){if(p0(n))throw u1(),Error(B(418));for(;e;)l1(n,e),e=Co(e.nextSibling)}if(VE(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(B(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){rr=Co(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}rr=null}}else rr=sr?Co(n.stateNode.nextSibling):null;return!0}function u1(){for(var n=rr;n;)n=Co(n.nextSibling)}function yc(){rr=sr=null,at=!1}function H_(n){Kr===null?Kr=[n]:Kr.push(n)}var YL=Fs.ReactCurrentBatchConfig;function Hc(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(B(309));var r=t.stateNode}if(!r)throw Error(B(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(B(284));if(!t._owner)throw Error(B(290,n))}return n}function Lp(n,e){throw n=Object.prototype.toString.call(e),Error(B(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function WE(n){var e=n._init;return e(n._payload)}function c1(n){function e(g,v){if(n){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function t(g,v){if(!n)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Po(g,v),g.index=0,g.sibling=null,g}function s(g,v,w){return g.index=w,n?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,v,w,x){return v===null||v.tag!==6?(v=_v(w,g.mode,x),v.return=g,v):(v=i(v,w),v.return=g,v)}function l(g,v,w,x){var C=w.type;return C===Kl?d(g,v,w.props.children,x,w.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===qs&&WE(C)===v.type)?(x=i(v,w.props),x.ref=Hc(g,v,w),x.return=g,x):(x=em(w.type,w.key,w.props,null,g.mode,x),x.ref=Hc(g,v,w),x.return=g,x)}function u(g,v,w,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=bv(w,g.mode,x),v.return=g,v):(v=i(v,w.children||[]),v.return=g,v)}function d(g,v,w,x,C){return v===null||v.tag!==7?(v=ul(w,g.mode,x,C),v.return=g,v):(v=i(v,w),v.return=g,v)}function h(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=_v(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case _p:return w=em(v.type,v.key,v.props,null,g.mode,w),w.ref=Hc(g,null,v),w.return=g,w;case Xl:return v=bv(v,g.mode,w),v.return=g,v;case qs:var x=v._init;return h(g,x(v._payload),w)}if(Jc(v)||Fc(v))return v=ul(v,g.mode,w,null),v.return=g,v;Lp(g,v)}return null}function f(g,v,w,x){var C=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:a(g,v,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _p:return w.key===C?l(g,v,w,x):null;case Xl:return w.key===C?u(g,v,w,x):null;case qs:return C=w._init,f(g,v,C(w._payload),x)}if(Jc(w)||Fc(w))return C!==null?null:d(g,v,w,x,null);Lp(g,w)}return null}function p(g,v,w,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(w)||null,a(v,g,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _p:return g=g.get(x.key===null?w:x.key)||null,l(v,g,x,C);case Xl:return g=g.get(x.key===null?w:x.key)||null,u(v,g,x,C);case qs:var k=x._init;return p(g,v,w,k(x._payload),C)}if(Jc(x)||Fc(x))return g=g.get(w)||null,d(v,g,x,C,null);Lp(v,x)}return null}function m(g,v,w,x){for(var C=null,k=null,P=v,A=v=0,D=null;P!==null&&A<w.length;A++){P.index>A?(D=P,P=null):D=P.sibling;var I=f(g,P,w[A],x);if(I===null){P===null&&(P=D);break}n&&P&&I.alternate===null&&e(g,P),v=s(I,v,A),k===null?C=I:k.sibling=I,k=I,P=D}if(A===w.length)return t(g,P),at&&Qo(g,A),C;if(P===null){for(;A<w.length;A++)P=h(g,w[A],x),P!==null&&(v=s(P,v,A),k===null?C=P:k.sibling=P,k=P);return at&&Qo(g,A),C}for(P=r(g,P);A<w.length;A++)D=p(P,g,A,w[A],x),D!==null&&(n&&D.alternate!==null&&P.delete(D.key===null?A:D.key),v=s(D,v,A),k===null?C=D:k.sibling=D,k=D);return n&&P.forEach(function(j){return e(g,j)}),at&&Qo(g,A),C}function y(g,v,w,x){var C=Fc(w);if(typeof C!="function")throw Error(B(150));if(w=C.call(w),w==null)throw Error(B(151));for(var k=C=null,P=v,A=v=0,D=null,I=w.next();P!==null&&!I.done;A++,I=w.next()){P.index>A?(D=P,P=null):D=P.sibling;var j=f(g,P,I.value,x);if(j===null){P===null&&(P=D);break}n&&P&&j.alternate===null&&e(g,P),v=s(j,v,A),k===null?C=j:k.sibling=j,k=j,P=D}if(I.done)return t(g,P),at&&Qo(g,A),C;if(P===null){for(;!I.done;A++,I=w.next())I=h(g,I.value,x),I!==null&&(v=s(I,v,A),k===null?C=I:k.sibling=I,k=I);return at&&Qo(g,A),C}for(P=r(g,P);!I.done;A++,I=w.next())I=p(P,g,A,I.value,x),I!==null&&(n&&I.alternate!==null&&P.delete(I.key===null?A:I.key),v=s(I,v,A),k===null?C=I:k.sibling=I,k=I);return n&&P.forEach(function(ne){return e(g,ne)}),at&&Qo(g,A),C}function _(g,v,w,x){if(typeof w=="object"&&w!==null&&w.type===Kl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case _p:e:{for(var C=w.key,k=v;k!==null;){if(k.key===C){if(C=w.type,C===Kl){if(k.tag===7){t(g,k.sibling),v=i(k,w.props.children),v.return=g,g=v;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===qs&&WE(C)===k.type){t(g,k.sibling),v=i(k,w.props),v.ref=Hc(g,k,w),v.return=g,g=v;break e}t(g,k);break}else e(g,k);k=k.sibling}w.type===Kl?(v=ul(w.props.children,g.mode,x,w.key),v.return=g,g=v):(x=em(w.type,w.key,w.props,null,g.mode,x),x.ref=Hc(g,v,w),x.return=g,g=x)}return o(g);case Xl:e:{for(k=w.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){t(g,v.sibling),v=i(v,w.children||[]),v.return=g,g=v;break e}else{t(g,v);break}else e(g,v);v=v.sibling}v=bv(w,g.mode,x),v.return=g,g=v}return o(g);case qs:return k=w._init,_(g,v,k(w._payload),x)}if(Jc(w))return m(g,v,w,x);if(Fc(w))return y(g,v,w,x);Lp(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(t(g,v.sibling),v=i(v,w),v.return=g,g=v):(t(g,v),v=_v(w,g.mode,x),v.return=g,g=v),o(g)):t(g,v)}return _}var vc=c1(!0),d1=c1(!1),Xm=Ho(null),Km=null,ru=null,$_=null;function V_(){$_=ru=Km=null}function W_(n){var e=Xm.current;st(Xm),n._currentValue=e}function g0(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function fu(n,e){Km=n,$_=ru=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(On=!0),n.firstContext=null)}function Tr(n){var e=n._currentValue;if($_!==n)if(n={context:n,memoizedValue:e,next:null},ru===null){if(Km===null)throw Error(B(308));ru=n,Km.dependencies={lanes:0,firstContext:n}}else ru=ru.next=n;return e}var la=null;function G_(n){la===null?la=[n]:la.push(n)}function h1(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,G_(e)):(t.next=i.next,i.next=t),e.interleaved=t,Ls(n,r)}function Ls(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Xs=!1;function q_(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f1(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ss(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ko(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ls(n,t)}return i=r.interleaved,i===null?(e.next=e,G_(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ls(n,t)}function Xp(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,M_(n,t)}}function GE(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Ym(n,e,t,r){var i=n.updateQueue;Xs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=n,y=a;switch(f=e,p=t,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=gt({},h,f);break e;case 2:Xs=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ml|=o,n.lanes=o,n.memoizedState=h}}function qE(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var ep={},Ri=Ho(ep),Vd=Ho(ep),Wd=Ho(ep);function ua(n){if(n===ep)throw Error(B(174));return n}function X_(n,e){switch(rt(Wd,e),rt(Vd,n),rt(Ri,ep),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yv(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Yv(e,n)}st(Ri),rt(Ri,e)}function wc(){st(Ri),st(Vd),st(Wd)}function p1(n){ua(Wd.current);var e=ua(Ri.current),t=Yv(e,n.type);e!==t&&(rt(Vd,n),rt(Ri,t))}function K_(n){Vd.current===n&&(st(Ri),st(Vd))}var pt=Ho(0);function Zm(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pv=[];function Y_(){for(var n=0;n<pv.length;n++)pv[n]._workInProgressVersionPrimary=null;pv.length=0}var Kp=Fs.ReactCurrentDispatcher,mv=Fs.ReactCurrentBatchConfig,pl=0,mt=null,Ft=null,$t=null,Qm=!1,Cd=!1,Gd=0,ZL=0;function sn(){throw Error(B(321))}function Z_(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ni(n[t],e[t]))return!1;return!0}function Q_(n,e,t,r,i,s){if(pl=s,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kp.current=n===null||n.memoizedState===null?tM:nM,n=t(r,i),Cd){s=0;do{if(Cd=!1,Gd=0,25<=s)throw Error(B(301));s+=1,$t=Ft=null,e.updateQueue=null,Kp.current=rM,n=t(r,i)}while(Cd)}if(Kp.current=Jm,e=Ft!==null&&Ft.next!==null,pl=0,$t=Ft=mt=null,Qm=!1,e)throw Error(B(300));return n}function J_(){var n=Gd!==0;return Gd=0,n}function ui(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?mt.memoizedState=$t=n:$t=$t.next=n,$t}function Rr(){if(Ft===null){var n=mt.alternate;n=n!==null?n.memoizedState:null}else n=Ft.next;var e=$t===null?mt.memoizedState:$t.next;if(e!==null)$t=e,Ft=n;else{if(n===null)throw Error(B(310));Ft=n,n={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},$t===null?mt.memoizedState=$t=n:$t=$t.next=n}return $t}function qd(n,e){return typeof e=="function"?e(n):e}function gv(n){var e=Rr(),t=e.queue;if(t===null)throw Error(B(311));t.lastRenderedReducer=n;var r=Ft,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((pl&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,mt.lanes|=d,ml|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ni(r,e.memoizedState)||(On=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,mt.lanes|=s,ml|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function yv(n){var e=Rr(),t=e.queue;if(t===null)throw Error(B(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);ni(s,e.memoizedState)||(On=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function m1(){}function g1(n,e){var t=mt,r=Rr(),i=e(),s=!ni(r.memoizedState,i);if(s&&(r.memoizedState=i,On=!0),r=r.queue,eb(w1.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||$t!==null&&$t.memoizedState.tag&1){if(t.flags|=2048,Xd(9,v1.bind(null,t,r,i,e),void 0,null),Vt===null)throw Error(B(349));pl&30||y1(t,e,i)}return i}function y1(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function v1(n,e,t,r){e.value=t,e.getSnapshot=r,_1(e)&&b1(n)}function w1(n,e,t){return t(function(){_1(e)&&b1(n)})}function _1(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ni(n,t)}catch{return!0}}function b1(n){var e=Ls(n,1);e!==null&&Jr(e,n,1,-1)}function XE(n){var e=ui();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qd,lastRenderedState:n},e.queue=n,n=n.dispatch=eM.bind(null,mt,n),[e.memoizedState,n]}function Xd(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function E1(){return Rr().memoizedState}function Yp(n,e,t,r){var i=ui();mt.flags|=n,i.memoizedState=Xd(1|e,t,void 0,r===void 0?null:r)}function iy(n,e,t,r){var i=Rr();r=r===void 0?null:r;var s=void 0;if(Ft!==null){var o=Ft.memoizedState;if(s=o.destroy,r!==null&&Z_(r,o.deps)){i.memoizedState=Xd(e,t,s,r);return}}mt.flags|=n,i.memoizedState=Xd(1|e,t,s,r)}function KE(n,e){return Yp(8390656,8,n,e)}function eb(n,e){return iy(2048,8,n,e)}function S1(n,e){return iy(4,2,n,e)}function x1(n,e){return iy(4,4,n,e)}function A1(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function C1(n,e,t){return t=t!=null?t.concat([n]):null,iy(4,4,A1.bind(null,e,n),t)}function tb(){}function k1(n,e){var t=Rr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Z_(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function T1(n,e){var t=Rr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Z_(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function R1(n,e,t){return pl&21?(ni(t,e)||(t=DA(),mt.lanes|=t,ml|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,On=!0),n.memoizedState=t)}function QL(n,e){var t=$e;$e=t!==0&&4>t?t:4,n(!0);var r=mv.transition;mv.transition={};try{n(!1),e()}finally{$e=t,mv.transition=r}}function P1(){return Rr().memoizedState}function JL(n,e,t){var r=Ro(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},L1(n))M1(e,t);else if(t=h1(n,e,t,r),t!==null){var i=En();Jr(t,n,r,i),O1(t,e,r)}}function eM(n,e,t){var r=Ro(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(L1(n))M1(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,ni(a,o)){var l=e.interleaved;l===null?(i.next=i,G_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=h1(n,e,i,r),t!==null&&(i=En(),Jr(t,n,r,i),O1(t,e,r))}}function L1(n){var e=n.alternate;return n===mt||e!==null&&e===mt}function M1(n,e){Cd=Qm=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function O1(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,M_(n,t)}}var Jm={readContext:Tr,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},tM={readContext:Tr,useCallback:function(n,e){return ui().memoizedState=[n,e===void 0?null:e],n},useContext:Tr,useEffect:KE,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Yp(4194308,4,A1.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Yp(4194308,4,n,e)},useInsertionEffect:function(n,e){return Yp(4,2,n,e)},useMemo:function(n,e){var t=ui();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=ui();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=JL.bind(null,mt,n),[r.memoizedState,n]},useRef:function(n){var e=ui();return n={current:n},e.memoizedState=n},useState:XE,useDebugValue:tb,useDeferredValue:function(n){return ui().memoizedState=n},useTransition:function(){var n=XE(!1),e=n[0];return n=QL.bind(null,n[1]),ui().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=mt,i=ui();if(at){if(t===void 0)throw Error(B(407));t=t()}else{if(t=e(),Vt===null)throw Error(B(349));pl&30||y1(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,KE(w1.bind(null,r,s,n),[n]),r.flags|=2048,Xd(9,v1.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=ui(),e=Vt.identifierPrefix;if(at){var t=bs,r=_s;t=(r&~(1<<32-Qr(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Gd++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=ZL++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},nM={readContext:Tr,useCallback:k1,useContext:Tr,useEffect:eb,useImperativeHandle:C1,useInsertionEffect:S1,useLayoutEffect:x1,useMemo:T1,useReducer:gv,useRef:E1,useState:function(){return gv(qd)},useDebugValue:tb,useDeferredValue:function(n){var e=Rr();return R1(e,Ft.memoizedState,n)},useTransition:function(){var n=gv(qd)[0],e=Rr().memoizedState;return[n,e]},useMutableSource:m1,useSyncExternalStore:g1,useId:P1,unstable_isNewReconciler:!1},rM={readContext:Tr,useCallback:k1,useContext:Tr,useEffect:eb,useImperativeHandle:C1,useInsertionEffect:S1,useLayoutEffect:x1,useMemo:T1,useReducer:yv,useRef:E1,useState:function(){return yv(qd)},useDebugValue:tb,useDeferredValue:function(n){var e=Rr();return Ft===null?e.memoizedState=n:R1(e,Ft.memoizedState,n)},useTransition:function(){var n=yv(qd)[0],e=Rr().memoizedState;return[n,e]},useMutableSource:m1,useSyncExternalStore:g1,useId:P1,unstable_isNewReconciler:!1};function Mr(n,e){if(n&&n.defaultProps){e=gt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function y0(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:gt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var sy={isMounted:function(n){return(n=n._reactInternals)?Pl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=En(),i=Ro(n),s=Ss(r,i);s.payload=e,t!=null&&(s.callback=t),e=ko(n,s,i),e!==null&&(Jr(e,n,i,r),Xp(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=En(),i=Ro(n),s=Ss(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=ko(n,s,i),e!==null&&(Jr(e,n,i,r),Xp(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=En(),r=Ro(n),i=Ss(t,r);i.tag=2,e!=null&&(i.callback=e),e=ko(n,i,r),e!==null&&(Jr(e,n,r,t),Xp(e,n,r))}};function YE(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Bd(t,r)||!Bd(i,s):!0}function D1(n,e,t){var r=!1,i=Mo,s=e.contextType;return typeof s=="object"&&s!==null?s=Tr(s):(i=Fn(e)?hl:pn.current,r=e.contextTypes,s=(r=r!=null)?gc(n,i):Mo),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sy,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function ZE(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&sy.enqueueReplaceState(e,e.state,null)}function v0(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},q_(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Tr(s):(s=Fn(e)?hl:pn.current,i.context=gc(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(y0(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&sy.enqueueReplaceState(i,i.state,null),Ym(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function _c(n,e){try{var t="",r=e;do t+=LP(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function vv(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function w0(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var iM=typeof WeakMap=="function"?WeakMap:Map;function N1(n,e,t){t=Ss(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){tg||(tg=!0,R0=r),w0(n,e)},t}function I1(n,e,t){t=Ss(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){w0(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){w0(n,e),typeof r!="function"&&(To===null?To=new Set([this]):To.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function QE(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new iM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=vM.bind(null,n,e,t),e.then(n,n))}function JE(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function eS(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ss(-1,1),e.tag=2,ko(t,e,1))),t.lanes|=1),n)}var sM=Fs.ReactCurrentOwner,On=!1;function _n(n,e,t,r){e.child=n===null?d1(e,null,t,r):vc(e,n.child,t,r)}function tS(n,e,t,r,i){t=t.render;var s=e.ref;return fu(e,i),r=Q_(n,e,t,r,s,i),t=J_(),n!==null&&!On?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ms(n,e,i)):(at&&t&&B_(e),e.flags|=1,_n(n,e,r,i),e.child)}function nS(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!ub(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,F1(n,e,s,r,i)):(n=em(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Bd,t(o,r)&&n.ref===e.ref)return Ms(n,e,i)}return e.flags|=1,n=Po(s,r),n.ref=e.ref,n.return=e,e.child=n}function F1(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Bd(s,r)&&n.ref===e.ref)if(On=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(On=!0);else return e.lanes=n.lanes,Ms(n,e,i)}return _0(n,e,t,r,i)}function j1(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(su,er),er|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,rt(su,er),er|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,rt(su,er),er|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,rt(su,er),er|=r;return _n(n,e,i,t),e.child}function z1(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function _0(n,e,t,r,i){var s=Fn(t)?hl:pn.current;return s=gc(e,s),fu(e,i),t=Q_(n,e,t,r,s,i),r=J_(),n!==null&&!On?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ms(n,e,i)):(at&&r&&B_(e),e.flags|=1,_n(n,e,t,i),e.child)}function rS(n,e,t,r,i){if(Fn(t)){var s=!0;Wm(e)}else s=!1;if(fu(e,i),e.stateNode===null)Zp(n,e),D1(e,t,r),v0(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=Tr(u):(u=Fn(t)?hl:pn.current,u=gc(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ZE(e,o,r,u),Xs=!1;var f=e.memoizedState;o.state=f,Ym(e,r,o,i),l=e.memoizedState,a!==r||f!==l||In.current||Xs?(typeof d=="function"&&(y0(e,t,d,r),l=e.memoizedState),(a=Xs||YE(e,t,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,f1(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Mr(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Tr(l):(l=Fn(t)?hl:pn.current,l=gc(e,l));var p=t.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&ZE(e,o,r,l),Xs=!1,f=e.memoizedState,o.state=f,Ym(e,r,o,i);var m=e.memoizedState;a!==h||f!==m||In.current||Xs?(typeof p=="function"&&(y0(e,t,p,r),m=e.memoizedState),(u=Xs||YE(e,t,u,r,f,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return b0(n,e,t,r,s,i)}function b0(n,e,t,r,i,s){z1(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&HE(e,t,!1),Ms(n,e,s);r=e.stateNode,sM.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=vc(e,n.child,null,s),e.child=vc(e,null,a,s)):_n(n,e,a,s),e.memoizedState=r.state,i&&HE(e,t,!0),e.child}function B1(n){var e=n.stateNode;e.pendingContext?UE(n,e.pendingContext,e.pendingContext!==e.context):e.context&&UE(n,e.context,!1),X_(n,e.containerInfo)}function iS(n,e,t,r,i){return yc(),H_(i),e.flags|=256,_n(n,e,t,r),e.child}var E0={dehydrated:null,treeContext:null,retryLane:0};function S0(n){return{baseLanes:n,cachePool:null,transitions:null}}function U1(n,e,t){var r=e.pendingProps,i=pt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),rt(pt,i&1),n===null)return m0(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ly(o,r,0,null),n=ul(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=S0(t),e.memoizedState=E0,n):nb(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return oM(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Po(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Po(a,s):(s=ul(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?S0(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=E0,r}return s=n.child,n=s.sibling,r=Po(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function nb(n,e){return e=ly({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Mp(n,e,t,r){return r!==null&&H_(r),vc(e,n.child,null,t),n=nb(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function oM(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=vv(Error(B(422))),Mp(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ly({mode:"visible",children:r.children},i,0,null),s=ul(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&vc(e,n.child,null,o),e.child.memoizedState=S0(o),e.memoizedState=E0,s);if(!(e.mode&1))return Mp(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=vv(s,r,void 0),Mp(n,e,o,r)}if(a=(o&n.childLanes)!==0,On||a){if(r=Vt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ls(n,i),Jr(r,n,i,-1))}return lb(),r=vv(Error(B(421))),Mp(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=wM.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,rr=Co(i.nextSibling),sr=e,at=!0,Kr=null,n!==null&&(Er[Sr++]=_s,Er[Sr++]=bs,Er[Sr++]=fl,_s=n.id,bs=n.overflow,fl=e),e=nb(e,r.children),e.flags|=4096,e)}function sS(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),g0(n.return,e,t)}function wv(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function H1(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(_n(n,e,r.children,t),r=pt.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&sS(n,t,e);else if(n.tag===19)sS(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(rt(pt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Zm(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),wv(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Zm(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}wv(e,!0,t,null,s);break;case"together":wv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zp(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ms(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ml|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(B(153));if(e.child!==null){for(n=e.child,t=Po(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Po(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function aM(n,e,t){switch(e.tag){case 3:B1(e),yc();break;case 5:p1(e);break;case 1:Fn(e.type)&&Wm(e);break;case 4:X_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;rt(Xm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rt(pt,pt.current&1),e.flags|=128,null):t&e.child.childLanes?U1(n,e,t):(rt(pt,pt.current&1),n=Ms(n,e,t),n!==null?n.sibling:null);rt(pt,pt.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return H1(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(pt,pt.current),r)break;return null;case 22:case 23:return e.lanes=0,j1(n,e,t)}return Ms(n,e,t)}var $1,x0,V1,W1;$1=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};x0=function(){};V1=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,ua(Ri.current);var s=null;switch(t){case"input":i=Gv(n,i),r=Gv(n,r),s=[];break;case"select":i=gt({},i,{value:void 0}),r=gt({},r,{value:void 0}),s=[];break;case"textarea":i=Kv(n,i),r=Kv(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=$m)}Zv(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Od.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Od.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&it("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};W1=function(n,e,t,r){t!==r&&(e.flags|=4)};function $c(n,e){if(!at)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function on(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function lM(n,e,t){var r=e.pendingProps;switch(U_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(e),null;case 1:return Fn(e.type)&&Vm(),on(e),null;case 3:return r=e.stateNode,wc(),st(In),st(pn),Y_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Pp(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kr!==null&&(M0(Kr),Kr=null))),x0(n,e),on(e),null;case 5:K_(e);var i=ua(Wd.current);if(t=e.type,n!==null&&e.stateNode!=null)V1(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return on(e),null}if(n=ua(Ri.current),Pp(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Ci]=e,r[$d]=s,n=(e.mode&1)!==0,t){case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":case"embed":it("load",r);break;case"video":case"audio":for(i=0;i<td.length;i++)it(td[i],r);break;case"source":it("error",r);break;case"img":case"image":case"link":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"input":pE(r,s),it("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},it("invalid",r);break;case"textarea":gE(r,s),it("invalid",r)}Zv(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Rp(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Rp(r.textContent,a,n),i=["children",""+a]):Od.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&it("scroll",r)}switch(t){case"input":bp(r),mE(r,s,!0);break;case"textarea":bp(r),yE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=$m)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=wA(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Ci]=e,n[$d]=r,$1(n,e,!1,!1),e.stateNode=n;e:{switch(o=Qv(t,r),t){case"dialog":it("cancel",n),it("close",n),i=r;break;case"iframe":case"object":case"embed":it("load",n),i=r;break;case"video":case"audio":for(i=0;i<td.length;i++)it(td[i],n);i=r;break;case"source":it("error",n),i=r;break;case"img":case"image":case"link":it("error",n),it("load",n),i=r;break;case"details":it("toggle",n),i=r;break;case"input":pE(n,r),i=Gv(n,r),it("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=gt({},r,{value:void 0}),it("invalid",n);break;case"textarea":gE(n,r),i=Kv(n,r),it("invalid",n);break;default:i=r}Zv(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?EA(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_A(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Dd(n,l):typeof l=="number"&&Dd(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Od.hasOwnProperty(s)?l!=null&&s==="onScroll"&&it("scroll",n):l!=null&&C_(n,s,l,o))}switch(t){case"input":bp(n),mE(n,r,!1);break;case"textarea":bp(n),yE(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Lo(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?uu(n,!!r.multiple,s,!1):r.defaultValue!=null&&uu(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=$m)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return on(e),null;case 6:if(n&&e.stateNode!=null)W1(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(t=ua(Wd.current),ua(Ri.current),Pp(e)){if(r=e.stateNode,t=e.memoizedProps,r[Ci]=e,(s=r.nodeValue!==t)&&(n=sr,n!==null))switch(n.tag){case 3:Rp(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Rp(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Ci]=e,e.stateNode=r}return on(e),null;case 13:if(st(pt),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(at&&rr!==null&&e.mode&1&&!(e.flags&128))u1(),yc(),e.flags|=98560,s=!1;else if(s=Pp(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Ci]=e}else yc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;on(e),s=!1}else Kr!==null&&(M0(Kr),Kr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||pt.current&1?zt===0&&(zt=3):lb())),e.updateQueue!==null&&(e.flags|=4),on(e),null);case 4:return wc(),x0(n,e),n===null&&Ud(e.stateNode.containerInfo),on(e),null;case 10:return W_(e.type._context),on(e),null;case 17:return Fn(e.type)&&Vm(),on(e),null;case 19:if(st(pt),s=e.memoizedState,s===null)return on(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)$c(s,!1);else{if(zt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Zm(n),o!==null){for(e.flags|=128,$c(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return rt(pt,pt.current&1|2),e.child}n=n.sibling}s.tail!==null&&St()>bc&&(e.flags|=128,r=!0,$c(s,!1),e.lanes=4194304)}else{if(!r)if(n=Zm(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),$c(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!at)return on(e),null}else 2*St()-s.renderingStartTime>bc&&t!==1073741824&&(e.flags|=128,r=!0,$c(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=St(),e.sibling=null,t=pt.current,rt(pt,r?t&1|2:t&1),e):(on(e),null);case 22:case 23:return ab(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?er&1073741824&&(on(e),e.subtreeFlags&6&&(e.flags|=8192)):on(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function uM(n,e){switch(U_(e),e.tag){case 1:return Fn(e.type)&&Vm(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return wc(),st(In),st(pn),Y_(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return K_(e),null;case 13:if(st(pt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(B(340));yc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return st(pt),null;case 4:return wc(),null;case 10:return W_(e.type._context),null;case 22:case 23:return ab(),null;case 24:return null;default:return null}}var Op=!1,dn=!1,cM=typeof WeakSet=="function"?WeakSet:Set,Z=null;function iu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){_t(n,e,r)}else t.current=null}function A0(n,e,t){try{t()}catch(r){_t(n,e,r)}}var oS=!1;function dM(n,e){if(l0=Bm,n=YA(),z_(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var p;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===t&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(u0={focusedElem:n,selectionRange:t},Bm=!1,Z=e;Z!==null;)if(e=Z,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Z=n;else for(;Z!==null;){e=Z;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,_=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Mr(e.type,y),_);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(x){_t(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}return m=oS,oS=!1,m}function kd(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&A0(e,t,s)}i=i.next}while(i!==r)}}function oy(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function C0(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function G1(n){var e=n.alternate;e!==null&&(n.alternate=null,G1(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ci],delete e[$d],delete e[h0],delete e[qL],delete e[XL])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function q1(n){return n.tag===5||n.tag===3||n.tag===4}function aS(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||q1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function k0(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=$m));else if(r!==4&&(n=n.child,n!==null))for(k0(n,e,t),n=n.sibling;n!==null;)k0(n,e,t),n=n.sibling}function T0(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(T0(n,e,t),n=n.sibling;n!==null;)T0(n,e,t),n=n.sibling}var en=null,qr=!1;function Us(n,e,t){for(t=t.child;t!==null;)X1(n,e,t),t=t.sibling}function X1(n,e,t){if(Ti&&typeof Ti.onCommitFiberUnmount=="function")try{Ti.onCommitFiberUnmount(Qg,t)}catch{}switch(t.tag){case 5:dn||iu(t,e);case 6:var r=en,i=qr;en=null,Us(n,e,t),en=r,qr=i,en!==null&&(qr?(n=en,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):en.removeChild(t.stateNode));break;case 18:en!==null&&(qr?(n=en,t=t.stateNode,n.nodeType===8?hv(n.parentNode,t):n.nodeType===1&&hv(n,t),jd(n)):hv(en,t.stateNode));break;case 4:r=en,i=qr,en=t.stateNode.containerInfo,qr=!0,Us(n,e,t),en=r,qr=i;break;case 0:case 11:case 14:case 15:if(!dn&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&A0(t,e,o),i=i.next}while(i!==r)}Us(n,e,t);break;case 1:if(!dn&&(iu(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){_t(t,e,a)}Us(n,e,t);break;case 21:Us(n,e,t);break;case 22:t.mode&1?(dn=(r=dn)||t.memoizedState!==null,Us(n,e,t),dn=r):Us(n,e,t);break;default:Us(n,e,t)}}function lS(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new cM),e.forEach(function(r){var i=_M.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Pr(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:en=a.stateNode,qr=!1;break e;case 3:en=a.stateNode.containerInfo,qr=!0;break e;case 4:en=a.stateNode.containerInfo,qr=!0;break e}a=a.return}if(en===null)throw Error(B(160));X1(s,o,i),en=null,qr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){_t(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)K1(e,n),e=e.sibling}function K1(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Pr(e,n),ai(n),r&4){try{kd(3,n,n.return),oy(3,n)}catch(y){_t(n,n.return,y)}try{kd(5,n,n.return)}catch(y){_t(n,n.return,y)}}break;case 1:Pr(e,n),ai(n),r&512&&t!==null&&iu(t,t.return);break;case 5:if(Pr(e,n),ai(n),r&512&&t!==null&&iu(t,t.return),n.flags&32){var i=n.stateNode;try{Dd(i,"")}catch(y){_t(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&yA(i,s),Qv(a,o);var u=Qv(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?EA(i,h):d==="dangerouslySetInnerHTML"?_A(i,h):d==="children"?Dd(i,h):C_(i,d,h,u)}switch(a){case"input":qv(i,s);break;case"textarea":vA(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?uu(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?uu(i,!!s.multiple,s.defaultValue,!0):uu(i,!!s.multiple,s.multiple?[]:"",!1))}i[$d]=s}catch(y){_t(n,n.return,y)}}break;case 6:if(Pr(e,n),ai(n),r&4){if(n.stateNode===null)throw Error(B(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){_t(n,n.return,y)}}break;case 3:if(Pr(e,n),ai(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{jd(e.containerInfo)}catch(y){_t(n,n.return,y)}break;case 4:Pr(e,n),ai(n);break;case 13:Pr(e,n),ai(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sb=St())),r&4&&lS(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(dn=(u=dn)||d,Pr(e,n),dn=u):Pr(e,n),ai(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(Z=n,d=n.child;d!==null;){for(h=Z=d;Z!==null;){switch(f=Z,p=f.child,f.tag){case 0:case 11:case 14:case 15:kd(4,f,f.return);break;case 1:iu(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){_t(r,t,y)}}break;case 5:iu(f,f.return);break;case 22:if(f.memoizedState!==null){cS(h);continue}}p!==null?(p.return=f,Z=p):cS(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=bA("display",o))}catch(y){_t(n,n.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){_t(n,n.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Pr(e,n),ai(n),r&4&&lS(n);break;case 21:break;default:Pr(e,n),ai(n)}}function ai(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(q1(t)){var r=t;break e}t=t.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Dd(i,""),r.flags&=-33);var s=aS(n);T0(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=aS(n);k0(n,a,o);break;default:throw Error(B(161))}}catch(l){_t(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function hM(n,e,t){Z=n,Y1(n)}function Y1(n,e,t){for(var r=(n.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Op;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||dn;a=Op;var u=dn;if(Op=o,(dn=l)&&!u)for(Z=i;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?dS(i):l!==null?(l.return=o,Z=l):dS(i);for(;s!==null;)Z=s,Y1(s),s=s.sibling;Z=i,Op=a,dn=u}uS(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):uS(n)}}function uS(n){for(;Z!==null;){var e=Z;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dn||oy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dn)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Mr(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}qE(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&jd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}dn||e.flags&512&&C0(e)}catch(f){_t(e,e.return,f)}}if(e===n){Z=null;break}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}}function cS(n){for(;Z!==null;){var e=Z;if(e===n){Z=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Z=t;break}Z=e.return}}function dS(n){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{oy(4,e)}catch(l){_t(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){_t(e,i,l)}}var s=e.return;try{C0(e)}catch(l){_t(e,s,l)}break;case 5:var o=e.return;try{C0(e)}catch(l){_t(e,o,l)}}}catch(l){_t(e,e.return,l)}if(e===n){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var fM=Math.ceil,eg=Fs.ReactCurrentDispatcher,rb=Fs.ReactCurrentOwner,kr=Fs.ReactCurrentBatchConfig,Ie=0,Vt=null,Tt=null,tn=0,er=0,su=Ho(0),zt=0,Kd=null,ml=0,ay=0,ib=0,Td=null,Mn=null,sb=0,bc=1/0,Vi=null,tg=!1,R0=null,To=null,Dp=!1,Eo=null,ng=0,Rd=0,P0=null,Qp=-1,Jp=0;function En(){return Ie&6?St():Qp!==-1?Qp:Qp=St()}function Ro(n){return n.mode&1?Ie&2&&tn!==0?tn&-tn:YL.transition!==null?(Jp===0&&(Jp=DA()),Jp):(n=$e,n!==0||(n=window.event,n=n===void 0?16:UA(n.type)),n):1}function Jr(n,e,t,r){if(50<Rd)throw Rd=0,P0=null,Error(B(185));Zf(n,t,r),(!(Ie&2)||n!==Vt)&&(n===Vt&&(!(Ie&2)&&(ay|=t),zt===4&&Ys(n,tn)),jn(n,r),t===1&&Ie===0&&!(e.mode&1)&&(bc=St()+500,ry&&$o()))}function jn(n,e){var t=n.callbackNode;YP(n,e);var r=zm(n,n===Vt?tn:0);if(r===0)t!==null&&_E(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&_E(t),e===1)n.tag===0?KL(hS.bind(null,n)):o1(hS.bind(null,n)),WL(function(){!(Ie&6)&&$o()}),t=null;else{switch(NA(r)){case 1:t=L_;break;case 4:t=MA;break;case 16:t=jm;break;case 536870912:t=OA;break;default:t=jm}t=iC(t,Z1.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Z1(n,e){if(Qp=-1,Jp=0,Ie&6)throw Error(B(327));var t=n.callbackNode;if(pu()&&n.callbackNode!==t)return null;var r=zm(n,n===Vt?tn:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=rg(n,r);else{e=r;var i=Ie;Ie|=2;var s=J1();(Vt!==n||tn!==e)&&(Vi=null,bc=St()+500,ll(n,e));do try{gM();break}catch(a){Q1(n,a)}while(!0);V_(),eg.current=s,Ie=i,Tt!==null?e=0:(Vt=null,tn=0,e=zt)}if(e!==0){if(e===2&&(i=r0(n),i!==0&&(r=i,e=L0(n,i))),e===1)throw t=Kd,ll(n,0),Ys(n,r),jn(n,St()),t;if(e===6)Ys(n,r);else{if(i=n.current.alternate,!(r&30)&&!pM(i)&&(e=rg(n,r),e===2&&(s=r0(n),s!==0&&(r=s,e=L0(n,s))),e===1))throw t=Kd,ll(n,0),Ys(n,r),jn(n,St()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Jo(n,Mn,Vi);break;case 3:if(Ys(n,r),(r&130023424)===r&&(e=sb+500-St(),10<e)){if(zm(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){En(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=d0(Jo.bind(null,n,Mn,Vi),e);break}Jo(n,Mn,Vi);break;case 4:if(Ys(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Qr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fM(r/1960))-r,10<r){n.timeoutHandle=d0(Jo.bind(null,n,Mn,Vi),r);break}Jo(n,Mn,Vi);break;case 5:Jo(n,Mn,Vi);break;default:throw Error(B(329))}}}return jn(n,St()),n.callbackNode===t?Z1.bind(null,n):null}function L0(n,e){var t=Td;return n.current.memoizedState.isDehydrated&&(ll(n,e).flags|=256),n=rg(n,e),n!==2&&(e=Mn,Mn=t,e!==null&&M0(e)),n}function M0(n){Mn===null?Mn=n:Mn.push.apply(Mn,n)}function pM(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!ni(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ys(n,e){for(e&=~ib,e&=~ay,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Qr(e),r=1<<t;n[t]=-1,e&=~r}}function hS(n){if(Ie&6)throw Error(B(327));pu();var e=zm(n,0);if(!(e&1))return jn(n,St()),null;var t=rg(n,e);if(n.tag!==0&&t===2){var r=r0(n);r!==0&&(e=r,t=L0(n,r))}if(t===1)throw t=Kd,ll(n,0),Ys(n,e),jn(n,St()),t;if(t===6)throw Error(B(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Jo(n,Mn,Vi),jn(n,St()),null}function ob(n,e){var t=Ie;Ie|=1;try{return n(e)}finally{Ie=t,Ie===0&&(bc=St()+500,ry&&$o())}}function gl(n){Eo!==null&&Eo.tag===0&&!(Ie&6)&&pu();var e=Ie;Ie|=1;var t=kr.transition,r=$e;try{if(kr.transition=null,$e=1,n)return n()}finally{$e=r,kr.transition=t,Ie=e,!(Ie&6)&&$o()}}function ab(){er=su.current,st(su)}function ll(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,VL(t)),Tt!==null)for(t=Tt.return;t!==null;){var r=t;switch(U_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vm();break;case 3:wc(),st(In),st(pn),Y_();break;case 5:K_(r);break;case 4:wc();break;case 13:st(pt);break;case 19:st(pt);break;case 10:W_(r.type._context);break;case 22:case 23:ab()}t=t.return}if(Vt=n,Tt=n=Po(n.current,null),tn=er=e,zt=0,Kd=null,ib=ay=ml=0,Mn=Td=null,la!==null){for(e=0;e<la.length;e++)if(t=la[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}la=null}return n}function Q1(n,e){do{var t=Tt;try{if(V_(),Kp.current=Jm,Qm){for(var r=mt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qm=!1}if(pl=0,$t=Ft=mt=null,Cd=!1,Gd=0,rb.current=null,t===null||t.return===null){zt=1,Kd=e,Tt=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=tn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=JE(o);if(p!==null){p.flags&=-257,eS(p,o,a,s,e),p.mode&1&&QE(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){QE(s,u,e),lb();break e}l=Error(B(426))}}else if(at&&a.mode&1){var _=JE(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),eS(_,o,a,s,e),H_(_c(l,a));break e}}s=l=_c(l,a),zt!==4&&(zt=2),Td===null?Td=[s]:Td.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=N1(s,l,e);GE(s,g);break e;case 1:a=l;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(To===null||!To.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=I1(s,a,e);GE(s,x);break e}}s=s.return}while(s!==null)}tC(t)}catch(C){e=C,Tt===t&&t!==null&&(Tt=t=t.return);continue}break}while(!0)}function J1(){var n=eg.current;return eg.current=Jm,n===null?Jm:n}function lb(){(zt===0||zt===3||zt===2)&&(zt=4),Vt===null||!(ml&268435455)&&!(ay&268435455)||Ys(Vt,tn)}function rg(n,e){var t=Ie;Ie|=2;var r=J1();(Vt!==n||tn!==e)&&(Vi=null,ll(n,e));do try{mM();break}catch(i){Q1(n,i)}while(!0);if(V_(),Ie=t,eg.current=r,Tt!==null)throw Error(B(261));return Vt=null,tn=0,zt}function mM(){for(;Tt!==null;)eC(Tt)}function gM(){for(;Tt!==null&&!UP();)eC(Tt)}function eC(n){var e=rC(n.alternate,n,er);n.memoizedProps=n.pendingProps,e===null?tC(n):Tt=e,rb.current=null}function tC(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=uM(t,e),t!==null){t.flags&=32767,Tt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{zt=6,Tt=null;return}}else if(t=lM(t,e,er),t!==null){Tt=t;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=n}while(e!==null);zt===0&&(zt=5)}function Jo(n,e,t){var r=$e,i=kr.transition;try{kr.transition=null,$e=1,yM(n,e,t,r)}finally{kr.transition=i,$e=r}return null}function yM(n,e,t,r){do pu();while(Eo!==null);if(Ie&6)throw Error(B(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(B(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(ZP(n,s),n===Vt&&(Tt=Vt=null,tn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Dp||(Dp=!0,iC(jm,function(){return pu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=kr.transition,kr.transition=null;var o=$e;$e=1;var a=Ie;Ie|=4,rb.current=null,dM(n,t),K1(t,n),FL(u0),Bm=!!l0,u0=l0=null,n.current=t,hM(t),HP(),Ie=a,$e=o,kr.transition=s}else n.current=t;if(Dp&&(Dp=!1,Eo=n,ng=i),s=n.pendingLanes,s===0&&(To=null),WP(t.stateNode),jn(n,St()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(tg)throw tg=!1,n=R0,R0=null,n;return ng&1&&n.tag!==0&&pu(),s=n.pendingLanes,s&1?n===P0?Rd++:(Rd=0,P0=n):Rd=0,$o(),null}function pu(){if(Eo!==null){var n=NA(ng),e=kr.transition,t=$e;try{if(kr.transition=null,$e=16>n?16:n,Eo===null)var r=!1;else{if(n=Eo,Eo=null,ng=0,Ie&6)throw Error(B(331));var i=Ie;for(Ie|=4,Z=n.current;Z!==null;){var s=Z,o=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:kd(8,d,s)}var h=d.child;if(h!==null)h.return=d,Z=h;else for(;Z!==null;){d=Z;var f=d.sibling,p=d.return;if(G1(d),d===u){Z=null;break}if(f!==null){f.return=p,Z=f;break}Z=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}Z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Z=o;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:kd(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Z=g;break e}Z=s.return}}var v=n.current;for(Z=v;Z!==null;){o=Z;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Z=w;else e:for(o=v;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:oy(9,a)}}catch(C){_t(a,a.return,C)}if(a===o){Z=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Z=x;break e}Z=a.return}}if(Ie=i,$o(),Ti&&typeof Ti.onPostCommitFiberRoot=="function")try{Ti.onPostCommitFiberRoot(Qg,n)}catch{}r=!0}return r}finally{$e=t,kr.transition=e}}return!1}function fS(n,e,t){e=_c(t,e),e=N1(n,e,1),n=ko(n,e,1),e=En(),n!==null&&(Zf(n,1,e),jn(n,e))}function _t(n,e,t){if(n.tag===3)fS(n,n,t);else for(;e!==null;){if(e.tag===3){fS(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(To===null||!To.has(r))){n=_c(t,n),n=I1(e,n,1),e=ko(e,n,1),n=En(),e!==null&&(Zf(e,1,n),jn(e,n));break}}e=e.return}}function vM(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=En(),n.pingedLanes|=n.suspendedLanes&t,Vt===n&&(tn&t)===t&&(zt===4||zt===3&&(tn&130023424)===tn&&500>St()-sb?ll(n,0):ib|=t),jn(n,e)}function nC(n,e){e===0&&(n.mode&1?(e=xp,xp<<=1,!(xp&130023424)&&(xp=4194304)):e=1);var t=En();n=Ls(n,e),n!==null&&(Zf(n,e,t),jn(n,t))}function wM(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),nC(n,t)}function _M(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),nC(n,t)}var rC;rC=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||In.current)On=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return On=!1,aM(n,e,t);On=!!(n.flags&131072)}else On=!1,at&&e.flags&1048576&&a1(e,qm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zp(n,e),n=e.pendingProps;var i=gc(e,pn.current);fu(e,t),i=Q_(null,e,r,n,i,t);var s=J_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fn(r)?(s=!0,Wm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,q_(e),i.updater=sy,e.stateNode=i,i._reactInternals=e,v0(e,r,n,t),e=b0(null,e,r,!0,s,t)):(e.tag=0,at&&s&&B_(e),_n(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Zp(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=EM(r),n=Mr(r,n),i){case 0:e=_0(null,e,r,n,t);break e;case 1:e=rS(null,e,r,n,t);break e;case 11:e=tS(null,e,r,n,t);break e;case 14:e=nS(null,e,r,Mr(r.type,n),t);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),_0(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),rS(n,e,r,i,t);case 3:e:{if(B1(e),n===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,f1(n,e),Ym(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=_c(Error(B(423)),e),e=iS(n,e,r,t,i);break e}else if(r!==i){i=_c(Error(B(424)),e),e=iS(n,e,r,t,i);break e}else for(rr=Co(e.stateNode.containerInfo.firstChild),sr=e,at=!0,Kr=null,t=d1(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(yc(),r===i){e=Ms(n,e,t);break e}_n(n,e,r,t)}e=e.child}return e;case 5:return p1(e),n===null&&m0(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,c0(r,i)?o=null:s!==null&&c0(r,s)&&(e.flags|=32),z1(n,e),_n(n,e,o,t),e.child;case 6:return n===null&&m0(e),null;case 13:return U1(n,e,t);case 4:return X_(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=vc(e,null,r,t):_n(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),tS(n,e,r,i,t);case 7:return _n(n,e,e.pendingProps,t),e.child;case 8:return _n(n,e,e.pendingProps.children,t),e.child;case 12:return _n(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,rt(Xm,r._currentValue),r._currentValue=o,s!==null)if(ni(s.value,o)){if(s.children===i.children&&!In.current){e=Ms(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ss(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),g0(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),g0(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_n(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fu(e,t),i=Tr(i),r=r(i),e.flags|=1,_n(n,e,r,t),e.child;case 14:return r=e.type,i=Mr(r,e.pendingProps),i=Mr(r.type,i),nS(n,e,r,i,t);case 15:return F1(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),Zp(n,e),e.tag=1,Fn(r)?(n=!0,Wm(e)):n=!1,fu(e,t),D1(e,r,i),v0(e,r,i,t),b0(null,e,r,!0,n,t);case 19:return H1(n,e,t);case 22:return j1(n,e,t)}throw Error(B(156,e.tag))};function iC(n,e){return LA(n,e)}function bM(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(n,e,t,r){return new bM(n,e,t,r)}function ub(n){return n=n.prototype,!(!n||!n.isReactComponent)}function EM(n){if(typeof n=="function")return ub(n)?1:0;if(n!=null){if(n=n.$$typeof,n===T_)return 11;if(n===R_)return 14}return 2}function Po(n,e){var t=n.alternate;return t===null?(t=Cr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function em(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")ub(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Kl:return ul(t.children,i,s,e);case k_:o=8,i|=8;break;case Hv:return n=Cr(12,t,e,i|2),n.elementType=Hv,n.lanes=s,n;case $v:return n=Cr(13,t,e,i),n.elementType=$v,n.lanes=s,n;case Vv:return n=Cr(19,t,e,i),n.elementType=Vv,n.lanes=s,n;case pA:return ly(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case hA:o=10;break e;case fA:o=9;break e;case T_:o=11;break e;case R_:o=14;break e;case qs:o=16,r=null;break e}throw Error(B(130,n==null?n:typeof n,""))}return e=Cr(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function ul(n,e,t,r){return n=Cr(7,n,r,e),n.lanes=t,n}function ly(n,e,t,r){return n=Cr(22,n,r,e),n.elementType=pA,n.lanes=t,n.stateNode={isHidden:!1},n}function _v(n,e,t){return n=Cr(6,n,null,e),n.lanes=t,n}function bv(n,e,t){return e=Cr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function SM(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tv(0),this.expirationTimes=tv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cb(n,e,t,r,i,s,o,a,l){return n=new SM(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Cr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},q_(s),n}function xM(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xl,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function sC(n){if(!n)return Mo;n=n._reactInternals;e:{if(Pl(n)!==n||n.tag!==1)throw Error(B(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(n.tag===1){var t=n.type;if(Fn(t))return s1(n,t,e)}return e}function oC(n,e,t,r,i,s,o,a,l){return n=cb(t,r,!0,n,i,s,o,a,l),n.context=sC(null),t=n.current,r=En(),i=Ro(t),s=Ss(r,i),s.callback=e??null,ko(t,s,i),n.current.lanes=i,Zf(n,i,r),jn(n,r),n}function uy(n,e,t,r){var i=e.current,s=En(),o=Ro(i);return t=sC(t),e.context===null?e.context=t:e.pendingContext=t,e=Ss(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=ko(i,e,o),n!==null&&(Jr(n,i,o,s),Xp(n,i,o)),o}function ig(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function pS(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function db(n,e){pS(n,e),(n=n.alternate)&&pS(n,e)}function AM(){return null}var aC=typeof reportError=="function"?reportError:function(n){console.error(n)};function hb(n){this._internalRoot=n}cy.prototype.render=hb.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(B(409));uy(n,e,null,null)};cy.prototype.unmount=hb.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;gl(function(){uy(null,n,null,null)}),e[Ps]=null}};function cy(n){this._internalRoot=n}cy.prototype.unstable_scheduleHydration=function(n){if(n){var e=jA();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ks.length&&e!==0&&e<Ks[t].priority;t++);Ks.splice(t,0,n),t===0&&BA(n)}};function fb(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function dy(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function mS(){}function CM(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ig(o);s.call(u)}}var o=oC(e,r,n,0,null,!1,!1,"",mS);return n._reactRootContainer=o,n[Ps]=o.current,Ud(n.nodeType===8?n.parentNode:n),gl(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ig(l);a.call(u)}}var l=cb(n,0,!1,null,null,!1,!1,"",mS);return n._reactRootContainer=l,n[Ps]=l.current,Ud(n.nodeType===8?n.parentNode:n),gl(function(){uy(e,l,t,r)}),l}function hy(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ig(o);a.call(l)}}uy(e,o,n,i)}else o=CM(t,e,n,i,r);return ig(o)}IA=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=ed(e.pendingLanes);t!==0&&(M_(e,t|1),jn(e,St()),!(Ie&6)&&(bc=St()+500,$o()))}break;case 13:gl(function(){var r=Ls(n,1);if(r!==null){var i=En();Jr(r,n,1,i)}}),db(n,1)}};O_=function(n){if(n.tag===13){var e=Ls(n,134217728);if(e!==null){var t=En();Jr(e,n,134217728,t)}db(n,134217728)}};FA=function(n){if(n.tag===13){var e=Ro(n),t=Ls(n,e);if(t!==null){var r=En();Jr(t,n,e,r)}db(n,e)}};jA=function(){return $e};zA=function(n,e){var t=$e;try{return $e=n,e()}finally{$e=t}};e0=function(n,e,t){switch(e){case"input":if(qv(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=ny(r);if(!i)throw Error(B(90));gA(r),qv(r,i)}}}break;case"textarea":vA(n,t);break;case"select":e=t.value,e!=null&&uu(n,!!t.multiple,e,!1)}};AA=ob;CA=gl;var kM={usingClientEntryPoint:!1,Events:[Jf,Jl,ny,SA,xA,ob]},Vc={findFiberByHostInstance:aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TM={bundleType:Vc.bundleType,version:Vc.version,rendererPackageName:Vc.rendererPackageName,rendererConfig:Vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=RA(n),n===null?null:n.stateNode},findFiberByHostInstance:Vc.findFiberByHostInstance||AM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Np=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Np.isDisabled&&Np.supportsFiber)try{Qg=Np.inject(TM),Ti=Np}catch{}}dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kM;dr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fb(e))throw Error(B(200));return xM(n,e,null,t)};dr.createRoot=function(n,e){if(!fb(n))throw Error(B(299));var t=!1,r="",i=aC;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cb(n,1,!1,null,null,t,!1,r,i),n[Ps]=e.current,Ud(n.nodeType===8?n.parentNode:n),new hb(e)};dr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(B(188)):(n=Object.keys(n).join(","),Error(B(268,n)));return n=RA(e),n=n===null?null:n.stateNode,n};dr.flushSync=function(n){return gl(n)};dr.hydrate=function(n,e,t){if(!dy(e))throw Error(B(200));return hy(null,n,e,!0,t)};dr.hydrateRoot=function(n,e,t){if(!fb(n))throw Error(B(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=aC;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=oC(e,null,n,1,t??null,i,!1,s,o),n[Ps]=e.current,Ud(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new cy(e)};dr.render=function(n,e,t){if(!dy(e))throw Error(B(200));return hy(null,n,e,!1,t)};dr.unmountComponentAtNode=function(n){if(!dy(n))throw Error(B(40));return n._reactRootContainer?(gl(function(){hy(null,null,n,!1,function(){n._reactRootContainer=null,n[Ps]=null})}),!0):!1};dr.unstable_batchedUpdates=ob;dr.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!dy(t))throw Error(B(200));if(n==null||n._reactInternals===void 0)throw Error(B(38));return hy(n,e,t,!1,r)};dr.version="18.3.1-next-f1338f8080-20240426";function lC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lC)}catch(n){console.error(n)}}lC(),lA.exports=dr;var pb=lA.exports;const RM=w_(pb),PM=Yx({__proto__:null,default:RM},[pb]);var uC,gS=pb;uC=gS.createRoot,gS.hydrateRoot;/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ft(){return ft=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ft.apply(this,arguments)}var kt;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(kt||(kt={}));const yS="popstate";function LM(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Yd("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:yl(i)}return OM(e,t,null,n)}function xe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ec(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MM(){return Math.random().toString(36).substr(2,8)}function vS(n,e){return{usr:n.state,key:n.key,idx:e}}function Yd(n,e,t,r){return t===void 0&&(t=null),ft({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Vo(e):e,{state:t,key:e&&e.key||r||MM()})}function yl(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Vo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function OM(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=kt.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(ft({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=kt.Pop;let _=d(),g=_==null?null:_-u;u=_,l&&l({action:a,location:y.location,delta:g})}function f(_,g){a=kt.Push;let v=Yd(y.location,_,g);u=d()+1;let w=vS(v,u),x=y.createHref(v);try{o.pushState(w,"",x)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(x)}s&&l&&l({action:a,location:y.location,delta:1})}function p(_,g){a=kt.Replace;let v=Yd(y.location,_,g);u=d();let w=vS(v,u),x=y.createHref(v);o.replaceState(w,"",x),s&&l&&l({action:a,location:y.location,delta:0})}function m(_){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof _=="string"?_:yl(_);return v=v.replace(/ $/,"%20"),xe(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return a},get location(){return n(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(yS,h),l=_,()=>{i.removeEventListener(yS,h),l=null}},createHref(_){return e(i,_)},createURL:m,encodeLocation(_){let g=m(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(_){return o.go(_)}};return y}var qe;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(qe||(qe={}));const DM=new Set(["lazy","caseSensitive","path","id","index","children"]);function NM(n){return n.index===!0}function Zd(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((i,s)=>{let o=[...t,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(xe(i.index!==!0||!i.children,"Cannot specify children on an index route"),xe(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),NM(i)){let l=ft({},i,e(i),{id:a});return r[a]=l,l}else{let l=ft({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Zd(i.children,e,o,r)),l}})}function ia(n,e,t){return t===void 0&&(t="/"),tm(n,e,t,!1)}function tm(n,e,t,r){let i=typeof e=="string"?Vo(e):e,s=Mc(i.pathname||"/",t);if(s==null)return null;let o=cC(n);FM(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=XM(s);a=GM(o[l],u,r)}return a}function IM(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function cC(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(xe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=xs([r,l.relativePath]),d=t.concat(l);s.children&&s.children.length>0&&(xe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),cC(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:VM(u,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of dC(s.path))i(s,o,l)}),e}function dC(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=dC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function FM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:WM(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const jM=/^:[\w-]+$/,zM=3,BM=2,UM=1,HM=10,$M=-2,wS=n=>n==="*";function VM(n,e){let t=n.split("/"),r=t.length;return t.some(wS)&&(r+=$M),e&&(r+=BM),t.filter(i=>!wS(i)).reduce((i,s)=>i+(jM.test(s)?zM:s===""?UM:HM),r)}function WM(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function GM(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=_S({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&t&&!r[r.length-1].route.index&&(h=_S({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:xs([s,h.pathname]),pathnameBase:ZM(xs([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=xs([s,h.pathnameBase]))}return o}function _S(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=qM(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[h];return p&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:n}}function qM(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Ec(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function XM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ec(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Mc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function KM(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Vo(n):n;return{pathname:t?t.startsWith("/")?t:YM(t,e):e,search:QM(r),hash:JM(i)}}function YM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Ev(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function mb(n,e){let t=hC(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function gb(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Vo(n):(i=ft({},n),xe(!i.pathname||!i.pathname.includes("?"),Ev("?","pathname","search",i)),xe(!i.pathname||!i.pathname.includes("#"),Ev("#","pathname","hash",i)),xe(!i.search||!i.search.includes("#"),Ev("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=KM(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const xs=n=>n.join("/").replace(/\/\/+/g,"/"),ZM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),QM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,JM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class sg{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function fy(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const fC=["post","put","patch","delete"],eO=new Set(fC),tO=["get",...fC],nO=new Set(tO),rO=new Set([301,302,303,307,308]),iO=new Set([307,308]),Sv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Wc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},yb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oO=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),pC="remix-router-transitions";function aO(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;xe(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(n.mapRouteProperties)i=n.mapRouteProperties;else if(n.detectErrorBoundary){let T=n.detectErrorBoundary;i=R=>({hasErrorBoundary:T(R)})}else i=oO;let s={},o=Zd(n.routes,i,void 0,s),a,l=n.basename||"/",u=n.unstable_dataStrategy||hO,d=n.unstable_patchRoutesOnNavigation,h=ft({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),f=null,p=new Set,m=1e3,y=new Set,_=null,g=null,v=null,w=n.hydrationData!=null,x=ia(o,n.history.location,l),C=null;if(x==null&&!d){let T=wn(404,{pathname:n.history.location.pathname}),{matches:R,route:O}=PS(o);x=R,C={[O.id]:T}}x&&!n.hydrationData&&pp(x,o,n.history.location.pathname).active&&(x=null);let k;if(x)if(x.some(T=>T.route.lazy))k=!1;else if(!x.some(T=>T.route.loader))k=!0;else if(h.v7_partialHydration){let T=n.hydrationData?n.hydrationData.loaderData:null,R=n.hydrationData?n.hydrationData.errors:null,O=z=>z.route.loader?typeof z.route.loader=="function"&&z.route.loader.hydrate===!0?!1:T&&T[z.route.id]!==void 0||R&&R[z.route.id]!==void 0:!0;if(R){let z=x.findIndex(Y=>R[Y.route.id]!==void 0);k=x.slice(0,z+1).every(O)}else k=x.every(O)}else k=n.hydrationData!=null;else if(k=!1,x=[],h.v7_partialHydration){let T=pp(null,o,n.history.location.pathname);T.active&&T.matches&&(x=T.matches)}let P,A={historyAction:n.history.action,location:n.history.location,matches:x,initialized:k,navigation:Sv,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||C,fetchers:new Map,blockers:new Map},D=kt.Pop,I=!1,j,ne=!1,J=new Map,X=null,he=!1,pe=!1,V=[],F=new Set,$=new Map,ie=0,Re=-1,ue=new Map,Ee=new Set,Ye=new Map,lt=new Map,De=new Set,Se=new Map,yt=new Map,fr=new Map,tt=!1;function Go(){if(f=n.history.listen(T=>{let{action:R,location:O,delta:z}=T;if(tt){tt=!1;return}Ec(yt.size===0||z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Y=nE({currentLocation:A.location,nextLocation:O,historyAction:R});if(Y&&z!=null){tt=!0,n.history.go(z*-1),hp(Y,{state:"blocked",location:O,proceed(){hp(Y,{state:"proceeding",proceed:void 0,reset:void 0,location:O}),n.history.go(z)},reset(){let ee=new Map(A.blockers);ee.set(Y,Wc),Pe({blockers:ee})}});return}return Ii(R,O)}),t){AO(e,J);let T=()=>CO(e,J);e.addEventListener("pagehide",T),X=()=>e.removeEventListener("pagehide",T)}return A.initialized||Ii(kt.Pop,A.location,{initialHydration:!0}),P}function qo(){f&&f(),X&&X(),p.clear(),j&&j.abort(),A.fetchers.forEach((T,R)=>dp(R)),A.blockers.forEach((T,R)=>tE(R))}function Ve(T){return p.add(T),()=>p.delete(T)}function Pe(T,R){R===void 0&&(R={}),A=ft({},A,T);let O=[],z=[];h.v7_fetcherPersist&&A.fetchers.forEach((Y,ee)=>{Y.state==="idle"&&(De.has(ee)?z.push(ee):O.push(ee))}),[...p].forEach(Y=>Y(A,{deletedFetchers:z,unstable_viewTransitionOpts:R.viewTransitionOpts,unstable_flushSync:R.flushSync===!0})),h.v7_fetcherPersist&&(O.forEach(Y=>A.fetchers.delete(Y)),z.forEach(Y=>dp(Y)))}function ut(T,R,O){var z,Y;let{flushSync:ee}=O===void 0?{}:O,ce=A.actionData!=null&&A.navigation.formMethod!=null&&Xr(A.navigation.formMethod)&&A.navigation.state==="loading"&&((z=T.state)==null?void 0:z._isRedirect)!==!0,H;R.actionData?Object.keys(R.actionData).length>0?H=R.actionData:H=null:ce?H=A.actionData:H=null;let ge=R.loaderData?TS(A.loaderData,R.loaderData,R.matches||[],R.errors):A.loaderData,oe=A.blockers;oe.size>0&&(oe=new Map(oe),oe.forEach((Be,Ze)=>oe.set(Ze,Wc)));let we=I===!0||A.navigation.formMethod!=null&&Xr(A.navigation.formMethod)&&((Y=T.state)==null?void 0:Y._isRedirect)!==!0;a&&(o=a,a=void 0),he||D===kt.Pop||(D===kt.Push?n.history.push(T,T.state):D===kt.Replace&&n.history.replace(T,T.state));let We;if(D===kt.Pop){let Be=J.get(A.location.pathname);Be&&Be.has(T.pathname)?We={currentLocation:A.location,nextLocation:T}:J.has(T.pathname)&&(We={currentLocation:T,nextLocation:A.location})}else if(ne){let Be=J.get(A.location.pathname);Be?Be.add(T.pathname):(Be=new Set([T.pathname]),J.set(A.location.pathname,Be)),We={currentLocation:A.location,nextLocation:T}}Pe(ft({},R,{actionData:H,loaderData:ge,historyAction:D,location:T,initialized:!0,navigation:Sv,revalidation:"idle",restoreScrollPosition:iE(T,R.matches||A.matches),preventScrollReset:we,blockers:oe}),{viewTransitionOpts:We,flushSync:ee===!0}),D=kt.Pop,I=!1,ne=!1,he=!1,pe=!1,V=[]}async function bt(T,R){if(typeof T=="number"){n.history.go(T);return}let O=O0(A.location,A.matches,l,h.v7_prependBasename,T,h.v7_relativeSplatPath,R==null?void 0:R.fromRouteId,R==null?void 0:R.relative),{path:z,submission:Y,error:ee}=bS(h.v7_normalizeFormMethod,!1,O,R),ce=A.location,H=Yd(A.location,z,R&&R.state);H=ft({},H,n.history.encodeLocation(H));let ge=R&&R.replace!=null?R.replace:void 0,oe=kt.Push;ge===!0?oe=kt.Replace:ge===!1||Y!=null&&Xr(Y.formMethod)&&Y.formAction===A.location.pathname+A.location.search&&(oe=kt.Replace);let we=R&&"preventScrollReset"in R?R.preventScrollReset===!0:void 0,We=(R&&R.unstable_flushSync)===!0,Be=nE({currentLocation:ce,nextLocation:H,historyAction:oe});if(Be){hp(Be,{state:"blocked",location:H,proceed(){hp(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),bt(T,R)},reset(){let Ze=new Map(A.blockers);Ze.set(Be,Wc),Pe({blockers:Ze})}});return}return await Ii(oe,H,{submission:Y,pendingError:ee,preventScrollReset:we,replace:R&&R.replace,enableViewTransition:R&&R.unstable_viewTransition,flushSync:We})}function si(){if(js(),Pe({revalidation:"loading"}),A.navigation.state!=="submitting"){if(A.navigation.state==="idle"){Ii(A.historyAction,A.location,{startUninterruptedRevalidation:!0});return}Ii(D||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation})}}async function Ii(T,R,O){j&&j.abort(),j=null,D=T,he=(O&&O.startUninterruptedRevalidation)===!0,QR(A.location,A.matches),I=(O&&O.preventScrollReset)===!0,ne=(O&&O.enableViewTransition)===!0;let z=a||o,Y=O&&O.overrideNavigation,ee=ia(z,R,l),ce=(O&&O.flushSync)===!0,H=pp(ee,z,R.pathname);if(H.active&&H.matches&&(ee=H.matches),!ee){let{error:ze,notFoundMatches:Wt,route:At}=qy(R.pathname);ut(R,{matches:Wt,loaderData:{},errors:{[At.id]:ze}},{flushSync:ce});return}if(A.initialized&&!pe&&vO(A.location,R)&&!(O&&O.submission&&Xr(O.submission.formMethod))){ut(R,{matches:ee},{flushSync:ce});return}j=new AbortController;let ge=Bl(n.history,R,j.signal,O&&O.submission),oe;if(O&&O.pendingError)oe=[ou(ee).route.id,{type:qe.error,error:O.pendingError}];else if(O&&O.submission&&Xr(O.submission.formMethod)){let ze=await Uy(ge,R,O.submission,ee,H.active,{replace:O.replace,flushSync:ce});if(ze.shortCircuited)return;if(ze.pendingActionResult){let[Wt,At]=ze.pendingActionResult;if(tr(At)&&fy(At.error)&&At.error.status===404){j=null,ut(R,{matches:ze.matches,loaderData:{},errors:{[Wt]:At.error}});return}}ee=ze.matches||ee,oe=ze.pendingActionResult,Y=xv(R,O.submission),ce=!1,H.active=!1,ge=Bl(n.history,ge.url,ge.signal)}let{shortCircuited:we,matches:We,loaderData:Be,errors:Ze}=await Hy(ge,R,ee,H.active,Y,O&&O.submission,O&&O.fetcherSubmission,O&&O.replace,O&&O.initialHydration===!0,ce,oe);we||(j=null,ut(R,ft({matches:We||ee},RS(oe),{loaderData:Be,errors:Ze})))}async function Uy(T,R,O,z,Y,ee){ee===void 0&&(ee={}),js();let ce=SO(R,O);if(Pe({navigation:ce},{flushSync:ee.flushSync===!0}),Y){let oe=await mp(z,R.pathname,T.signal);if(oe.type==="aborted")return{shortCircuited:!0};if(oe.type==="error"){let{boundaryId:we,error:We}=fp(R.pathname,oe);return{matches:oe.partialMatches,pendingActionResult:[we,{type:qe.error,error:We}]}}else if(oe.matches)z=oe.matches;else{let{notFoundMatches:we,error:We,route:Be}=qy(R.pathname);return{matches:we,pendingActionResult:[Be.id,{type:qe.error,error:We}]}}}let H,ge=nd(z,R);if(!ge.route.action&&!ge.route.lazy)H={type:qe.error,error:wn(405,{method:T.method,pathname:R.pathname,routeId:ge.route.id})};else if(H=(await pr("action",T,[ge],z))[0],T.signal.aborted)return{shortCircuited:!0};if(da(H)){let oe;return ee&&ee.replace!=null?oe=ee.replace:oe=AS(H.response.headers.get("Location"),new URL(T.url),l)===A.location.pathname+A.location.search,await Ko(T,H,{submission:O,replace:oe}),{shortCircuited:!0}}if(ca(H))throw wn(400,{type:"defer-action"});if(tr(H)){let oe=ou(z,ge.route.id);return(ee&&ee.replace)!==!0&&(D=kt.Push),{matches:z,pendingActionResult:[oe.route.id,H]}}return{matches:z,pendingActionResult:[ge.route.id,H]}}async function Hy(T,R,O,z,Y,ee,ce,H,ge,oe,we){let We=Y||xv(R,ee),Be=ee||ce||DS(We),Ze=!he&&(!h.v7_partialHydration||!ge);if(z){if(Ze){let vt=Xo(we);Pe(ft({navigation:We},vt!==void 0?{actionData:vt}:{}),{flushSync:oe})}let _e=await mp(O,R.pathname,T.signal);if(_e.type==="aborted")return{shortCircuited:!0};if(_e.type==="error"){let{boundaryId:vt,error:Hn}=fp(R.pathname,_e);return{matches:_e.partialMatches,loaderData:{},errors:{[vt]:Hn}}}else if(_e.matches)O=_e.matches;else{let{error:vt,notFoundMatches:Hn,route:ot}=qy(R.pathname);return{matches:Hn,loaderData:{},errors:{[ot.id]:vt}}}}let ze=a||o,[Wt,At]=ES(n.history,A,O,Be,R,h.v7_partialHydration&&ge===!0,h.v7_skipActionErrorRevalidation,pe,V,F,De,Ye,Ee,ze,l,we);if(Xy(_e=>!(O&&O.some(vt=>vt.route.id===_e))||Wt&&Wt.some(vt=>vt.route.id===_e)),Re=++ie,Wt.length===0&&At.length===0){let _e=Jb();return ut(R,ft({matches:O,loaderData:{},errors:we&&tr(we[1])?{[we[0]]:we[1].error}:null},RS(we),_e?{fetchers:new Map(A.fetchers)}:{}),{flushSync:oe}),{shortCircuited:!0}}if(Ze){let _e={};if(!z){_e.navigation=We;let vt=Xo(we);vt!==void 0&&(_e.actionData=vt)}At.length>0&&(_e.fetchers=$y(At)),Pe(_e,{flushSync:oe})}At.forEach(_e=>{$.has(_e.key)&&zs(_e.key),_e.controller&&$.set(_e.key,_e.controller)});let Ic=()=>At.forEach(_e=>zs(_e.key));j&&j.signal.addEventListener("abort",Ic);let{loaderResults:Bs,fetcherResults:Il}=await Yo(A.matches,O,Wt,At,T);if(T.signal.aborted)return{shortCircuited:!0};j&&j.signal.removeEventListener("abort",Ic),At.forEach(_e=>$.delete(_e.key));let Fl=LS([...Bs,...Il]);if(Fl){if(Fl.idx>=Wt.length){let _e=At[Fl.idx-Wt.length].key;Ee.add(_e)}return await Ko(T,Fl.result,{replace:H}),{shortCircuited:!0}}let{loaderData:jl,errors:oi}=kS(A,O,Wt,Bs,we,At,Il,Se);Se.forEach((_e,vt)=>{_e.subscribe(Hn=>{(Hn||_e.done)&&Se.delete(vt)})}),h.v7_partialHydration&&ge&&A.errors&&Object.entries(A.errors).filter(_e=>{let[vt]=_e;return!Wt.some(Hn=>Hn.route.id===vt)}).forEach(_e=>{let[vt,Hn]=_e;oi=Object.assign(oi||{},{[vt]:Hn})});let gp=Jb(),yp=eE(Re),vp=gp||yp||At.length>0;return ft({matches:O,loaderData:jl,errors:oi},vp?{fetchers:new Map(A.fetchers)}:{})}function Xo(T){if(T&&!tr(T[1]))return{[T[0]]:T[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function $y(T){return T.forEach(R=>{let O=A.fetchers.get(R.key),z=Gc(void 0,O?O.data:void 0);A.fetchers.set(R.key,z)}),new Map(A.fetchers)}function Vy(T,R,O,z){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$.has(T)&&zs(T);let Y=(z&&z.unstable_flushSync)===!0,ee=a||o,ce=O0(A.location,A.matches,l,h.v7_prependBasename,O,h.v7_relativeSplatPath,R,z==null?void 0:z.relative),H=ia(ee,ce,l),ge=pp(H,ee,ce);if(ge.active&&ge.matches&&(H=ge.matches),!H){Fi(T,R,wn(404,{pathname:ce}),{flushSync:Y});return}let{path:oe,submission:we,error:We}=bS(h.v7_normalizeFormMethod,!0,ce,z);if(We){Fi(T,R,We,{flushSync:Y});return}let Be=nd(H,oe);if(I=(z&&z.preventScrollReset)===!0,we&&Xr(we.formMethod)){Wy(T,R,oe,Be,H,ge.active,Y,we);return}Ye.set(T,{routeId:R,path:oe}),Gy(T,R,oe,Be,H,ge.active,Y,we)}async function Wy(T,R,O,z,Y,ee,ce,H){js(),Ye.delete(T);function ge(ot){if(!ot.route.action&&!ot.route.lazy){let ji=wn(405,{method:H.formMethod,pathname:O,routeId:R});return Fi(T,R,ji,{flushSync:ce}),!0}return!1}if(!ee&&ge(z))return;let oe=A.fetchers.get(T);mr(T,xO(H,oe),{flushSync:ce});let we=new AbortController,We=Bl(n.history,O,we.signal,H);if(ee){let ot=await mp(Y,O,We.signal);if(ot.type==="aborted")return;if(ot.type==="error"){let{error:ji}=fp(O,ot);Fi(T,R,ji,{flushSync:ce});return}else if(ot.matches){if(Y=ot.matches,z=nd(Y,O),ge(z))return}else{Fi(T,R,wn(404,{pathname:O}),{flushSync:ce});return}}$.set(T,we);let Be=ie,ze=(await pr("action",We,[z],Y))[0];if(We.signal.aborted){$.get(T)===we&&$.delete(T);return}if(h.v7_fetcherPersist&&De.has(T)){if(da(ze)||tr(ze)){mr(T,$s(void 0));return}}else{if(da(ze))if($.delete(T),Re>Be){mr(T,$s(void 0));return}else return Ee.add(T),mr(T,Gc(H)),Ko(We,ze,{fetcherSubmission:H});if(tr(ze)){Fi(T,R,ze.error);return}}if(ca(ze))throw wn(400,{type:"defer-action"});let Wt=A.navigation.location||A.location,At=Bl(n.history,Wt,we.signal),Ic=a||o,Bs=A.navigation.state!=="idle"?ia(Ic,A.navigation.location,l):A.matches;xe(Bs,"Didn't find any matches after fetcher action");let Il=++ie;ue.set(T,Il);let Fl=Gc(H,ze.data);A.fetchers.set(T,Fl);let[jl,oi]=ES(n.history,A,Bs,H,Wt,!1,h.v7_skipActionErrorRevalidation,pe,V,F,De,Ye,Ee,Ic,l,[z.route.id,ze]);oi.filter(ot=>ot.key!==T).forEach(ot=>{let ji=ot.key,oE=A.fetchers.get(ji),tP=Gc(void 0,oE?oE.data:void 0);A.fetchers.set(ji,tP),$.has(ji)&&zs(ji),ot.controller&&$.set(ji,ot.controller)}),Pe({fetchers:new Map(A.fetchers)});let gp=()=>oi.forEach(ot=>zs(ot.key));we.signal.addEventListener("abort",gp);let{loaderResults:yp,fetcherResults:vp}=await Yo(A.matches,Bs,jl,oi,At);if(we.signal.aborted)return;we.signal.removeEventListener("abort",gp),ue.delete(T),$.delete(T),oi.forEach(ot=>$.delete(ot.key));let _e=LS([...yp,...vp]);if(_e){if(_e.idx>=jl.length){let ot=oi[_e.idx-jl.length].key;Ee.add(ot)}return Ko(At,_e.result)}let{loaderData:vt,errors:Hn}=kS(A,A.matches,jl,yp,void 0,oi,vp,Se);if(A.fetchers.has(T)){let ot=$s(ze.data);A.fetchers.set(T,ot)}eE(Il),A.navigation.state==="loading"&&Il>Re?(xe(D,"Expected pending action"),j&&j.abort(),ut(A.navigation.location,{matches:Bs,loaderData:vt,errors:Hn,fetchers:new Map(A.fetchers)})):(Pe({errors:Hn,loaderData:TS(A.loaderData,vt,Bs,Hn),fetchers:new Map(A.fetchers)}),pe=!1)}async function Gy(T,R,O,z,Y,ee,ce,H){let ge=A.fetchers.get(T);mr(T,Gc(H,ge?ge.data:void 0),{flushSync:ce});let oe=new AbortController,we=Bl(n.history,O,oe.signal);if(ee){let ze=await mp(Y,O,we.signal);if(ze.type==="aborted")return;if(ze.type==="error"){let{error:Wt}=fp(O,ze);Fi(T,R,Wt,{flushSync:ce});return}else if(ze.matches)Y=ze.matches,z=nd(Y,O);else{Fi(T,R,wn(404,{pathname:O}),{flushSync:ce});return}}$.set(T,oe);let We=ie,Ze=(await pr("loader",we,[z],Y))[0];if(ca(Ze)&&(Ze=await wC(Ze,we.signal,!0)||Ze),$.get(T)===oe&&$.delete(T),!we.signal.aborted){if(De.has(T)){mr(T,$s(void 0));return}if(da(Ze))if(Re>We){mr(T,$s(void 0));return}else{Ee.add(T),await Ko(we,Ze);return}if(tr(Ze)){Fi(T,R,Ze.error);return}xe(!ca(Ze),"Unhandled fetcher deferred data"),mr(T,$s(Ze.data))}}async function Ko(T,R,O){let{submission:z,fetcherSubmission:Y,replace:ee}=O===void 0?{}:O;R.response.headers.has("X-Remix-Revalidate")&&(pe=!0);let ce=R.response.headers.get("Location");xe(ce,"Expected a Location header on the redirect Response"),ce=AS(ce,new URL(T.url),l);let H=Yd(A.location,ce,{_isRedirect:!0});if(t){let Ze=!1;if(R.response.headers.has("X-Remix-Reload-Document"))Ze=!0;else if(yb.test(ce)){const ze=n.history.createURL(ce);Ze=ze.origin!==e.location.origin||Mc(ze.pathname,l)==null}if(Ze){ee?e.location.replace(ce):e.location.assign(ce);return}}j=null;let ge=ee===!0||R.response.headers.has("X-Remix-Replace")?kt.Replace:kt.Push,{formMethod:oe,formAction:we,formEncType:We}=A.navigation;!z&&!Y&&oe&&we&&We&&(z=DS(A.navigation));let Be=z||Y;if(iO.has(R.response.status)&&Be&&Xr(Be.formMethod))await Ii(ge,H,{submission:ft({},Be,{formAction:ce}),preventScrollReset:I});else{let Ze=xv(H,z);await Ii(ge,H,{overrideNavigation:Ze,fetcherSubmission:Y,preventScrollReset:I})}}async function pr(T,R,O,z){try{let Y=await fO(u,T,R,O,z,s,i);return await Promise.all(Y.map((ee,ce)=>{if(_O(ee)){let H=ee.result;return{type:qe.redirect,response:gO(H,R,O[ce].route.id,z,l,h.v7_relativeSplatPath)}}return mO(ee)}))}catch(Y){return O.map(()=>({type:qe.error,error:Y}))}}async function Yo(T,R,O,z,Y){let[ee,...ce]=await Promise.all([O.length?pr("loader",Y,O,R):[],...z.map(H=>{if(H.matches&&H.match&&H.controller){let ge=Bl(n.history,H.path,H.controller.signal);return pr("loader",ge,[H.match],H.matches).then(oe=>oe[0])}else return Promise.resolve({type:qe.error,error:wn(404,{pathname:H.path})})})]);return await Promise.all([OS(T,O,ee,ee.map(()=>Y.signal),!1,A.loaderData),OS(T,z.map(H=>H.match),ce,z.map(H=>H.controller?H.controller.signal:null),!0)]),{loaderResults:ee,fetcherResults:ce}}function js(){pe=!0,V.push(...Xy()),Ye.forEach((T,R)=>{$.has(R)&&(F.add(R),zs(R))})}function mr(T,R,O){O===void 0&&(O={}),A.fetchers.set(T,R),Pe({fetchers:new Map(A.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function Fi(T,R,O,z){z===void 0&&(z={});let Y=ou(A.matches,R);dp(T),Pe({errors:{[Y.route.id]:O},fetchers:new Map(A.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function Zb(T){return h.v7_fetcherPersist&&(lt.set(T,(lt.get(T)||0)+1),De.has(T)&&De.delete(T)),A.fetchers.get(T)||sO}function dp(T){let R=A.fetchers.get(T);$.has(T)&&!(R&&R.state==="loading"&&ue.has(T))&&zs(T),Ye.delete(T),ue.delete(T),Ee.delete(T),De.delete(T),F.delete(T),A.fetchers.delete(T)}function KR(T){if(h.v7_fetcherPersist){let R=(lt.get(T)||0)-1;R<=0?(lt.delete(T),De.add(T)):lt.set(T,R)}else dp(T);Pe({fetchers:new Map(A.fetchers)})}function zs(T){let R=$.get(T);xe(R,"Expected fetch controller: "+T),R.abort(),$.delete(T)}function Qb(T){for(let R of T){let O=Zb(R),z=$s(O.data);A.fetchers.set(R,z)}}function Jb(){let T=[],R=!1;for(let O of Ee){let z=A.fetchers.get(O);xe(z,"Expected fetcher: "+O),z.state==="loading"&&(Ee.delete(O),T.push(O),R=!0)}return Qb(T),R}function eE(T){let R=[];for(let[O,z]of ue)if(z<T){let Y=A.fetchers.get(O);xe(Y,"Expected fetcher: "+O),Y.state==="loading"&&(zs(O),ue.delete(O),R.push(O))}return Qb(R),R.length>0}function YR(T,R){let O=A.blockers.get(T)||Wc;return yt.get(T)!==R&&yt.set(T,R),O}function tE(T){A.blockers.delete(T),yt.delete(T)}function hp(T,R){let O=A.blockers.get(T)||Wc;xe(O.state==="unblocked"&&R.state==="blocked"||O.state==="blocked"&&R.state==="blocked"||O.state==="blocked"&&R.state==="proceeding"||O.state==="blocked"&&R.state==="unblocked"||O.state==="proceeding"&&R.state==="unblocked","Invalid blocker state transition: "+O.state+" -> "+R.state);let z=new Map(A.blockers);z.set(T,R),Pe({blockers:z})}function nE(T){let{currentLocation:R,nextLocation:O,historyAction:z}=T;if(yt.size===0)return;yt.size>1&&Ec(!1,"A router only supports one blocker at a time");let Y=Array.from(yt.entries()),[ee,ce]=Y[Y.length-1],H=A.blockers.get(ee);if(!(H&&H.state==="proceeding")&&ce({currentLocation:R,nextLocation:O,historyAction:z}))return ee}function qy(T){let R=wn(404,{pathname:T}),O=a||o,{matches:z,route:Y}=PS(O);return Xy(),{notFoundMatches:z,route:Y,error:R}}function fp(T,R){return{boundaryId:ou(R.partialMatches).route.id,error:wn(400,{type:"route-discovery",pathname:T,message:R.error!=null&&"message"in R.error?R.error:String(R.error)})}}function Xy(T){let R=[];return Se.forEach((O,z)=>{(!T||T(z))&&(O.cancel(),R.push(z),Se.delete(z))}),R}function ZR(T,R,O){if(_=T,v=R,g=O||null,!w&&A.navigation===Sv){w=!0;let z=iE(A.location,A.matches);z!=null&&Pe({restoreScrollPosition:z})}return()=>{_=null,v=null,g=null}}function rE(T,R){return g&&g(T,R.map(z=>IM(z,A.loaderData)))||T.key}function QR(T,R){if(_&&v){let O=rE(T,R);_[O]=v()}}function iE(T,R){if(_){let O=rE(T,R),z=_[O];if(typeof z=="number")return z}return null}function pp(T,R,O){if(d){if(y.has(O))return{active:!1,matches:T};if(T){if(Object.keys(T[0].params).length>0)return{active:!0,matches:tm(R,O,l,!0)}}else return{active:!0,matches:tm(R,O,l,!0)||[]}}return{active:!1,matches:null}}async function mp(T,R,O){let z=T;for(;;){let Y=a==null,ee=a||o;try{await dO(d,R,z,ee,s,i,fr,O)}catch(ge){return{type:"error",error:ge,partialMatches:z}}finally{Y&&(o=[...o])}if(O.aborted)return{type:"aborted"};let ce=ia(ee,R,l);if(ce)return sE(R,y),{type:"success",matches:ce};let H=tm(ee,R,l,!0);if(!H||z.length===H.length&&z.every((ge,oe)=>ge.route.id===H[oe].route.id))return sE(R,y),{type:"success",matches:null};z=H}}function sE(T,R){if(R.size>=m){let O=R.values().next().value;R.delete(O)}R.add(T)}function JR(T){s={},a=Zd(T,i,void 0,s)}function eP(T,R){let O=a==null;gC(T,R,a||o,s,i),O&&(o=[...o],Pe({}))}return P={get basename(){return l},get future(){return h},get state(){return A},get routes(){return o},get window(){return e},initialize:Go,subscribe:Ve,enableScrollRestoration:ZR,navigate:bt,fetch:Vy,revalidate:si,createHref:T=>n.history.createHref(T),encodeLocation:T=>n.history.encodeLocation(T),getFetcher:Zb,deleteFetcher:KR,dispose:qo,getBlocker:YR,deleteBlocker:tE,patchRoutes:eP,_internalFetchControllers:$,_internalActiveDeferreds:Se,_internalSetRoutes:JR},P}function lO(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function O0(n,e,t,r,i,s,o,a){let l,u;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){u=h;break}}else l=e,u=e[e.length-1];let d=gb(i||".",mb(l,s),Mc(n.pathname,t)||n.pathname,a==="path");return i==null&&(d.search=n.search,d.hash=n.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!vb(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&t!=="/"&&(d.pathname=d.pathname==="/"?t:xs([t,d.pathname])),yl(d)}function bS(n,e,t,r){if(!r||!lO(r))return{path:t};if(r.formMethod&&!EO(r.formMethod))return{path:t,error:wn(405,{method:r.formMethod})};let i=()=>({path:t,error:wn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=n?s.toUpperCase():s.toLowerCase(),a=yC(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Xr(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,m)=>{let[y,_]=m;return""+p+y+"="+_+`
`},""):String(r.body);return{path:t,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Xr(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}xe(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=D0(r.formData),u=r.formData;else if(r.body instanceof FormData)l=D0(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=CS(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=CS(l)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Xr(d.formMethod))return{path:t,submission:d};let h=Vo(t);return e&&h.search&&vb(h.search)&&l.append("index",""),h.search="?"+l,{path:yl(h),submission:d}}function uO(n,e){let t=n;if(e){let r=n.findIndex(i=>i.route.id===e);r>=0&&(t=n.slice(0,r))}return t}function ES(n,e,t,r,i,s,o,a,l,u,d,h,f,p,m,y){let _=y?tr(y[1])?y[1].error:y[1].data:void 0,g=n.createURL(e.location),v=n.createURL(i),w=y&&tr(y[1])?y[0]:void 0,x=w?uO(t,w):t,C=y?y[1].statusCode:void 0,k=o&&C&&C>=400,P=x.filter((D,I)=>{let{route:j}=D;if(j.lazy)return!0;if(j.loader==null)return!1;if(s)return typeof j.loader!="function"||j.loader.hydrate?!0:e.loaderData[j.id]===void 0&&(!e.errors||e.errors[j.id]===void 0);if(cO(e.loaderData,e.matches[I],D)||l.some(X=>X===D.route.id))return!0;let ne=e.matches[I],J=D;return SS(D,ft({currentUrl:g,currentParams:ne.params,nextUrl:v,nextParams:J.params},r,{actionResult:_,actionStatus:C,defaultShouldRevalidate:k?!1:a||g.pathname+g.search===v.pathname+v.search||g.search!==v.search||mC(ne,J)}))}),A=[];return h.forEach((D,I)=>{if(s||!t.some(he=>he.route.id===D.routeId)||d.has(I))return;let j=ia(p,D.path,m);if(!j){A.push({key:I,routeId:D.routeId,path:D.path,matches:null,match:null,controller:null});return}let ne=e.fetchers.get(I),J=nd(j,D.path),X=!1;f.has(I)?X=!1:u.has(I)?(u.delete(I),X=!0):ne&&ne.state!=="idle"&&ne.data===void 0?X=a:X=SS(J,ft({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:t[t.length-1].params},r,{actionResult:_,actionStatus:C,defaultShouldRevalidate:k?!1:a})),X&&A.push({key:I,routeId:D.routeId,path:D.path,matches:j,match:J,controller:new AbortController})}),[P,A]}function cO(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function mC(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function SS(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function dO(n,e,t,r,i,s,o,a){let l=[e,...t.map(u=>u.route.id)].join("-");try{let u=o.get(l);u||(u=n({path:e,matches:t,patch:(d,h)=>{a.aborted||gC(d,h,r,i,s)}}),o.set(l,u)),u&&wO(u)&&await u}finally{o.delete(l)}}function gC(n,e,t,r,i){if(n){var s;let o=r[n];xe(o,"No route found to patch children into: routeId = "+n);let a=Zd(e,i,[n,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Zd(e,i,["patch",String(t.length||"0")],r);t.push(...o)}}async function xS(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];xe(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Ec(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!DM.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,ft({},e(i),{lazy:void 0}))}function hO(n){return Promise.all(n.matches.map(e=>e.resolve()))}async function fO(n,e,t,r,i,s,o,a){let l=r.reduce((h,f)=>h.add(f.route.id),new Set),u=new Set,d=await n({matches:i.map(h=>{let f=l.has(h.route.id);return ft({},h,{shouldLoad:f,resolve:m=>(u.add(h.route.id),f?pO(e,t,h,s,o,m,a):Promise.resolve({type:qe.data,result:void 0}))})}),request:t,params:i[0].params,context:a});return i.forEach(h=>xe(u.has(h.route.id),'`match.resolve()` was not called for route id "'+h.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),d.filter((h,f)=>l.has(i[f].route.id))}async function pO(n,e,t,r,i,s,o){let a,l,u=d=>{let h,f=new Promise((y,_)=>h=_);l=()=>h(),e.signal.addEventListener("abort",l);let p=y=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):d({request:e,params:t.params,context:o},...y!==void 0?[y]:[]),m;return s?m=s(y=>p(y)):m=(async()=>{try{return{type:"data",result:await p()}}catch(y){return{type:"error",result:y}}})(),Promise.race([m,f])};try{let d=t.route[n];if(t.route.lazy)if(d){let h,[f]=await Promise.all([u(d).catch(p=>{h=p}),xS(t.route,i,r)]);if(h!==void 0)throw h;a=f}else if(await xS(t.route,i,r),d=t.route[n],d)a=await u(d);else if(n==="action"){let h=new URL(e.url),f=h.pathname+h.search;throw wn(405,{method:e.method,pathname:f,routeId:t.route.id})}else return{type:qe.data,result:void 0};else if(d)a=await u(d);else{let h=new URL(e.url),f=h.pathname+h.search;throw wn(404,{pathname:f})}xe(a.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:qe.error,result:d}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function mO(n){let{result:e,type:t}=n;if(vC(e)){let u;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(d){return{type:qe.error,error:d}}return t===qe.error?{type:qe.error,error:new sg(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:qe.data,data:u,statusCode:e.status,headers:e.headers}}if(t===qe.error){if(MS(e)){var r;if(e.data instanceof Error){var i;return{type:qe.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new sg(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:qe.error,error:e,statusCode:fy(e)?e.status:void 0}}if(bO(e)){var s,o;return{type:qe.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(MS(e)){var a,l;return{type:qe.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:qe.data,data:e}}function gO(n,e,t,r,i,s){let o=n.headers.get("Location");if(xe(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!yb.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===t)+1);o=O0(new URL(e.url),a,i,!0,o,s),n.headers.set("Location",o)}return n}function AS(n,e,t){if(yb.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Mc(i.pathname,t)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return n}function Bl(n,e,t,r){let i=n.createURL(yC(e)).toString(),s={signal:t};if(r&&Xr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=D0(r.formData):s.body=r.formData}return new Request(i,s)}function D0(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function CS(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function yO(n,e,t,r,i,s){let o={},a=null,l,u=!1,d={},h=r&&tr(r[1])?r[1].error:void 0;return t.forEach((f,p)=>{let m=e[p].route.id;if(xe(!da(f),"Cannot handle redirect results in processLoaderData"),tr(f)){let y=f.error;h!==void 0&&(y=h,h=void 0),a=a||{};{let _=ou(n,m);a[_.route.id]==null&&(a[_.route.id]=y)}o[m]=void 0,u||(u=!0,l=fy(f.error)?f.error.status:500),f.headers&&(d[m]=f.headers)}else ca(f)?(i.set(m,f.deferredData),o[m]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!u&&(l=f.statusCode),f.headers&&(d[m]=f.headers)):(o[m]=f.data,f.statusCode&&f.statusCode!==200&&!u&&(l=f.statusCode),f.headers&&(d[m]=f.headers))}),h!==void 0&&r&&(a={[r[0]]:h},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:d}}function kS(n,e,t,r,i,s,o,a){let{loaderData:l,errors:u}=yO(e,t,r,i,a);for(let d=0;d<s.length;d++){let{key:h,match:f,controller:p}=s[d];xe(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let m=o[d];if(!(p&&p.signal.aborted))if(tr(m)){let y=ou(n.matches,f==null?void 0:f.route.id);u&&u[y.route.id]||(u=ft({},u,{[y.route.id]:m.error})),n.fetchers.delete(h)}else if(da(m))xe(!1,"Unhandled fetcher revalidation redirect");else if(ca(m))xe(!1,"Unhandled fetcher deferred data");else{let y=$s(m.data);n.fetchers.set(h,y)}}return{loaderData:l,errors:u}}function TS(n,e,t,r){let i=ft({},e);for(let s of t){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):n[o]!==void 0&&s.route.loader&&(i[o]=n[o]),r&&r.hasOwnProperty(o))break}return i}function RS(n){return n?tr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ou(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function PS(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function wn(n,e){let{pathname:t,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return n===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+t+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):i&&t&&r?l="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):n===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+t+'"'):n===404?(a="Not Found",l='No route matches URL "'+t+'"'):n===405&&(a="Method Not Allowed",i&&t&&r?l="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new sg(n||500,a,new Error(l),!0)}function LS(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(da(t))return{result:t,idx:e}}}function yC(n){let e=typeof n=="string"?Vo(n):n;return yl(ft({},e,{hash:""}))}function vO(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function wO(n){return typeof n=="object"&&n!=null&&"then"in n}function _O(n){return vC(n.result)&&rO.has(n.result.status)}function ca(n){return n.type===qe.deferred}function tr(n){return n.type===qe.error}function da(n){return(n&&n.type)===qe.redirect}function MS(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function bO(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function vC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function EO(n){return nO.has(n.toLowerCase())}function Xr(n){return eO.has(n.toLowerCase())}async function OS(n,e,t,r,i,s){for(let o=0;o<t.length;o++){let a=t[o],l=e[o];if(!l)continue;let u=n.find(h=>h.route.id===l.route.id),d=u!=null&&!mC(u,l)&&(s&&s[l.route.id])!==void 0;if(ca(a)&&(i||d)){let h=r[o];xe(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await wC(a,h,i).then(f=>{f&&(t[o]=f||t[o])})}}}async function wC(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:qe.data,data:n.deferredData.unwrappedData}}catch(i){return{type:qe.error,error:i}}return{type:qe.data,data:n.deferredData.data}}}function vb(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function nd(n,e){let t=typeof e=="string"?Vo(e).search:e.search;if(n[n.length-1].route.index&&vb(t||""))return n[n.length-1];let r=hC(n);return r[r.length-1]}function DS(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:s,json:o}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:o,text:void 0}}}function xv(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function SO(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Gc(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function xO(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function $s(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function AO(n,e){try{let t=n.sessionStorage.getItem(pC);if(t){let r=JSON.parse(t);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function CO(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(pC,JSON.stringify(t))}catch(r){Ec(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function og(){return og=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},og.apply(this,arguments)}const py=L.createContext(null),_C=L.createContext(null),Ll=L.createContext(null),wb=L.createContext(null),Ml=L.createContext({outlet:null,matches:[],isDataRoute:!1}),bC=L.createContext(null);function kO(n,e){let{relative:t}=e===void 0?{}:e;tp()||xe(!1);let{basename:r,navigator:i}=L.useContext(Ll),{hash:s,pathname:o,search:a}=SC(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:xs([r,o])),i.createHref({pathname:l,search:a,hash:s})}function tp(){return L.useContext(wb)!=null}function my(){return tp()||xe(!1),L.useContext(wb).location}function EC(n){L.useContext(Ll).static||L.useLayoutEffect(n)}function Oc(){let{isDataRoute:n}=L.useContext(Ml);return n?zO():TO()}function TO(){tp()||xe(!1);let n=L.useContext(py),{basename:e,future:t,navigator:r}=L.useContext(Ll),{matches:i}=L.useContext(Ml),{pathname:s}=my(),o=JSON.stringify(mb(i,t.v7_relativeSplatPath)),a=L.useRef(!1);return EC(()=>{a.current=!0}),L.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=gb(u,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:xs([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,n])}function SC(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=L.useContext(Ll),{matches:i}=L.useContext(Ml),{pathname:s}=my(),o=JSON.stringify(mb(i,r.v7_relativeSplatPath));return L.useMemo(()=>gb(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function RO(n,e,t,r){tp()||xe(!1);let{navigator:i}=L.useContext(Ll),{matches:s}=L.useContext(Ml),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=my(),d;d=u;let h=d.pathname||"/",f=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=ia(n,{pathname:f});return DO(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:xs([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:xs([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,t,r)}function PO(){let n=jO(),e=fy(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:i},t):null,null)}const LO=L.createElement(PO,null);class MO extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?L.createElement(Ml.Provider,{value:this.props.routeContext},L.createElement(bC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OO(n){let{routeContext:e,match:t,children:r}=n,i=L.useContext(py);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(Ml.Provider,{value:e},r)}function DO(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||xe(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=t,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,m=!1,y=null,_=null;t&&(p=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||LO,l&&(u<0&&f===0?(BO("route-fallback"),m=!0,_=null):u===f&&(m=!0,_=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),v=()=>{let w;return p?w=y:m?w=_:h.route.Component?w=L.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,L.createElement(OO,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:t!=null},children:w})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?L.createElement(MO,{location:t.location,revalidation:t.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var xC=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(xC||{}),ag=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(ag||{});function NO(n){let e=L.useContext(py);return e||xe(!1),e}function IO(n){let e=L.useContext(_C);return e||xe(!1),e}function FO(n){let e=L.useContext(Ml);return e||xe(!1),e}function AC(n){let e=FO(),t=e.matches[e.matches.length-1];return t.route.id||xe(!1),t.route.id}function jO(){var n;let e=L.useContext(bC),t=IO(ag.UseRouteError),r=AC(ag.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function zO(){let{router:n}=NO(xC.UseNavigateStable),e=AC(ag.UseNavigateStable),t=L.useRef(!1);return EC(()=>{t.current=!0}),L.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,og({fromRouteId:e},s)))},[n,e])}const NS={};function BO(n,e,t){NS[n]||(NS[n]=!0)}function UO(n){let{basename:e="/",children:t=null,location:r,navigationType:i=kt.Pop,navigator:s,static:o=!1,future:a}=n;tp()&&xe(!1);let l=e.replace(/^\/*/,"/"),u=L.useMemo(()=>({basename:l,navigator:s,static:o,future:og({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Vo(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,y=L.useMemo(()=>{let _=Mc(d,l);return _==null?null:{location:{pathname:_,search:h,hash:f,state:p,key:m},navigationType:i}},[l,d,h,f,p,m,i]);return y==null?null:L.createElement(Ll.Provider,{value:u},L.createElement(wb.Provider,{children:t,value:y}))}new Promise(()=>{});function HO(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:L.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:L.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:L.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qd(){return Qd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Qd.apply(this,arguments)}function $O(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function VO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function WO(n,e){return n.button===0&&(!e||e==="_self")&&!VO(n)}const GO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],qO="6";try{window.__reactRouterVersion=qO}catch{}function XO(n,e){return aO({basename:void 0,future:Qd({},void 0,{v7_prependBasename:!0}),history:LM({window:void 0}),hydrationData:KO(),routes:n,mapRouteProperties:HO,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function KO(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Qd({},e,{errors:YO(e.errors)})),e}function YO(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new sg(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",t[r]=o}catch{}}if(t[r]==null){let s=new Error(i.message);s.stack="",t[r]=s}}else t[r]=i;return t}const ZO=L.createContext({isTransitioning:!1}),QO=L.createContext(new Map),JO="startTransition",IS=Bv[JO],eD="flushSync",FS=PM[eD];function tD(n){IS?IS(n):n()}function qc(n){FS?FS(n):n()}class nD{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}}function rD(n){let{fallbackElement:e,router:t,future:r}=n,[i,s]=L.useState(t.state),[o,a]=L.useState(),[l,u]=L.useState({isTransitioning:!1}),[d,h]=L.useState(),[f,p]=L.useState(),[m,y]=L.useState(),_=L.useRef(new Map),{v7_startTransition:g}=r||{},v=L.useCallback(A=>{g?tD(A):A()},[g]),w=L.useCallback((A,D)=>{let{deletedFetchers:I,unstable_flushSync:j,unstable_viewTransitionOpts:ne}=D;I.forEach(X=>_.current.delete(X)),A.fetchers.forEach((X,he)=>{X.data!==void 0&&_.current.set(he,X.data)});let J=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!ne||J){j?qc(()=>s(A)):v(()=>s(A));return}if(j){qc(()=>{f&&(d&&d.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:ne.currentLocation,nextLocation:ne.nextLocation})});let X=t.window.document.startViewTransition(()=>{qc(()=>s(A))});X.finished.finally(()=>{qc(()=>{h(void 0),p(void 0),a(void 0),u({isTransitioning:!1})})}),qc(()=>p(X));return}f?(d&&d.resolve(),f.skipTransition(),y({state:A,currentLocation:ne.currentLocation,nextLocation:ne.nextLocation})):(a(A),u({isTransitioning:!0,flushSync:!1,currentLocation:ne.currentLocation,nextLocation:ne.nextLocation}))},[t.window,f,d,_,v]);L.useLayoutEffect(()=>t.subscribe(w),[t,w]),L.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new nD)},[l]),L.useEffect(()=>{if(d&&o&&t.window){let A=o,D=d.promise,I=t.window.document.startViewTransition(async()=>{v(()=>s(A)),await D});I.finished.finally(()=>{h(void 0),p(void 0),a(void 0),u({isTransitioning:!1})}),p(I)}},[v,o,d,t.window]),L.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,f,i.location,o]),L.useEffect(()=>{!l.isTransitioning&&m&&(a(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),y(void 0))},[l.isTransitioning,m]),L.useEffect(()=>{},[]);let x=L.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:A=>t.navigate(A),push:(A,D,I)=>t.navigate(A,{state:D,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(A,D,I)=>t.navigate(A,{replace:!0,state:D,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[t]),C=t.basename||"/",k=L.useMemo(()=>({router:t,navigator:x,static:!1,basename:C}),[t,x,C]),P=L.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return L.createElement(L.Fragment,null,L.createElement(py.Provider,{value:k},L.createElement(_C.Provider,{value:i},L.createElement(QO.Provider,{value:_.current},L.createElement(ZO.Provider,{value:l},L.createElement(UO,{basename:C,location:i.location,navigationType:i.historyAction,navigator:x,future:P},i.initialized||t.future.v7_partialHydration?L.createElement(iD,{routes:t.routes,future:t.future,state:i}):e))))),null)}const iD=L.memo(sD);function sD(n){let{routes:e,future:t,state:r}=n;return RO(e,void 0,r,t)}const oD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CC=L.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=$O(e,GO),{basename:p}=L.useContext(Ll),m,y=!1;if(typeof u=="string"&&aD.test(u)&&(m=u,oD))try{let w=new URL(window.location.href),x=u.startsWith("//")?new URL(w.protocol+u):new URL(u),C=Mc(x.pathname,p);x.origin===w.origin&&C!=null?u=C+x.search+x.hash:y=!0}catch{}let _=kO(u,{relative:i}),g=lD(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:h});function v(w){r&&r(w),w.defaultPrevented||g(w)}return L.createElement("a",Qd({},f,{href:m||_,onClick:y||s?r:v,ref:t,target:l}))});var jS;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(jS||(jS={}));var zS;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(zS||(zS={}));function lD(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Oc(),u=my(),d=SC(n,{relative:o});return L.useCallback(h=>{if(WO(h,t)){h.preventDefault();let f=r!==void 0?r:yl(u)===yl(d);l(n,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,d,r,i,t,n,s,o,a])}var kC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},BS=Es.createContext&&Es.createContext(kC),uD=["attr","size","title"];function cD(n,e){if(n==null)return{};var t=dD(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function dD(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function lg(){return lg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lg.apply(this,arguments)}function US(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ug(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?US(Object(t),!0).forEach(function(r){hD(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):US(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function hD(n,e,t){return e=fD(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fD(n){var e=pD(n,"string");return typeof e=="symbol"?e:e+""}function pD(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function TC(n){return n&&n.map((e,t)=>Es.createElement(e.tag,ug({key:t},e.attr),TC(e.child)))}function gy(n){return e=>Es.createElement(mD,lg({attr:ug({},n.attr)},e),TC(n.child))}function mD(n){var e=t=>{var{attr:r,size:i,title:s}=n,o=cD(n,uD),a=i||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),Es.createElement("svg",lg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:l,style:ug(ug({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Es.createElement("title",null,s),n.children)};return BS!==void 0?Es.createElement(BS.Consumer,null,t=>e(t)):e(kC)}function gD(n){return gy({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M403.002 217.001C388.998 148.002 328.998 96 256 96c-57.998 0-107.998 32.998-132.998 81.001C63.002 183.002 16 233.998 16 296c0 65.996 53.999 120 120 120h260c55 0 100-45 100-100 0-52.998-40.996-96.001-92.998-98.999zM288 276v76h-64v-76h-68l100-100 100 100h-68z"},child:[]}]})(n)}var Oe;(function(n){n.assertEqual=i=>i;function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},n.getValidEnumValues=i=>{const s=n.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return n.objectValues(o)},n.objectValues=i=>n.objectKeys(i).map(function(s){return i[s]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},n.find=(i,s)=>{for(const o of i)if(s(o))return o},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}n.joinValues=r,n.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Oe||(Oe={}));var N0;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(N0||(N0={}));const K=Oe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Zs=n=>{switch(typeof n){case"undefined":return K.undefined;case"string":return K.string;case"number":return isNaN(n)?K.nan:K.number;case"boolean":return K.boolean;case"function":return K.function;case"bigint":return K.bigint;case"symbol":return K.symbol;case"object":return Array.isArray(n)?K.array:n===null?K.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?K.promise:typeof Map<"u"&&n instanceof Map?K.map:typeof Set<"u"&&n instanceof Set?K.set:typeof Date<"u"&&n instanceof Date?K.date:K.object;default:return K.unknown}},U=Oe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),yD=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class or extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(t(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),r}static assert(e){if(!(e instanceof or))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Oe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}or.create=n=>new or(n);const Sc=(n,e)=>{let t;switch(n.code){case U.invalid_type:n.received===K.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case U.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Oe.jsonStringifyReplacer)}`;break;case U.unrecognized_keys:t=`Unrecognized key(s) in object: ${Oe.joinValues(n.keys,", ")}`;break;case U.invalid_union:t="Invalid input";break;case U.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Oe.joinValues(n.options)}`;break;case U.invalid_enum_value:t=`Invalid enum value. Expected ${Oe.joinValues(n.options)}, received '${n.received}'`;break;case U.invalid_arguments:t="Invalid function arguments";break;case U.invalid_return_type:t="Invalid function return type";break;case U.invalid_date:t="Invalid date";break;case U.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Oe.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case U.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case U.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case U.custom:t="Invalid input";break;case U.invalid_intersection_types:t="Intersection results could not be merged";break;case U.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case U.not_finite:t="Number must be finite";break;default:t=e.defaultError,Oe.assertNever(n)}return{message:t}};let RC=Sc;function vD(n){RC=n}function cg(){return RC}const dg=n=>{const{data:e,path:t,errorMaps:r,issueData:i}=n,s=[...t,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},wD=[];function q(n,e){const t=cg(),r=dg({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Sc?void 0:Sc].filter(i=>!!i)});n.common.issues.push(r)}class mn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const i of t){if(i.status==="aborted")return le;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const i of t){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return mn.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const i of t){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return le;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const le=Object.freeze({status:"aborted"}),au=n=>({status:"dirty",value:n}),An=n=>({status:"valid",value:n}),I0=n=>n.status==="aborted",F0=n=>n.status==="dirty",Jd=n=>n.status==="valid",eh=n=>typeof Promise<"u"&&n instanceof Promise;function hg(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function PC(n,e,t,r,i){if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var re;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(re||(re={}));var rd,id;class Oi{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const HS=(n,e)=>{if(Jd(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new or(n.common.issues);return this._error=t,this._error}}};function ve(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:i}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var l,u;const{message:d}=n;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=d??t)!==null&&u!==void 0?u:a.defaultError}},description:i}}class be{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Zs(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Zs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new mn,ctx:{common:e.parent.common,data:e.data,parsedType:Zs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(eh(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const i={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Zs(e)},s=this._parseSync({data:e,path:i.path,parent:i});return HS(i,s)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Zs(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(eh(i)?i:Promise.resolve(i));return HS(r,s)}refine(e,t){const r=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:U.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new ri({schema:this,typeName:ae.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Pi.create(this,this._def)}nullable(){return Io.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ei.create(this,this._def)}promise(){return Ac.create(this,this._def)}or(e){return ih.create([this,e],this._def)}and(e){return sh.create(this,e,this._def)}transform(e){return new ri({...ve(this._def),schema:this,typeName:ae.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new ch({...ve(this._def),innerType:this,defaultValue:t,typeName:ae.ZodDefault})}brand(){return new _b({typeName:ae.ZodBranded,type:this,...ve(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new dh({...ve(this._def),innerType:this,catchValue:t,typeName:ae.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return np.create(this,e)}readonly(){return hh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _D=/^c[^\s-]{8,}$/i,bD=/^[0-9a-z]+$/,ED=/^[0-9A-HJKMNP-TV-Z]{26}$/,SD=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xD=/^[a-z0-9_-]{21}$/i,AD=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,CD=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,kD="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Av;const TD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,RD=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,PD=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,LC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",LD=new RegExp(`^${LC}$`);function MC(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function MD(n){return new RegExp(`^${MC(n)}$`)}function OC(n){let e=`${LC}T${MC(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function OD(n,e){return!!((e==="v4"||!e)&&TD.test(n)||(e==="v6"||!e)&&RD.test(n))}class Zr extends be{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==K.string){const s=this._getOrReturnCtx(e);return q(s,{code:U.invalid_type,expected:K.string,received:s.parsedType}),le}const r=new mn;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:U.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:U.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?q(i,{code:U.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&q(i,{code:U.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")CD.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"email",code:U.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Av||(Av=new RegExp(kD,"u")),Av.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"emoji",code:U.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")SD.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"uuid",code:U.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")xD.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"nanoid",code:U.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")_D.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"cuid",code:U.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")bD.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"cuid2",code:U.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")ED.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"ulid",code:U.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),q(i,{validation:"url",code:U.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"regex",code:U.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),q(i,{code:U.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),q(i,{code:U.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),q(i,{code:U.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?OC(s).test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{code:U.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?LD.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{code:U.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?MD(s).test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{code:U.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?AD.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"duration",code:U.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?OD(e.data,s.version)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"ip",code:U.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?PD.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"base64",code:U.invalid_string,message:s.message}),r.dirty()):Oe.assertNever(s);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(i=>e.test(i),{validation:t,code:U.invalid_string,...re.errToObj(r)})}_addCheck(e){return new Zr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...re.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...re.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...re.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...re.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...re.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...re.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...re.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...re.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...re.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...re.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...re.errToObj(t)})}nonempty(e){return this.min(1,re.errToObj(e))}trim(){return new Zr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Zr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Zr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Zr.create=n=>{var e;return new Zr({checks:[],typeName:ae.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...ve(n)})};function DD(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,s=parseInt(n.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Oo extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==K.number){const s=this._getOrReturnCtx(e);return q(s,{code:U.invalid_type,expected:K.number,received:s.parsedType}),le}let r;const i=new mn;for(const s of this._def.checks)s.kind==="int"?Oe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),q(r,{code:U.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:U.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:U.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?DD(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),q(r,{code:U.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),q(r,{code:U.not_finite,message:s.message}),i.dirty()):Oe.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,re.toString(t))}gt(e,t){return this.setLimit("min",e,!1,re.toString(t))}lte(e,t){return this.setLimit("max",e,!0,re.toString(t))}lt(e,t){return this.setLimit("max",e,!1,re.toString(t))}setLimit(e,t,r,i){return new Oo({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:re.toString(i)}]})}_addCheck(e){return new Oo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:re.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:re.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Oe.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Oo.create=n=>new Oo({checks:[],typeName:ae.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...ve(n)});class Do extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==K.bigint){const s=this._getOrReturnCtx(e);return q(s,{code:U.invalid_type,expected:K.bigint,received:s.parsedType}),le}let r;const i=new mn;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:U.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:U.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),q(r,{code:U.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Oe.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,re.toString(t))}gt(e,t){return this.setLimit("min",e,!1,re.toString(t))}lte(e,t){return this.setLimit("max",e,!0,re.toString(t))}lt(e,t){return this.setLimit("max",e,!1,re.toString(t))}setLimit(e,t,r,i){return new Do({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:re.toString(i)}]})}_addCheck(e){return new Do({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:re.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Do.create=n=>{var e;return new Do({checks:[],typeName:ae.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...ve(n)})};class th extends be{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==K.boolean){const r=this._getOrReturnCtx(e);return q(r,{code:U.invalid_type,expected:K.boolean,received:r.parsedType}),le}return An(e.data)}}th.create=n=>new th({typeName:ae.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...ve(n)});class vl extends be{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==K.date){const s=this._getOrReturnCtx(e);return q(s,{code:U.invalid_type,expected:K.date,received:s.parsedType}),le}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return q(s,{code:U.invalid_date}),le}const r=new mn;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:U.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:U.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Oe.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new vl({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:re.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:re.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}vl.create=n=>new vl({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:ae.ZodDate,...ve(n)});class fg extends be{_parse(e){if(this._getType(e)!==K.symbol){const r=this._getOrReturnCtx(e);return q(r,{code:U.invalid_type,expected:K.symbol,received:r.parsedType}),le}return An(e.data)}}fg.create=n=>new fg({typeName:ae.ZodSymbol,...ve(n)});class nh extends be{_parse(e){if(this._getType(e)!==K.undefined){const r=this._getOrReturnCtx(e);return q(r,{code:U.invalid_type,expected:K.undefined,received:r.parsedType}),le}return An(e.data)}}nh.create=n=>new nh({typeName:ae.ZodUndefined,...ve(n)});class rh extends be{_parse(e){if(this._getType(e)!==K.null){const r=this._getOrReturnCtx(e);return q(r,{code:U.invalid_type,expected:K.null,received:r.parsedType}),le}return An(e.data)}}rh.create=n=>new rh({typeName:ae.ZodNull,...ve(n)});class xc extends be{constructor(){super(...arguments),this._any=!0}_parse(e){return An(e.data)}}xc.create=n=>new xc({typeName:ae.ZodAny,...ve(n)});class cl extends be{constructor(){super(...arguments),this._unknown=!0}_parse(e){return An(e.data)}}cl.create=n=>new cl({typeName:ae.ZodUnknown,...ve(n)});class Os extends be{_parse(e){const t=this._getOrReturnCtx(e);return q(t,{code:U.invalid_type,expected:K.never,received:t.parsedType}),le}}Os.create=n=>new Os({typeName:ae.ZodNever,...ve(n)});class pg extends be{_parse(e){if(this._getType(e)!==K.undefined){const r=this._getOrReturnCtx(e);return q(r,{code:U.invalid_type,expected:K.void,received:r.parsedType}),le}return An(e.data)}}pg.create=n=>new pg({typeName:ae.ZodVoid,...ve(n)});class ei extends be{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==K.array)return q(t,{code:U.invalid_type,expected:K.array,received:t.parsedType}),le;if(i.exactLength!==null){const o=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(o||a)&&(q(t,{code:o?U.too_big:U.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(q(t,{code:U.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(q(t,{code:U.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((o,a)=>i.type._parseAsync(new Oi(t,o,t.path,a)))).then(o=>mn.mergeArray(r,o));const s=[...t.data].map((o,a)=>i.type._parseSync(new Oi(t,o,t.path,a)));return mn.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new ei({...this._def,minLength:{value:e,message:re.toString(t)}})}max(e,t){return new ei({...this._def,maxLength:{value:e,message:re.toString(t)}})}length(e,t){return new ei({...this._def,exactLength:{value:e,message:re.toString(t)}})}nonempty(e){return this.min(1,e)}}ei.create=(n,e)=>new ei({type:n,minLength:null,maxLength:null,exactLength:null,typeName:ae.ZodArray,...ve(e)});function Ul(n){if(n instanceof ht){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Pi.create(Ul(r))}return new ht({...n._def,shape:()=>e})}else return n instanceof ei?new ei({...n._def,type:Ul(n.element)}):n instanceof Pi?Pi.create(Ul(n.unwrap())):n instanceof Io?Io.create(Ul(n.unwrap())):n instanceof Di?Di.create(n.items.map(e=>Ul(e))):n}class ht extends be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Oe.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==K.object){const u=this._getOrReturnCtx(e);return q(u,{code:U.invalid_type,expected:K.object,received:u.parsedType}),le}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Os&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const d=s[u],h=i.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Oi(i,h,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Os){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")a.length>0&&(q(i,{code:U.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const h=i.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Oi(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>mn.mergeObjectSync(r,u)):mn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return re.errToObj,new ht({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,t,r).message)!==null&&o!==void 0?o:r.defaultError;return t.code==="unrecognized_keys"?{message:(a=re.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new ht({...this._def,unknownKeys:"strip"})}passthrough(){return new ht({...this._def,unknownKeys:"passthrough"})}extend(e){return new ht({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ht({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ae.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ht({...this._def,catchall:e})}pick(e){const t={};return Oe.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new ht({...this._def,shape:()=>t})}omit(e){const t={};return Oe.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new ht({...this._def,shape:()=>t})}deepPartial(){return Ul(this)}partial(e){const t={};return Oe.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new ht({...this._def,shape:()=>t})}required(e){const t={};return Oe.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Pi;)s=s._def.innerType;t[r]=s}}),new ht({...this._def,shape:()=>t})}keyof(){return DC(Oe.objectKeys(this.shape))}}ht.create=(n,e)=>new ht({shape:()=>n,unknownKeys:"strip",catchall:Os.create(),typeName:ae.ZodObject,...ve(e)});ht.strictCreate=(n,e)=>new ht({shape:()=>n,unknownKeys:"strict",catchall:Os.create(),typeName:ae.ZodObject,...ve(e)});ht.lazycreate=(n,e)=>new ht({shape:n,unknownKeys:"strip",catchall:Os.create(),typeName:ae.ZodObject,...ve(e)});class ih extends be{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return t.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new or(a.ctx.common.issues));return q(t,{code:U.invalid_union,unionErrors:o}),le}if(t.common.async)return Promise.all(r.map(async s=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const u={...t,common:{...t.common,issues:[]},parent:null},d=l._parseSync({data:t.data,path:t.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new or(l));return q(t,{code:U.invalid_union,unionErrors:a}),le}}get options(){return this._def.options}}ih.create=(n,e)=>new ih({options:n,typeName:ae.ZodUnion,...ve(e)});const Hi=n=>n instanceof ah?Hi(n.schema):n instanceof ri?Hi(n.innerType()):n instanceof lh?[n.value]:n instanceof No?n.options:n instanceof uh?Oe.objectValues(n.enum):n instanceof ch?Hi(n._def.innerType):n instanceof nh?[void 0]:n instanceof rh?[null]:n instanceof Pi?[void 0,...Hi(n.unwrap())]:n instanceof Io?[null,...Hi(n.unwrap())]:n instanceof _b||n instanceof hh?Hi(n.unwrap()):n instanceof dh?Hi(n._def.innerType):[];class yy extends be{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==K.object)return q(t,{code:U.invalid_type,expected:K.object,received:t.parsedType}),le;const r=this.discriminator,i=t.data[r],s=this.optionsMap.get(i);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(q(t,{code:U.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),le)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const i=new Map;for(const s of t){const o=Hi(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new yy({typeName:ae.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...ve(r)})}}function j0(n,e){const t=Zs(n),r=Zs(e);if(n===e)return{valid:!0,data:n};if(t===K.object&&r===K.object){const i=Oe.objectKeys(e),s=Oe.objectKeys(n).filter(a=>i.indexOf(a)!==-1),o={...n,...e};for(const a of s){const l=j0(n[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(t===K.array&&r===K.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<n.length;s++){const o=n[s],a=e[s],l=j0(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return t===K.date&&r===K.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class sh extends be{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(I0(s)||I0(o))return le;const a=j0(s.value,o.value);return a.valid?((F0(s)||F0(o))&&t.dirty(),{status:t.value,value:a.data}):(q(r,{code:U.invalid_intersection_types}),le)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}sh.create=(n,e,t)=>new sh({left:n,right:e,typeName:ae.ZodIntersection,...ve(t)});class Di extends be{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.array)return q(r,{code:U.invalid_type,expected:K.array,received:r.parsedType}),le;if(r.data.length<this._def.items.length)return q(r,{code:U.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),le;!this._def.rest&&r.data.length>this._def.items.length&&(q(r,{code:U.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Oi(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>mn.mergeArray(t,o)):mn.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new Di({...this._def,rest:e})}}Di.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Di({items:n,typeName:ae.ZodTuple,rest:null,...ve(e)})};class oh extends be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.object)return q(r,{code:U.invalid_type,expected:K.object,received:r.parsedType}),le;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new Oi(r,a,r.path,a)),value:o._parse(new Oi(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?mn.mergeObjectAsync(t,i):mn.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof be?new oh({keyType:e,valueType:t,typeName:ae.ZodRecord,...ve(r)}):new oh({keyType:Zr.create(),valueType:e,typeName:ae.ZodRecord,...ve(t)})}}class mg extends be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.map)return q(r,{code:U.invalid_type,expected:K.map,received:r.parsedType}),le;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:i._parse(new Oi(r,a,r.path,[u,"key"])),value:s._parse(new Oi(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return le;(u.status==="dirty"||d.status==="dirty")&&t.dirty(),a.set(u.value,d.value)}return{status:t.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return le;(u.status==="dirty"||d.status==="dirty")&&t.dirty(),a.set(u.value,d.value)}return{status:t.value,value:a}}}}mg.create=(n,e,t)=>new mg({valueType:e,keyType:n,typeName:ae.ZodMap,...ve(t)});class wl extends be{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.set)return q(r,{code:U.invalid_type,expected:K.set,received:r.parsedType}),le;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(q(r,{code:U.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(q(r,{code:U.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const s=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return le;d.status==="dirty"&&t.dirty(),u.add(d.value)}return{status:t.value,value:u}}const a=[...r.data.values()].map((l,u)=>s._parse(new Oi(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,t){return new wl({...this._def,minSize:{value:e,message:re.toString(t)}})}max(e,t){return new wl({...this._def,maxSize:{value:e,message:re.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}wl.create=(n,e)=>new wl({valueType:n,minSize:null,maxSize:null,typeName:ae.ZodSet,...ve(e)});class mu extends be{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==K.function)return q(t,{code:U.invalid_type,expected:K.function,received:t.parsedType}),le;function r(a,l){return dg({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,cg(),Sc].filter(u=>!!u),issueData:{code:U.invalid_arguments,argumentsError:l}})}function i(a,l){return dg({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,cg(),Sc].filter(u=>!!u),issueData:{code:U.invalid_return_type,returnTypeError:l}})}const s={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Ac){const a=this;return An(async function(...l){const u=new or([]),d=await a._def.args.parseAsync(l,s).catch(p=>{throw u.addIssue(r(l,p)),u}),h=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(h,s).catch(p=>{throw u.addIssue(i(h,p)),u})})}else{const a=this;return An(function(...l){const u=a._def.args.safeParse(l,s);if(!u.success)throw new or([r(l,u.error)]);const d=Reflect.apply(o,this,u.data),h=a._def.returns.safeParse(d,s);if(!h.success)throw new or([i(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new mu({...this._def,args:Di.create(e).rest(cl.create())})}returns(e){return new mu({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new mu({args:e||Di.create([]).rest(cl.create()),returns:t||cl.create(),typeName:ae.ZodFunction,...ve(r)})}}class ah extends be{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ah.create=(n,e)=>new ah({getter:n,typeName:ae.ZodLazy,...ve(e)});class lh extends be{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return q(t,{received:t.data,code:U.invalid_literal,expected:this._def.value}),le}return{status:"valid",value:e.data}}get value(){return this._def.value}}lh.create=(n,e)=>new lh({value:n,typeName:ae.ZodLiteral,...ve(e)});function DC(n,e){return new No({values:n,typeName:ae.ZodEnum,...ve(e)})}class No extends be{constructor(){super(...arguments),rd.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return q(t,{expected:Oe.joinValues(r),received:t.parsedType,code:U.invalid_type}),le}if(hg(this,rd)||PC(this,rd,new Set(this._def.values)),!hg(this,rd).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return q(t,{received:t.data,code:U.invalid_enum_value,options:r}),le}return An(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return No.create(e,{...this._def,...t})}exclude(e,t=this._def){return No.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}rd=new WeakMap;No.create=DC;class uh extends be{constructor(){super(...arguments),id.set(this,void 0)}_parse(e){const t=Oe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==K.string&&r.parsedType!==K.number){const i=Oe.objectValues(t);return q(r,{expected:Oe.joinValues(i),received:r.parsedType,code:U.invalid_type}),le}if(hg(this,id)||PC(this,id,new Set(Oe.getValidEnumValues(this._def.values))),!hg(this,id).has(e.data)){const i=Oe.objectValues(t);return q(r,{received:r.data,code:U.invalid_enum_value,options:i}),le}return An(e.data)}get enum(){return this._def.values}}id=new WeakMap;uh.create=(n,e)=>new uh({values:n,typeName:ae.ZodNativeEnum,...ve(e)});class Ac extends be{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==K.promise&&t.common.async===!1)return q(t,{code:U.invalid_type,expected:K.promise,received:t.parsedType}),le;const r=t.parsedType===K.promise?t.data:Promise.resolve(t.data);return An(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Ac.create=(n,e)=>new Ac({type:n,typeName:ae.ZodPromise,...ve(e)});class ri extends be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ae.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{q(r,o),o.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(t.value==="aborted")return le;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?le:l.status==="dirty"||t.value==="dirty"?au(l.value):l});{if(t.value==="aborted")return le;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?le:a.status==="dirty"||t.value==="dirty"?au(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?le:(a.status==="dirty"&&t.dirty(),o(a.value),{status:t.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?le:(a.status==="dirty"&&t.dirty(),o(a.value).then(()=>({status:t.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Jd(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Jd(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:t.value,value:a})):o);Oe.assertNever(i)}}ri.create=(n,e,t)=>new ri({schema:n,typeName:ae.ZodEffects,effect:e,...ve(t)});ri.createWithPreprocess=(n,e,t)=>new ri({schema:e,effect:{type:"preprocess",transform:n},typeName:ae.ZodEffects,...ve(t)});class Pi extends be{_parse(e){return this._getType(e)===K.undefined?An(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Pi.create=(n,e)=>new Pi({innerType:n,typeName:ae.ZodOptional,...ve(e)});class Io extends be{_parse(e){return this._getType(e)===K.null?An(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Io.create=(n,e)=>new Io({innerType:n,typeName:ae.ZodNullable,...ve(e)});class ch extends be{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===K.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ch.create=(n,e)=>new ch({innerType:n,typeName:ae.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ve(e)});class dh extends be{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return eh(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new or(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new or(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}dh.create=(n,e)=>new dh({innerType:n,typeName:ae.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ve(e)});class gg extends be{_parse(e){if(this._getType(e)!==K.nan){const r=this._getOrReturnCtx(e);return q(r,{code:U.invalid_type,expected:K.nan,received:r.parsedType}),le}return{status:"valid",value:e.data}}}gg.create=n=>new gg({typeName:ae.ZodNaN,...ve(n)});const ND=Symbol("zod_brand");class _b extends be{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class np extends be{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?le:s.status==="dirty"?(t.dirty(),au(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?le:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new np({in:e,out:t,typeName:ae.ZodPipeline})}}class hh extends be{_parse(e){const t=this._def.innerType._parse(e),r=i=>(Jd(i)&&(i.value=Object.freeze(i.value)),i);return eh(t)?t.then(i=>r(i)):r(t)}unwrap(){return this._def.innerType}}hh.create=(n,e)=>new hh({innerType:n,typeName:ae.ZodReadonly,...ve(e)});function NC(n,e={},t){return n?xc.create().superRefine((r,i)=>{var s,o;if(!n(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(s=a.fatal)!==null&&s!==void 0?s:t)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...u,fatal:l})}}):xc.create()}const ID={object:ht.lazycreate};var ae;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(ae||(ae={}));const FD=(n,e={message:`Input not instance of ${n.name}`})=>NC(t=>t instanceof n,e),IC=Zr.create,FC=Oo.create,jD=gg.create,zD=Do.create,jC=th.create,BD=vl.create,UD=fg.create,HD=nh.create,$D=rh.create,VD=xc.create,WD=cl.create,GD=Os.create,qD=pg.create,XD=ei.create,KD=ht.create,YD=ht.strictCreate,ZD=ih.create,QD=yy.create,JD=sh.create,eN=Di.create,tN=oh.create,nN=mg.create,rN=wl.create,iN=mu.create,sN=ah.create,oN=lh.create,aN=No.create,lN=uh.create,uN=Ac.create,$S=ri.create,cN=Pi.create,dN=Io.create,hN=ri.createWithPreprocess,fN=np.create,pN=()=>IC().optional(),mN=()=>FC().optional(),gN=()=>jC().optional(),yN={string:n=>Zr.create({...n,coerce:!0}),number:n=>Oo.create({...n,coerce:!0}),boolean:n=>th.create({...n,coerce:!0}),bigint:n=>Do.create({...n,coerce:!0}),date:n=>vl.create({...n,coerce:!0})},vN=le;var ki=Object.freeze({__proto__:null,defaultErrorMap:Sc,setErrorMap:vD,getErrorMap:cg,makeIssue:dg,EMPTY_PATH:wD,addIssueToContext:q,ParseStatus:mn,INVALID:le,DIRTY:au,OK:An,isAborted:I0,isDirty:F0,isValid:Jd,isAsync:eh,get util(){return Oe},get objectUtil(){return N0},ZodParsedType:K,getParsedType:Zs,ZodType:be,datetimeRegex:OC,ZodString:Zr,ZodNumber:Oo,ZodBigInt:Do,ZodBoolean:th,ZodDate:vl,ZodSymbol:fg,ZodUndefined:nh,ZodNull:rh,ZodAny:xc,ZodUnknown:cl,ZodNever:Os,ZodVoid:pg,ZodArray:ei,ZodObject:ht,ZodUnion:ih,ZodDiscriminatedUnion:yy,ZodIntersection:sh,ZodTuple:Di,ZodRecord:oh,ZodMap:mg,ZodSet:wl,ZodFunction:mu,ZodLazy:ah,ZodLiteral:lh,ZodEnum:No,ZodNativeEnum:uh,ZodPromise:Ac,ZodEffects:ri,ZodTransformer:ri,ZodOptional:Pi,ZodNullable:Io,ZodDefault:ch,ZodCatch:dh,ZodNaN:gg,BRAND:ND,ZodBranded:_b,ZodPipeline:np,ZodReadonly:hh,custom:NC,Schema:be,ZodSchema:be,late:ID,get ZodFirstPartyTypeKind(){return ae},coerce:yN,any:VD,array:XD,bigint:zD,boolean:jC,date:BD,discriminatedUnion:QD,effect:$S,enum:aN,function:iN,instanceof:FD,intersection:JD,lazy:sN,literal:oN,map:nN,nan:jD,nativeEnum:lN,never:GD,null:$D,nullable:dN,number:FC,object:KD,oboolean:gN,onumber:mN,optional:cN,ostring:pN,pipeline:fN,preprocess:hN,promise:uN,record:tN,set:rN,strictObject:YD,string:IC,symbol:UD,transformer:$S,tuple:eN,undefined:HD,union:ZD,unknown:WD,void:qD,NEVER:vN,ZodIssueCode:U,quotelessJson:yD,ZodError:or});function zC(n,e){return function(){return n.apply(e,arguments)}}const{toString:wN}=Object.prototype,{getPrototypeOf:bb}=Object,vy=(n=>e=>{const t=wN.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ii=n=>(n=n.toLowerCase(),e=>vy(e)===n),wy=n=>e=>typeof e===n,{isArray:Dc}=Array,fh=wy("undefined");function _N(n){return n!==null&&!fh(n)&&n.constructor!==null&&!fh(n.constructor)&&ar(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const BC=ii("ArrayBuffer");function bN(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&BC(n.buffer),e}const EN=wy("string"),ar=wy("function"),UC=wy("number"),_y=n=>n!==null&&typeof n=="object",SN=n=>n===!0||n===!1,nm=n=>{if(vy(n)!=="object")return!1;const e=bb(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},xN=ii("Date"),AN=ii("File"),CN=ii("Blob"),kN=ii("FileList"),TN=n=>_y(n)&&ar(n.pipe),RN=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ar(n.append)&&((e=vy(n))==="formdata"||e==="object"&&ar(n.toString)&&n.toString()==="[object FormData]"))},PN=ii("URLSearchParams"),[LN,MN,ON,DN]=["ReadableStream","Request","Response","Headers"].map(ii),NN=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rp(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Dc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function HC(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const ha=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$C=n=>!fh(n)&&n!==ha;function z0(){const{caseless:n}=$C(this)&&this||{},e={},t=(r,i)=>{const s=n&&HC(e,i)||i;nm(e[s])&&nm(r)?e[s]=z0(e[s],r):nm(r)?e[s]=z0({},r):Dc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&rp(arguments[r],t);return e}const IN=(n,e,t,{allOwnKeys:r}={})=>(rp(e,(i,s)=>{t&&ar(i)?n[s]=zC(i,t):n[s]=i},{allOwnKeys:r}),n),FN=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),jN=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},zN=(n,e,t,r)=>{let i,s,o;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&bb(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},BN=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},UN=n=>{if(!n)return null;if(Dc(n))return n;let e=n.length;if(!UC(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},HN=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&bb(Uint8Array)),$N=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},VN=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},WN=ii("HTMLFormElement"),GN=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),VS=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),qN=ii("RegExp"),VC=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};rp(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},XN=n=>{VC(n,(e,t)=>{if(ar(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(ar(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},KN=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return Dc(n)?r(n):r(String(n).split(e)),t},YN=()=>{},ZN=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,Cv="abcdefghijklmnopqrstuvwxyz",WS="0123456789",WC={DIGIT:WS,ALPHA:Cv,ALPHA_DIGIT:Cv+Cv.toUpperCase()+WS},QN=(n=16,e=WC.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function JN(n){return!!(n&&ar(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const eI=n=>{const e=new Array(10),t=(r,i)=>{if(_y(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Dc(r)?[]:{};return rp(r,(o,a)=>{const l=t(o,i+1);!fh(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return t(n,0)},tI=ii("AsyncFunction"),nI=n=>n&&(_y(n)||ar(n))&&ar(n.then)&&ar(n.catch),GC=((n,e)=>n?setImmediate:e?((t,r)=>(ha.addEventListener("message",({source:i,data:s})=>{i===ha&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),ha.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ar(ha.postMessage)),rI=typeof queueMicrotask<"u"?queueMicrotask.bind(ha):typeof process<"u"&&process.nextTick||GC,N={isArray:Dc,isArrayBuffer:BC,isBuffer:_N,isFormData:RN,isArrayBufferView:bN,isString:EN,isNumber:UC,isBoolean:SN,isObject:_y,isPlainObject:nm,isReadableStream:LN,isRequest:MN,isResponse:ON,isHeaders:DN,isUndefined:fh,isDate:xN,isFile:AN,isBlob:CN,isRegExp:qN,isFunction:ar,isStream:TN,isURLSearchParams:PN,isTypedArray:HN,isFileList:kN,forEach:rp,merge:z0,extend:IN,trim:NN,stripBOM:FN,inherits:jN,toFlatObject:zN,kindOf:vy,kindOfTest:ii,endsWith:BN,toArray:UN,forEachEntry:$N,matchAll:VN,isHTMLForm:WN,hasOwnProperty:VS,hasOwnProp:VS,reduceDescriptors:VC,freezeMethods:XN,toObjectSet:KN,toCamelCase:GN,noop:YN,toFiniteNumber:ZN,findKey:HC,global:ha,isContextDefined:$C,ALPHABET:WC,generateString:QN,isSpecCompliantForm:JN,toJSONObject:eI,isAsyncFn:tI,isThenable:nI,setImmediate:GC,asap:rI};function ye(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}N.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.status}}});const qC=ye.prototype,XC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{XC[n]={value:n}});Object.defineProperties(ye,XC);Object.defineProperty(qC,"isAxiosError",{value:!0});ye.from=(n,e,t,r,i,s)=>{const o=Object.create(qC);return N.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ye.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const iI=null;function B0(n){return N.isPlainObject(n)||N.isArray(n)}function KC(n){return N.endsWith(n,"[]")?n.slice(0,-2):n}function GS(n,e,t){return n?n.concat(e).map(function(i,s){return i=KC(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function sI(n){return N.isArray(n)&&!n.some(B0)}const oI=N.toFlatObject(N,{},null,function(e){return/^is[A-Z]/.test(e)});function by(n,e,t){if(!N.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=N.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,_){return!N.isUndefined(_[y])});const r=t.metaTokens,i=t.visitor||d,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(e);if(!N.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(N.isDate(m))return m.toISOString();if(!l&&N.isBlob(m))throw new ye("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(m)||N.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,y,_){let g=m;if(m&&!_&&typeof m=="object"){if(N.endsWith(y,"{}"))y=r?y:y.slice(0,-2),m=JSON.stringify(m);else if(N.isArray(m)&&sI(m)||(N.isFileList(m)||N.endsWith(y,"[]"))&&(g=N.toArray(m)))return y=KC(y),g.forEach(function(w,x){!(N.isUndefined(w)||w===null)&&e.append(o===!0?GS([y],x,s):o===null?y:y+"[]",u(w))}),!1}return B0(m)?!0:(e.append(GS(_,y,s),u(m)),!1)}const h=[],f=Object.assign(oI,{defaultVisitor:d,convertValue:u,isVisitable:B0});function p(m,y){if(!N.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),N.forEach(m,function(g,v){(!(N.isUndefined(g)||g===null)&&i.call(e,g,N.isString(v)?v.trim():v,y,f))===!0&&p(g,y?y.concat(v):[v])}),h.pop()}}if(!N.isObject(n))throw new TypeError("data must be an object");return p(n),e}function qS(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Eb(n,e){this._pairs=[],n&&by(n,this,e)}const YC=Eb.prototype;YC.append=function(e,t){this._pairs.push([e,t])};YC.toString=function(e){const t=e?function(r){return e.call(this,r,qS)}:qS;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function aI(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ZC(n,e,t){if(!e)return n;const r=t&&t.encode||aI,i=t&&t.serialize;let s;if(i?s=i(e,t):s=N.isURLSearchParams(e)?e.toString():new Eb(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class XS{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){N.forEach(this.handlers,function(r){r!==null&&e(r)})}}const QC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lI=typeof URLSearchParams<"u"?URLSearchParams:Eb,uI=typeof FormData<"u"?FormData:null,cI=typeof Blob<"u"?Blob:null,dI={isBrowser:!0,classes:{URLSearchParams:lI,FormData:uI,Blob:cI},protocols:["http","https","file","blob","url","data"]},Sb=typeof window<"u"&&typeof document<"u",U0=typeof navigator=="object"&&navigator||void 0,hI=Sb&&(!U0||["ReactNative","NativeScript","NS"].indexOf(U0.product)<0),fI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pI=Sb&&window.location.href||"http://localhost",mI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Sb,hasStandardBrowserEnv:hI,hasStandardBrowserWebWorkerEnv:fI,navigator:U0,origin:pI},Symbol.toStringTag,{value:"Module"})),zn={...mI,...dI};function gI(n,e){return by(n,new zn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return zn.isNode&&N.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function yI(n){return N.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function vI(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function JC(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&N.isArray(i)?i.length:o,l?(N.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!N.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&N.isArray(i[o])&&(i[o]=vI(i[o])),!a)}if(N.isFormData(n)&&N.isFunction(n.entries)){const t={};return N.forEachEntry(n,(r,i)=>{e(yI(r),i,t,0)}),t}return null}function wI(n,e,t){if(N.isString(n))try{return(e||JSON.parse)(n),N.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const ip={transitional:QC,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=N.isObject(e);if(s&&N.isHTMLForm(e)&&(e=new FormData(e)),N.isFormData(e))return i?JSON.stringify(JC(e)):e;if(N.isArrayBuffer(e)||N.isBuffer(e)||N.isStream(e)||N.isFile(e)||N.isBlob(e)||N.isReadableStream(e))return e;if(N.isArrayBufferView(e))return e.buffer;if(N.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return gI(e,this.formSerializer).toString();if((a=N.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return by(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),wI(e)):e}],transformResponse:[function(e){const t=this.transitional||ip.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(N.isResponse(e)||N.isReadableStream(e))return e;if(e&&N.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ye.from(a,ye.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zn.classes.FormData,Blob:zn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],n=>{ip.headers[n]={}});const _I=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bI=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&_I[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},KS=Symbol("internals");function Xc(n){return n&&String(n).trim().toLowerCase()}function rm(n){return n===!1||n==null?n:N.isArray(n)?n.map(rm):String(n)}function EI(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const SI=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function kv(n,e,t,r,i){if(N.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!N.isString(e)){if(N.isString(r))return e.indexOf(r)!==-1;if(N.isRegExp(r))return r.test(e)}}function xI(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function AI(n,e){const t=N.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Bn{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(a,l,u){const d=Xc(l);if(!d)throw new Error("header name must be a non-empty string");const h=N.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=rm(a))}const o=(a,l)=>N.forEach(a,(u,d)=>s(u,d,l));if(N.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(N.isString(e)&&(e=e.trim())&&!SI(e))o(bI(e),t);else if(N.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(t,e,r);return this}get(e,t){if(e=Xc(e),e){const r=N.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return EI(i);if(N.isFunction(t))return t.call(this,i,r);if(N.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Xc(e),e){const r=N.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||kv(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=Xc(o),o){const a=N.findKey(r,o);a&&(!t||kv(r,r[a],a,t))&&(delete r[a],i=!0)}}return N.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||kv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return N.forEach(this,(i,s)=>{const o=N.findKey(r,s);if(o){t[o]=rm(i),delete t[s];return}const a=e?xI(s):String(s).trim();a!==s&&delete t[s],t[a]=rm(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return N.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&N.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[KS]=this[KS]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Xc(o);r[a]||(AI(i,o),r[a]=!0)}return N.isArray(e)?e.forEach(s):s(e),this}}Bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(Bn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});N.freezeMethods(Bn);function Tv(n,e){const t=this||ip,r=e||t,i=Bn.from(r.headers);let s=r.data;return N.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function ek(n){return!!(n&&n.__CANCEL__)}function Nc(n,e,t){ye.call(this,n??"canceled",ye.ERR_CANCELED,e,t),this.name="CanceledError"}N.inherits(Nc,ye,{__CANCEL__:!0});function tk(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new ye("Request failed with status code "+t.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function CI(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function kI(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[s];o||(o=u),t[i]=l,r[i]=u;let h=s,f=0;for(;h!==i;)f+=t[h++],h=h%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),u-o<e)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function TI(n,e){let t=0,r=1e3/e,i,s;const o=(u,d=Date.now())=>{t=d,i=null,s&&(clearTimeout(s),s=null),n.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-t;h>=r?o(u,d):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const yg=(n,e,t=3)=>{let r=0;const i=kI(50,250);return TI(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),d=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(h)},t)},YS=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},ZS=n=>(...e)=>N.asap(()=>n(...e)),RI=zn.hasStandardBrowserEnv?function(){const e=zn.navigator&&/(msie|trident)/i.test(zn.navigator.userAgent),t=document.createElement("a");let r;function i(s){let o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=i(window.location.href),function(o){const a=N.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),PI=zn.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const o=[n+"="+encodeURIComponent(e)];N.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),N.isString(r)&&o.push("path="+r),N.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function LI(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function MI(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function nk(n,e){return n&&!LI(e)?MI(n,e):e}const QS=n=>n instanceof Bn?{...n}:n;function _l(n,e){e=e||{};const t={};function r(u,d,h){return N.isPlainObject(u)&&N.isPlainObject(d)?N.merge.call({caseless:h},u,d):N.isPlainObject(d)?N.merge({},d):N.isArray(d)?d.slice():d}function i(u,d,h){if(N.isUndefined(d)){if(!N.isUndefined(u))return r(void 0,u,h)}else return r(u,d,h)}function s(u,d){if(!N.isUndefined(d))return r(void 0,d)}function o(u,d){if(N.isUndefined(d)){if(!N.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,h){if(h in e)return r(u,d);if(h in n)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d)=>i(QS(u),QS(d),!0)};return N.forEach(Object.keys(Object.assign({},n,e)),function(d){const h=l[d]||i,f=h(n[d],e[d],d);N.isUndefined(f)&&h!==a||(t[d]=f)}),t}const rk=n=>{const e=_l({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Bn.from(o),e.url=ZC(nk(e.baseURL,e.url),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(N.isFormData(t)){if(zn.hasStandardBrowserEnv||zn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(zn.hasStandardBrowserEnv&&(r&&N.isFunction(r)&&(r=r(e)),r||r!==!1&&RI(e.url))){const u=i&&s&&PI.read(s);u&&o.set(i,u)}return e},OI=typeof XMLHttpRequest<"u",DI=OI&&function(n){return new Promise(function(t,r){const i=rk(n);let s=i.data;const o=Bn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,d,h,f,p,m;function y(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function g(){if(!_)return;const w=Bn.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),C={data:!a||a==="text"||a==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:w,config:n,request:_};tk(function(P){t(P),y()},function(P){r(P),y()},C),_=null}"onloadend"in _?_.onloadend=g:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(g)},_.onabort=function(){_&&(r(new ye("Request aborted",ye.ECONNABORTED,n,_)),_=null)},_.onerror=function(){r(new ye("Network Error",ye.ERR_NETWORK,n,_)),_=null},_.ontimeout=function(){let x=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const C=i.transitional||QC;i.timeoutErrorMessage&&(x=i.timeoutErrorMessage),r(new ye(x,C.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,n,_)),_=null},s===void 0&&o.setContentType(null),"setRequestHeader"in _&&N.forEach(o.toJSON(),function(x,C){_.setRequestHeader(C,x)}),N.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),a&&a!=="json"&&(_.responseType=i.responseType),u&&([f,m]=yg(u,!0),_.addEventListener("progress",f)),l&&_.upload&&([h,p]=yg(l),_.upload.addEventListener("progress",h),_.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=w=>{_&&(r(!w||w.type?new Nc(null,n,_):w),_.abort(),_=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const v=CI(i.url);if(v&&zn.protocols.indexOf(v)===-1){r(new ye("Unsupported protocol "+v+":",ye.ERR_BAD_REQUEST,n));return}_.send(s||null)})},NI=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof ye?d:new Nc(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new ye(`timeout ${e} of ms exceeded`,ye.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),n=null)};n.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>N.asap(a),l}},II=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},FI=async function*(n,e){for await(const t of jI(n))yield*II(t,e)},jI=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},JS=(n,e,t,r)=>{const i=FI(n,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){a(),l.close();return}let h=d.byteLength;if(t){let f=s+=h;t(f)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Ey=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ik=Ey&&typeof ReadableStream=="function",zI=Ey&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),sk=(n,...e)=>{try{return!!n(...e)}catch{return!1}},BI=ik&&sk(()=>{let n=!1;const e=new Request(zn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),ex=64*1024,H0=ik&&sk(()=>N.isReadableStream(new Response("").body)),vg={stream:H0&&(n=>n.body)};Ey&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!vg[e]&&(vg[e]=N.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new ye(`Response type '${e}' is not supported`,ye.ERR_NOT_SUPPORT,r)})})})(new Response);const UI=async n=>{if(n==null)return 0;if(N.isBlob(n))return n.size;if(N.isSpecCompliantForm(n))return(await new Request(zn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(N.isArrayBufferView(n)||N.isArrayBuffer(n))return n.byteLength;if(N.isURLSearchParams(n)&&(n=n+""),N.isString(n))return(await zI(n)).byteLength},HI=async(n,e)=>{const t=N.toFiniteNumber(n.getContentLength());return t??UI(e)},$I=Ey&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=rk(n);u=u?(u+"").toLowerCase():"text";let p=NI([i,s&&s.toAbortSignal()],o),m;const y=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let _;try{if(l&&BI&&t!=="get"&&t!=="head"&&(_=await HI(d,r))!==0){let C=new Request(e,{method:"POST",body:r,duplex:"half"}),k;if(N.isFormData(r)&&(k=C.headers.get("content-type"))&&d.setContentType(k),C.body){const[P,A]=YS(_,yg(ZS(l)));r=JS(C.body,ex,P,A)}}N.isString(h)||(h=h?"include":"omit");const g="credentials"in Request.prototype;m=new Request(e,{...f,signal:p,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:g?h:void 0});let v=await fetch(m);const w=H0&&(u==="stream"||u==="response");if(H0&&(a||w&&y)){const C={};["status","statusText","headers"].forEach(D=>{C[D]=v[D]});const k=N.toFiniteNumber(v.headers.get("content-length")),[P,A]=a&&YS(k,yg(ZS(a),!0))||[];v=new Response(JS(v.body,ex,P,()=>{A&&A(),y&&y()}),C)}u=u||"text";let x=await vg[N.findKey(vg,u)||"text"](v,n);return!w&&y&&y(),await new Promise((C,k)=>{tk(C,k,{data:x,headers:Bn.from(v.headers),status:v.status,statusText:v.statusText,config:n,request:m})})}catch(g){throw y&&y(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,n,m),{cause:g.cause||g}):ye.from(g,g&&g.code,n,m)}}),$0={http:iI,xhr:DI,fetch:$I};N.forEach($0,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const tx=n=>`- ${n}`,VI=n=>N.isFunction(n)||n===null||n===!1,ok={getAdapter:n=>{n=N.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let o;if(r=t,!VI(t)&&(r=$0[(o=String(t)).toLowerCase()],r===void 0))throw new ye(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(tx).join(`
`):" "+tx(s[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:$0};function Rv(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Nc(null,n)}function nx(n){return Rv(n),n.headers=Bn.from(n.headers),n.data=Tv.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),ok.getAdapter(n.adapter||ip.adapter)(n).then(function(r){return Rv(n),r.data=Tv.call(n,n.transformResponse,r),r.headers=Bn.from(r.headers),r},function(r){return ek(r)||(Rv(n),r&&r.response&&(r.response.data=Tv.call(n,n.transformResponse,r.response),r.response.headers=Bn.from(r.response.headers))),Promise.reject(r)})}const ak="1.7.7",xb={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{xb[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const rx={};xb.transitional=function(e,t,r){function i(s,o){return"[Axios v"+ak+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ye(i(o," has been removed"+(t?" in "+t:"")),ye.ERR_DEPRECATED);return t&&!rx[o]&&(rx[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function WI(n,e,t){if(typeof n!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new ye("option "+s+" must be "+l,ye.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ye("Unknown option "+s,ye.ERR_BAD_OPTION)}}const V0={assertOptions:WI,validators:xb},Hs=V0.validators;class dl{constructor(e){this.defaults=e,this.interceptors={request:new XS,response:new XS}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=_l(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&V0.assertOptions(r,{silentJSONParsing:Hs.transitional(Hs.boolean),forcedJSONParsing:Hs.transitional(Hs.boolean),clarifyTimeoutError:Hs.transitional(Hs.boolean)},!1),i!=null&&(N.isFunction(i)?t.paramsSerializer={serialize:i}:V0.assertOptions(i,{encode:Hs.function,serialize:Hs.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&N.merge(s.common,s[t.method]);s&&N.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),t.headers=Bn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(t)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!l){const m=[nx.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,u),f=m.length,d=Promise.resolve(t);h<f;)d=d.then(m[h++],m[h++]);return d}f=a.length;let p=t;for(h=0;h<f;){const m=a[h++],y=a[h++];try{p=m(p)}catch(_){y.call(this,_);break}}try{d=nx.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=_l(this.defaults,e);const t=nk(e.baseURL,e.url);return ZC(t,e.params,e.paramsSerializer)}}N.forEach(["delete","get","head","options"],function(e){dl.prototype[e]=function(t,r){return this.request(_l(r||{},{method:e,url:t,data:(r||{}).data}))}});N.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(_l(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}dl.prototype[e]=t(),dl.prototype[e+"Form"]=t(!0)});class Ab{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Nc(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ab(function(i){e=i}),cancel:e}}}function GI(n){return function(t){return n.apply(null,t)}}function qI(n){return N.isObject(n)&&n.isAxiosError===!0}const W0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(W0).forEach(([n,e])=>{W0[e]=n});function lk(n){const e=new dl(n),t=zC(dl.prototype.request,e);return N.extend(t,dl.prototype,e,{allOwnKeys:!0}),N.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return lk(_l(n,i))},t}const Pt=lk(ip);Pt.Axios=dl;Pt.CanceledError=Nc;Pt.CancelToken=Ab;Pt.isCancel=ek;Pt.VERSION=ak;Pt.toFormData=by;Pt.AxiosError=ye;Pt.Cancel=Pt.CanceledError;Pt.all=function(e){return Promise.all(e)};Pt.spread=GI;Pt.isAxiosError=qI;Pt.mergeConfig=_l;Pt.AxiosHeaders=Bn;Pt.formToJSON=n=>JC(N.isHTMLForm(n)?new FormData(n):n);Pt.getAdapter=ok.getAdapter;Pt.HttpStatusCode=W0;Pt.default=Pt;const Cc=Pt.create({baseURL:"/",withCredentials:!0}),XI=ki.object({file:ki.instanceof(File).refine(n=>n.type==="application/pdf",{message:"Only PDF files are allowed"}).refine(n=>n.size<=2*1024*1024,{message:"File size must be less than or equal to 2MB"})}),KI=({setLoading:n,setFileName:e,setIsPdfPreview:t})=>{const[r,i]=L.useState(null),[s,o]=L.useState(null),[a,l]=L.useState(null),u=Date.now()+Math.floor(Math.random()*1e3),d=f=>{var m;l(null);const p=((m=f.target.files)==null?void 0:m[0])||null;p?(i(p.name),o(p)):(i(null),o(null))},h=()=>{var y;if(n(!0),!s){n(!1),l("Select a pdf file");return}const f=s,p=XI.safeParse({file:f});if(p.success)l(null);else{n(!1),l(((y=p.error.errors[0])==null?void 0:y.message)||"Invalid file");return}const m=new FormData;m.append("file",f),Cc.post("/api/pdf/new",m,{headers:{"Content-Type":"multipart/form-data"}}).then(_=>{console.log(_.data),e(_.data.fileName),n(!1),t(!0)}).catch(_=>{console.error(_),n(!1)})};return M.jsxs("div",{className:"text-center h-screen flex flex-col justify-center items-center",children:[M.jsx("div",{children:M.jsx("h2",{className:"text-4xl font-semibold mb-10",children:"Extract PDF Files"})}),M.jsx("div",{className:"rounded-3xl md:w-6/12 h-48 bg-[#F0F0F0] flex mb-2",children:M.jsxs("div",{className:"rounded-lg w-[96%]  h-44 bg-[#F5F5F5] shadow-sm m-auto",children:[a&&M.jsx("p",{className:"text-red-500 text-center text-xs mt-2",children:a}),M.jsx("label",{htmlFor:`dropzone-file${u}`,className:"flex items-center justify-center w-full  h-full cursor-pointer",children:M.jsx("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:M.jsxs(M.Fragment,{children:[r?M.jsx(M.Fragment,{children:M.jsx("p",{className:"mb-2 font-semibold text-sm text-indigo-500",children:r})}):M.jsxs(M.Fragment,{children:[M.jsx(gD,{size:40,className:"text-indigo-500"}),M.jsx("p",{className:"mb-2 font-semibold text-sm text-indigo-500",children:"Click to Upload PDF"})]}),M.jsx("input",{id:`dropzone-file${u}`,type:"file",accept:"application/pdf",onChange:d,className:"hidden"})]})})})]})}),M.jsx("div",{children:M.jsx("button",{type:"button",onClick:h,className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 mt-5",children:"Extract Pdf"})})]})};function YI(){return M.jsx("div",{className:"w-screen h-screen fixed  flex items-center justify-center  bg-black top-0 left-0 bg-opacity-20  z-50",children:M.jsx("div",{className:"border-gray-300 h-20 w-20 animate-spin rounded-full border-8 border-t-blue-600"})})}var uk={exports:{}},ck={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp=L;function ZI(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var QI=typeof Object.is=="function"?Object.is:ZI,JI=sp.useSyncExternalStore,eF=sp.useRef,tF=sp.useEffect,nF=sp.useMemo,rF=sp.useDebugValue;ck.useSyncExternalStoreWithSelector=function(n,e,t,r,i){var s=eF(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=nF(function(){function l(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return h=m}return h=p}if(m=h,QI(d,p))return m;var y=r(p);return i!==void 0&&i(m,y)?m:(d=p,h=y)}var u=!1,d,h,f=t===void 0?null:t;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,t,r,i]);var a=JI(n,s[0],s[1]);return tF(function(){o.hasValue=!0,o.value=a},[a]),rF(a),a};uk.exports=ck;var iF=uk.exports,ir="default"in Bv?Es:Bv,ix=Symbol.for("react-redux-context"),sx=typeof globalThis<"u"?globalThis:{};function sF(){if(!ir.createContext)return{};const n=sx[ix]??(sx[ix]=new Map);let e=n.get(ir.createContext);return e||(e=ir.createContext(null),n.set(ir.createContext,e)),e}var Fo=sF(),oF=()=>{throw new Error("uSES not initialized!")};function Cb(n=Fo){return function(){return ir.useContext(n)}}var dk=Cb(),hk=oF,aF=n=>{hk=n},lF=(n,e)=>n===e;function uF(n=Fo){const e=n===Fo?dk:Cb(n),t=(r,i={})=>{const{equalityFn:s=lF,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:u,stabilityCheck:d,identityFunctionCheck:h}=e();ir.useRef(!0);const f=ir.useCallback({[r.name](m){return r(m)}}[r.name],[r,d,o.stabilityCheck]),p=hk(l.addNestedSub,a.getState,u||a.getState,f,s);return ir.useDebugValue(p),p};return Object.assign(t,{withTypes:()=>t}),t}var kb=uF();function cF(n){n()}function dF(){let n=null,e=null;return{clear(){n=null,e=null},notify(){cF(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var ox={notify(){},get:()=>[]};function hF(n,e){let t,r=ox,i=0,s=!1;function o(y){d();const _=r.subscribe(y);let g=!1;return()=>{g||(g=!0,_(),h())}}function a(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function u(){return s}function d(){i++,t||(t=n.subscribe(l),r=dF())}function h(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=ox)}function f(){s||(s=!0,d())}function p(){s&&(s=!1,h())}const m={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return m}var fF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pF=typeof navigator<"u"&&navigator.product==="ReactNative",mF=fF||pF?ir.useLayoutEffect:ir.useEffect;function gF({store:n,context:e,children:t,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=ir.useMemo(()=>{const u=hF(n);return{store:n,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[n,r,i,s]),a=ir.useMemo(()=>n.getState(),[n]);mF(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==n.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||Fo;return ir.createElement(l.Provider,{value:o},t)}var yF=gF;function fk(n=Fo){const e=n===Fo?dk:Cb(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var vF=fk();function wF(n=Fo){const e=n===Fo?vF:fk(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var pk=wF();aF(iF.useSyncExternalStoreWithSelector);function Jt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var _F=typeof Symbol=="function"&&Symbol.observable||"@@observable",ax=_F,Pv=()=>Math.random().toString(36).substring(7).split("").join("."),bF={INIT:`@@redux/INIT${Pv()}`,REPLACE:`@@redux/REPLACE${Pv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Pv()}`},wg=bF;function Tb(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function Rb(n,e,t){if(typeof n!="function")throw new Error(Jt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Jt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Jt(1));return t(Rb)(n,e)}let r=n,i=e,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((_,g)=>{o.set(g,_)}))}function d(){if(l)throw new Error(Jt(3));return i}function h(_){if(typeof _!="function")throw new Error(Jt(4));if(l)throw new Error(Jt(5));let g=!0;u();const v=a++;return o.set(v,_),function(){if(g){if(l)throw new Error(Jt(6));g=!1,u(),o.delete(v),s=null}}}function f(_){if(!Tb(_))throw new Error(Jt(7));if(typeof _.type>"u")throw new Error(Jt(8));if(typeof _.type!="string")throw new Error(Jt(17));if(l)throw new Error(Jt(9));try{l=!0,i=r(i,_)}finally{l=!1}return(s=o).forEach(v=>{v()}),_}function p(_){if(typeof _!="function")throw new Error(Jt(10));r=_,f({type:wg.REPLACE})}function m(){const _=h;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(Jt(11));function v(){const x=g;x.next&&x.next(d())}return v(),{unsubscribe:_(v)}},[ax](){return this}}}return f({type:wg.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:p,[ax]:m}}function EF(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:wg.INIT})>"u")throw new Error(Jt(12));if(typeof t(void 0,{type:wg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Jt(13))})}function mk(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const o=e[s];typeof n[o]=="function"&&(t[o]=n[o])}const r=Object.keys(t);let i;try{EF(t)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let d=0;d<r.length;d++){const h=r[d],f=t[h],p=o[h],m=f(p,a);if(typeof m>"u")throw a&&a.type,new Error(Jt(14));u[h]=m,l=l||m!==p}return l=l||r.length!==Object.keys(o).length,l?u:o}}function _g(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function SF(...n){return e=>(t,r)=>{const i=e(t,r);let s=()=>{throw new Error(Jt(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=n.map(l=>l(o));return s=_g(...a)(i.dispatch),{...i,dispatch:s}}}function xF(n){return Tb(n)&&"type"in n&&typeof n.type=="string"}var gk=Symbol.for("immer-nothing"),lx=Symbol.for("immer-draftable"),ur=Symbol.for("immer-state");function Yr(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var kc=Object.getPrototypeOf;function bl(n){return!!n&&!!n[ur]}function Ds(n){var e;return n?yk(n)||Array.isArray(n)||!!n[lx]||!!((e=n.constructor)!=null&&e[lx])||xy(n)||Ay(n):!1}var AF=Object.prototype.constructor.toString();function yk(n){if(!n||typeof n!="object")return!1;const e=kc(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===AF}function bg(n,e){Sy(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function Sy(n){const e=n[ur];return e?e.type_:Array.isArray(n)?1:xy(n)?2:Ay(n)?3:0}function G0(n,e){return Sy(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function vk(n,e,t){const r=Sy(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function CF(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function xy(n){return n instanceof Map}function Ay(n){return n instanceof Set}function ea(n){return n.copy_||n.base_}function q0(n,e){if(xy(n))return new Map(n);if(Ay(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=yk(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[ur];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:n[o]})}return Object.create(kc(n),r)}else{const r=kc(n);if(r!==null&&t)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function Pb(n,e=!1){return Cy(n)||bl(n)||!Ds(n)||(Sy(n)>1&&(n.set=n.add=n.clear=n.delete=kF),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>Pb(r,!0))),n}function kF(){Yr(2)}function Cy(n){return Object.isFrozen(n)}var TF={};function El(n){const e=TF[n];return e||Yr(0,n),e}var ph;function wk(){return ph}function RF(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ux(n,e){e&&(El("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function X0(n){K0(n),n.drafts_.forEach(PF),n.drafts_=null}function K0(n){n===ph&&(ph=n.parent_)}function cx(n){return ph=RF(ph,n)}function PF(n){const e=n[ur];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function dx(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[ur].modified_&&(X0(e),Yr(4)),Ds(n)&&(n=Eg(e,n),e.parent_||Sg(e,n)),e.patches_&&El("Patches").generateReplacementPatches_(t[ur].base_,n,e.patches_,e.inversePatches_)):n=Eg(e,t,[]),X0(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==gk?n:void 0}function Eg(n,e,t){if(Cy(e))return e;const r=e[ur];if(!r)return bg(e,(i,s)=>hx(n,r,e,i,s,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return Sg(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),bg(s,(a,l)=>hx(n,r,i,a,l,t,o)),Sg(n,i,!1),t&&n.patches_&&El("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function hx(n,e,t,r,i,s,o){if(bl(i)){const a=s&&e&&e.type_!==3&&!G0(e.assigned_,r)?s.concat(r):void 0,l=Eg(n,i,a);if(vk(t,r,l),bl(l))n.canAutoFreeze_=!1;else return}else o&&t.add(i);if(Ds(i)&&!Cy(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Eg(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&Sg(n,i)}}function Sg(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Pb(e,t)}function LF(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:wk(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Lb;t&&(i=[r],s=mh);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var Lb={get(n,e){if(e===ur)return n;const t=ea(n);if(!G0(t,e))return MF(n,t,e);const r=t[e];return n.finalized_||!Ds(r)?r:r===Lv(n.base_,e)?(Mv(n),n.copy_[e]=Z0(r,n)):r},has(n,e){return e in ea(n)},ownKeys(n){return Reflect.ownKeys(ea(n))},set(n,e,t){const r=_k(ea(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=Lv(ea(n),e),s=i==null?void 0:i[ur];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(CF(t,i)&&(t!==void 0||G0(n.base_,e)))return!0;Mv(n),Y0(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Lv(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Mv(n),Y0(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=ea(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){Yr(11)},getPrototypeOf(n){return kc(n.base_)},setPrototypeOf(){Yr(12)}},mh={};bg(Lb,(n,e)=>{mh[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});mh.deleteProperty=function(n,e){return mh.set.call(this,n,e,void 0)};mh.set=function(n,e,t){return Lb.set.call(this,n[0],e,t,n[0])};function Lv(n,e){const t=n[ur];return(t?ea(t):n)[e]}function MF(n,e,t){var i;const r=_k(e,t);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function _k(n,e){if(!(e in n))return;let t=kc(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=kc(t)}}function Y0(n){n.modified_||(n.modified_=!0,n.parent_&&Y0(n.parent_))}function Mv(n){n.copy_||(n.copy_=q0(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var OF=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const o=this;return function(l=s,...u){return o.produce(l,d=>t.call(this,d,...u))}}typeof t!="function"&&Yr(6),r!==void 0&&typeof r!="function"&&Yr(7);let i;if(Ds(e)){const s=cx(this),o=Z0(e,void 0);let a=!0;try{i=t(o),a=!1}finally{a?X0(s):K0(s)}return ux(s,r),dx(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===gk&&(i=void 0),this.autoFreeze_&&Pb(i,!0),r){const s=[],o=[];El("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Yr(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,t,(o,a)=>{r=o,i=a}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Ds(n)||Yr(8),bl(n)&&(n=DF(n));const e=cx(this),t=Z0(n,void 0);return t[ur].isManual_=!0,K0(e),t}finishDraft(n,e){const t=n&&n[ur];(!t||!t.isManual_)&&Yr(9);const{scope_:r}=t;return ux(r,e),dx(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=El("Patches").applyPatches_;return bl(n)?r(n,e):this.produce(n,i=>r(i,e))}};function Z0(n,e){const t=xy(n)?El("MapSet").proxyMap_(n,e):Ay(n)?El("MapSet").proxySet_(n,e):LF(n,e);return(e?e.scope_:wk()).drafts_.push(t),t}function DF(n){return bl(n)||Yr(10,n),bk(n)}function bk(n){if(!Ds(n)||Cy(n))return n;const e=n[ur];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=q0(n,e.scope_.immer_.useStrictShallowCopy_)}else t=q0(n,!0);return bg(t,(r,i)=>{vk(t,r,bk(i))}),e&&(e.finalized_=!1),t}var cr=new OF,Ek=cr.produce;cr.produceWithPatches.bind(cr);cr.setAutoFreeze.bind(cr);cr.setUseStrictShallowCopy.bind(cr);cr.applyPatches.bind(cr);cr.createDraft.bind(cr);cr.finishDraft.bind(cr);function Sk(n){return({dispatch:t,getState:r})=>i=>s=>typeof s=="function"?s(t,r,n):i(s)}var NF=Sk(),IF=Sk,FF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_g:_g.apply(null,arguments)};function fx(n,e){function t(...r){if(e){let i=e(...r);if(!i)throw new Error(ti(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>xF(r)&&r.type===n,t}var xk=class sd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,sd.prototype)}static get[Symbol.species](){return sd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new sd(...e[0].concat(this)):new sd(...e.concat(this))}};function px(n){return Ds(n)?Ek(n,()=>{}):n}function mx(n,e,t){if(n.has(e)){let i=n.get(e);return t.update&&(i=t.update(i,e,n),n.set(e,i)),i}if(!t.insert)throw new Error(ti(10));const r=t.insert(e,n);return n.set(e,r),r}function jF(n){return typeof n=="boolean"}var zF=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new xk;return t&&(jF(t)?o.push(NF):o.push(IF(t.extraArgument))),o},BF="RTK_autoBatch",Ak=n=>e=>{setTimeout(e,n)},UF=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Ak(10),HF=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let i=!0,s=!1,o=!1;const a=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?UF:n.type==="callback"?n.queueNotification:Ak(n.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),f=r.subscribe(h);return a.add(d),()=>{f(),a.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[BF]),s=!i,s&&(o||(o=!0,l(u))),r.dispatch(d)}finally{i=!0}}})},$F=n=>function(t){const{autoBatch:r=!0}=t??{};let i=new xk(n);return r&&i.push(HF(typeof r=="object"?r:void 0)),i};function VF(n){const e=zF(),{reducer:t=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=n||{};let a;if(typeof t=="function")a=t;else if(Tb(t))a=mk(t);else throw new Error(ti(1));let l;typeof r=="function"?l=r(e):l=e();let u=_g;i&&(u=FF({trace:!1,...typeof i=="object"&&i}));const d=SF(...l),h=$F(d);let f=typeof o=="function"?o(h):h();const p=u(...f);return Rb(a,s,p)}function Ck(n){const e={},t=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(ti(28));if(a in e)throw new Error(ti(29));return e[a]=o,i},addMatcher(s,o){return t.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return n(i),[e,t,r]}function WF(n){return typeof n=="function"}function GF(n,e){let[t,r,i]=Ck(e),s;if(WF(n))s=()=>px(n());else{const a=px(n);s=()=>a}function o(a=s(),l){let u=[t[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(bl(d)){const p=h(d,l);return p===void 0?d:p}else{if(Ds(d))return Ek(d,f=>h(f,l));{const f=h(d,l);if(f===void 0){if(d===null)return d;throw new Error(ti(9))}return f}}return d},a)}return o.getInitialState=s,o}var qF=Symbol.for("rtk-slice-createasyncthunk");function XF(n,e){return`${n}/${e}`}function KF({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[qF];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(ti(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(QF()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(w,x){const C=typeof w=="string"?w:w.type;if(!C)throw new Error(ti(12));if(C in u.sliceCaseReducersByType)throw new Error(ti(13));return u.sliceCaseReducersByType[C]=x,d},addMatcher(w,x){return u.sliceMatchers.push({matcher:w,reducer:x}),d},exposeAction(w,x){return u.actionCreators[w]=x,d},exposeCaseReducer(w,x){return u.sliceCaseReducersByName[w]=x,d}};l.forEach(w=>{const x=a[w],C={reducerName:w,type:XF(s,w),createNotation:typeof i.reducers=="function"};e2(x)?n2(C,x,d,e):JF(C,x,d)});function h(){const[w={},x=[],C=void 0]=typeof i.extraReducers=="function"?Ck(i.extraReducers):[i.extraReducers],k={...w,...u.sliceCaseReducersByType};return GF(i.initialState,P=>{for(let A in k)P.addCase(A,k[A]);for(let A of u.sliceMatchers)P.addMatcher(A.matcher,A.reducer);for(let A of x)P.addMatcher(A.matcher,A.reducer);C&&P.addDefaultCase(C)})}const f=w=>w,p=new Map;let m;function y(w,x){return m||(m=h()),m(w,x)}function _(){return m||(m=h()),m.getInitialState()}function g(w,x=!1){function C(P){let A=P[w];return typeof A>"u"&&x&&(A=_()),A}function k(P=f){const A=mx(p,x,{insert:()=>new WeakMap});return mx(A,P,{insert:()=>{const D={};for(const[I,j]of Object.entries(i.selectors??{}))D[I]=YF(j,P,_,x);return D}})}return{reducerPath:w,getSelectors:k,get selectors(){return k(C)},selectSlice:C}}const v={name:s,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:_,...g(o),injectInto(w,{reducerPath:x,...C}={}){const k=x??o;return w.inject({reducerPath:k,reducer:y},C),{...v,...g(k,!0)}}};return v}}function YF(n,e,t,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=t()),n(a,...o)}return i.unwrapped=n,i}var ZF=KF();function QF(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function JF({type:n,reducerName:e,createNotation:t},r,i){let s,o;if("reducer"in r){if(t&&!t2(r))throw new Error(ti(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,o?fx(n,o):fx(n))}function e2(n){return n._reducerDefinitionType==="asyncThunk"}function t2(n){return n._reducerDefinitionType==="reducerWithPrepare"}function n2({type:n,reducerName:e},t,r,i){if(!i)throw new Error(ti(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:d}=t,h=i(n,s,d);r.exposeAction(e,h),o&&r.addCase(h.fulfilled,o),a&&r.addCase(h.pending,a),l&&r.addCase(h.rejected,l),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:o||Ip,pending:a||Ip,rejected:l||Ip,settled:u||Ip})}function Ip(){}function ti(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const r2={status:!1},kk=ZF({name:"user",initialState:r2,reducers:{verify:n=>{n.status=!0},logout:n=>{n.status=!1}}}),{verify:i2,logout:s2}=kk.actions,o2=kk.reducer;function a2(){const[n,e]=L.useState(!1),t=pk(),r=Oc(),i=()=>{Cc.post("/api/user/logout",{}).then(()=>{t(s2()),r("/login")}).catch(s=>{console.log(s)})};return M.jsxs("div",{children:[M.jsx("nav",{className:"bg-gray-800 fixed w-full",children:M.jsx("div",{className:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8",children:M.jsxs("div",{className:"relative flex h-16 items-center justify-between",children:[M.jsx("div",{className:"flex flex-1 items-center justify-center sm:items-stretch sm:justify-start",children:M.jsx("div",{className:"flex flex-shrink-0 items-center",children:M.jsx("img",{className:"h-8 w-auto",src:"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=500",alt:"Your Company"})})}),M.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:M.jsxs("div",{className:"relative ml-3",children:[M.jsx("div",{children:M.jsxs("button",{type:"button",className:"relative flex rounded-full text-white bg-gray-800 text-sm focus:outline-none hover:text-gray-300",id:"user-menu-button","aria-expanded":n,"aria-haspopup":"true",onClick:()=>e(!n),children:[M.jsx("span",{className:"sr-only",children:"Open user menu"}),"User"]})}),M.jsx("div",{className:`${n?"block":"hidden"} absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none`,role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",tabIndex:-1,children:M.jsx("button",{onClick:i,className:"block px-4 py-2 text-sm text-gray-700",role:"menuitem",tabIndex:-1,id:"user-menu-item-2",children:"Sign out"})})]})})]})})}),M.jsx("div",{className:"h-16 "})]})}const l2="modulepreload",u2=function(n){return"/"+n},gx={},Fp=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(t.map(a=>{if(a=u2(a),a in gx)return;gx[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":l2,l||(d.as="script",d.crossOrigin=""),d.href=a,o&&d.setAttribute("nonce",o),document.head.appendChild(d),l)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Pd={};Pd.d=(n,e)=>{for(var t in e)Pd.o(e,t)&&!Pd.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Pd.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var de=globalThis.pdfjsLib={};Pd.d(de,{AbortException:()=>Dl,AnnotationEditorLayer:()=>a_,AnnotationEditorParamsType:()=>fe,AnnotationEditorType:()=>Me,AnnotationEditorUIManager:()=>xl,AnnotationLayer:()=>az,AnnotationMode:()=>Qs,CMapCompressionType:()=>J0,ColorPicker:()=>Pg,DOMSVGFactory:()=>Db,DrawLayer:()=>d_,FeatureTest:()=>Dn,GlobalWorkerOptions:()=>As,ImageKind:()=>im,InvalidPDFException:()=>Rk,MissingPDFException:()=>Ol,OPS:()=>Or,Outliner:()=>Hw,PDFDataRangeTransport:()=>xT,PDFDateString:()=>Ik,PDFWorker:()=>yu,PasswordResponses:()=>f2,PermissionFlag:()=>h2,PixelsPerInch:()=>jo,RenderingCancelledException:()=>Nb,TextLayer:()=>Tg,UnexpectedResponseException:()=>Py,Util:()=>te,VerbosityLevel:()=>ky,XfaLayer:()=>CT,build:()=>Uj,createValidAbsoluteUrl:()=>y2,fetchData:()=>Ny,getDocument:()=>Mj,getFilenameFromUrl:()=>k2,getPdfFilenameFromUrl:()=>T2,getXfaPageViewport:()=>R2,isDataScheme:()=>Ib,isPdfFile:()=>Fb,noContextMenu:()=>Un,normalizeUnicode:()=>S2,renderTextLayer:()=>Sj,setLayerDimensions:()=>Sl,shadow:()=>Ne,updateTextLayer:()=>xj,version:()=>Bj});const fn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Tk=[1,0,0,1,0,0],Q0=[.001,0,0,.001,0,0],c2=1e7,Ov=1.35,br={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Qs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},d2="pdfjs_internal_editor_",Me={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},fe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},h2={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},an={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},im={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Lt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Kc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ky={ERRORS:0,WARNINGS:1,INFOS:5},J0={NONE:0,BINARY:1},Or={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},f2={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Ty=ky.WARNINGS;function p2(n){Number.isInteger(n)&&(Ty=n)}function m2(){return Ty}function Ry(n){Ty>=ky.INFOS&&console.log(`Info: ${n}`)}function Ae(n){Ty>=ky.WARNINGS&&console.log(`Warning: ${n}`)}function Xe(n){throw new Error(n)}function jt(n,e){n||Xe(e)}function g2(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function y2(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=E2(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(g2(r))return r}catch{}return null}function Ne(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Wo=function(){function e(t,r){this.constructor===e&&Xe("Cannot initialize BaseException."),this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class ew extends Wo{constructor(e,t){super(e,"PasswordException"),this.code=t}}class tw extends Wo{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Rk extends Wo{constructor(e){super(e,"InvalidPDFException")}}class Ol extends Wo{constructor(e){super(e,"MissingPDFException")}}class Py extends Wo{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class v2 extends Wo{constructor(e){super(e,"FormatError")}}class Dl extends Wo{constructor(e){super(e,"AbortException")}}function Pk(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Xe("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function Ly(n){typeof n!="string"&&Xe("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function w2(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Mb(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function _2(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function b2(){try{return new Function(""),!0}catch{return!1}}class Dn{static get isLittleEndian(){return Ne(this,"isLittleEndian",_2())}static get isEvalSupported(){return Ne(this,"isEvalSupported",b2())}static get isOffscreenCanvasSupported(){return Ne(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ne(this,"platform",{isMac:navigator.platform.includes("Mac")}):Ne(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return Ne(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Dv=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var ks,sm,nw;class te{static makeHexColor(e,t,r){return`#${Dv[e]}${Dv[t]}${Dv[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],s[0],o[0]),Math.min(r[1],i[1],s[1],o[1]),Math.max(r[0],i[0],s[0],o[0]),Math.max(r[1],i[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(r+o)/2,l=Math.sqrt((r+o)**2-4*(r*o-s*i))/2,u=a+l||1,d=a-l||1;return[Math.sqrt(u),Math.sqrt(d)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[r,s,i,o]}static bezierBoundingBox(e,t,r,i,s,o,a,l,u){return u?(u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],t,l)):u=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],E(this,ks,nw).call(this,e,r,s,a,t,i,o,l,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),u),E(this,ks,nw).call(this,e,r,s,a,t,i,o,l,3*(-t+3*(i-o)+l),6*(t-2*i+o),3*(i-t),u),u}}ks=new WeakSet,sm=function(e,t,r,i,s,o,a,l,u,d){if(u<=0||u>=1)return;const h=1-u,f=u*u,p=f*u,m=h*(h*(h*e+3*u*t)+3*f*r)+p*i,y=h*(h*(h*s+3*u*o)+3*f*a)+p*l;d[0]=Math.min(d[0],m),d[1]=Math.min(d[1],y),d[2]=Math.max(d[2],m),d[3]=Math.max(d[3],y)},nw=function(e,t,r,i,s,o,a,l,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&E(this,ks,sm).call(this,e,t,r,i,s,o,a,l,-h/d,f);return}const p=d**2-4*h*u;if(p<0)return;const m=Math.sqrt(p),y=2*u;E(this,ks,sm).call(this,e,t,r,i,s,o,a,l,(-d+m)/y,f),E(this,ks,sm).call(this,e,t,r,i,s,o,a,l,(-d-m)/y,f)},S(te,ks);function E2(n){return decodeURIComponent(escape(n))}let Nv=null,yx=null;function S2(n){return Nv||(Nv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,yx=new Map([["ﬅ","ſt"]])),n.replaceAll(Nv,(e,t,r)=>t?t.normalize("NFKC"):yx.get(r))}function x2(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return Pk(n)}const Lk="pdfjs_internal_id_",zi={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class My{constructor(){this.constructor===My&&Xe("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var yh;const qb=class qb{constructor({enableHWA:e=!1}={}){S(this,yh,!1);this.constructor===qb&&Xe("Cannot initialize BaseCanvasFactory."),b(this,yh,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!c(this,yh)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Xe("Abstract method `_createCanvas` called.")}};yh=new WeakMap;let xg=qb;class Oy{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===Oy&&Xe("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?J0.BINARY:J0.NONE;return this._fetchData(t,r).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){Xe("Abstract method `_fetchData` called.")}}class Dy{constructor({baseUrl:e=null}){this.constructor===Dy&&Xe("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){Xe("Abstract method `_fetchData` called.")}}class Ob{constructor(){this.constructor===Ob&&Xe("Cannot initialize BaseSVGFactory.")}create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Xe("Abstract method `_createSVG` called.")}}const $i="http://www.w3.org/2000/svg",sa=class sa{};me(sa,"CSS",96),me(sa,"PDF",72),me(sa,"PDF_TO_CSS_UNITS",sa.CSS/sa.PDF);let jo=sa;var fa,ci,Yi,Rn,Mg,pa,Q,ln,Hl,$l,om,Mk,rw,Vl,od,ad,iw,ld;class A2 extends My{constructor({docId:t,ownerDocument:r=globalThis.document}={}){super();S(this,Q);S(this,fa);S(this,ci);S(this,Yi);S(this,Rn);S(this,Mg);S(this,pa,0);b(this,Yi,t),b(this,Rn,r)}addFilter(t){if(!t)return"none";let r=c(this,Q,ln).get(t);if(r)return r;const[i,s,o]=E(this,Q,om).call(this,t),a=t.length===1?i:`${i}${s}${o}`;if(r=c(this,Q,ln).get(a),r)return c(this,Q,ln).set(t,r),r;const l=`g_${c(this,Yi)}_transfer_map_${$n(this,pa)._++}`,u=`url(#${l})`;c(this,Q,ln).set(t,u),c(this,Q,ln).set(a,u);const d=E(this,Q,Vl).call(this,l);return E(this,Q,ad).call(this,i,s,o,d),u}addHCMFilter(t,r){var m;const i=`${t}-${r}`,s="base";let o=c(this,Q,Hl).get(s);if((o==null?void 0:o.key)===i||(o?((m=o.filter)==null||m.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},c(this,Q,Hl).set(s,o)),!t||!r))return o.url;const a=E(this,Q,ld).call(this,t);t=te.makeHexColor(...a);const l=E(this,Q,ld).call(this,r);if(r=te.makeHexColor(...l),c(this,Q,$l).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const u=new Array(256);for(let y=0;y<=255;y++){const _=y/255;u[y]=_<=.03928?_/12.92:((_+.055)/1.055)**2.4}const d=u.join(","),h=`g_${c(this,Yi)}_hcm_filter`,f=o.filter=E(this,Q,Vl).call(this,h);E(this,Q,ad).call(this,d,d,d,f),E(this,Q,rw).call(this,f);const p=(y,_)=>{const g=a[y]/255,v=l[y]/255,w=new Array(_+1);for(let x=0;x<=_;x++)w[x]=g+x/_*(v-g);return w.join(",")};return E(this,Q,ad).call(this,p(0,5),p(1,5),p(2,5),f),o.url=`url(#${h})`,o.url}addAlphaFilter(t){let r=c(this,Q,ln).get(t);if(r)return r;const[i]=E(this,Q,om).call(this,[t]),s=`alpha_${i}`;if(r=c(this,Q,ln).get(s),r)return c(this,Q,ln).set(t,r),r;const o=`g_${c(this,Yi)}_alpha_map_${$n(this,pa)._++}`,a=`url(#${o})`;c(this,Q,ln).set(t,a),c(this,Q,ln).set(s,a);const l=E(this,Q,Vl).call(this,o);return E(this,Q,iw).call(this,i,l),a}addLuminosityFilter(t){let r=c(this,Q,ln).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=E(this,Q,om).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=c(this,Q,ln).get(s),r)return c(this,Q,ln).set(t,r),r;const o=`g_${c(this,Yi)}_luminosity_map_${$n(this,pa)._++}`,a=`url(#${o})`;c(this,Q,ln).set(t,a),c(this,Q,ln).set(s,a);const l=E(this,Q,Vl).call(this,o);return E(this,Q,Mk).call(this,l),t&&E(this,Q,iw).call(this,i,l),a}addHighlightHCMFilter(t,r,i,s,o){var v;const a=`${r}-${i}-${s}-${o}`;let l=c(this,Q,Hl).get(t);if((l==null?void 0:l.key)===a||(l?((v=l.filter)==null||v.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},c(this,Q,Hl).set(t,l)),!r||!i))return l.url;const[u,d]=[r,i].map(E(this,Q,ld).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,m]=[s,o].map(E(this,Q,ld).bind(this));f<h&&([h,f,p,m]=[f,h,m,p]),c(this,Q,$l).style.color="";const y=(w,x,C)=>{const k=new Array(256),P=(f-h)/C,A=w/255,D=(x-w)/(255*C);let I=0;for(let j=0;j<=C;j++){const ne=Math.round(h+j*P),J=A+j*D;for(let X=I;X<=ne;X++)k[X]=J;I=ne+1}for(let j=I;j<256;j++)k[j]=k[I-1];return k.join(",")},_=`g_${c(this,Yi)}_hcm_${t}_filter`,g=l.filter=E(this,Q,Vl).call(this,_);return E(this,Q,rw).call(this,g),E(this,Q,ad).call(this,y(p[0],m[0],5),y(p[1],m[1],5),y(p[2],m[2],5),g),l.url=`url(#${_})`,l.url}destroy(t=!1){t&&c(this,Q,Hl).size!==0||(c(this,ci)&&(c(this,ci).parentNode.parentNode.remove(),b(this,ci,null)),c(this,fa)&&(c(this,fa).clear(),b(this,fa,null)),b(this,pa,0))}}fa=new WeakMap,ci=new WeakMap,Yi=new WeakMap,Rn=new WeakMap,Mg=new WeakMap,pa=new WeakMap,Q=new WeakSet,ln=function(){return c(this,fa)||b(this,fa,new Map)},Hl=function(){return c(this,Mg)||b(this,Mg,new Map)},$l=function(){if(!c(this,ci)){const t=c(this,Rn).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=c(this,Rn).createElementNS($i,"svg");i.setAttribute("width",0),i.setAttribute("height",0),b(this,ci,c(this,Rn).createElementNS($i,"defs")),t.append(i),i.append(c(this,ci)),c(this,Rn).body.append(t)}return c(this,ci)},om=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=u[f]/255;const h=d.join(",");return[h,h,h]}const[r,i,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let u=0;u<256;u++)o[u]=r[u]/255,a[u]=i[u]/255,l[u]=s[u]/255;return[o.join(","),a.join(","),l.join(",")]},Mk=function(t){const r=c(this,Rn).createElementNS($i,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},rw=function(t){const r=c(this,Rn).createElementNS($i,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},Vl=function(t){const r=c(this,Rn).createElementNS($i,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),c(this,Q,$l).append(r),r},od=function(t,r,i){const s=c(this,Rn).createElementNS($i,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},ad=function(t,r,i,s){const o=c(this,Rn).createElementNS($i,"feComponentTransfer");s.append(o),E(this,Q,od).call(this,o,"feFuncR",t),E(this,Q,od).call(this,o,"feFuncG",r),E(this,Q,od).call(this,o,"feFuncB",i)},iw=function(t,r){const i=c(this,Rn).createElementNS($i,"feComponentTransfer");r.append(i),E(this,Q,od).call(this,i,"feFuncA",t)},ld=function(t){return c(this,Q,$l).style.color=t,jb(getComputedStyle(c(this,Q,$l)).getPropertyValue("color"))};class C2 extends xg{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}async function Ny(n,e="text"){if(ud(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Ok extends Oy{_fetchData(e,t){return Ny(e,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):Ly(r),compressionType:t}))}}class Dk extends Dy{_fetchData(e){return Ny(e,"arraybuffer").then(t=>new Uint8Array(t))}}class Db extends Ob{_createSVG(e){return document.createElementNS($i,e)}}class op{constructor({viewBox:e,scale:t,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=i,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,d,h,f;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,d=0,h=0,f=1;break;case 90:u=0,d=1,h=1,f=0;break;case 270:u=0,d=-1,h=-1,f=0;break;case 0:u=1,d=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,f=-f);let p,m,y,_;u===0?(p=Math.abs(l-e[1])*t+i,m=Math.abs(a-e[0])*t+s,y=(e[3]-e[1])*t,_=(e[2]-e[0])*t):(p=Math.abs(a-e[0])*t+i,m=Math.abs(l-e[1])*t+s,y=(e[2]-e[0])*t,_=(e[3]-e[1])*t),this.transform=[u*t,d*t,h*t,f*t,p-u*t*a-h*t*l,m-d*t*a-f*t*l],this.width=y,this.height=_}get rawDims(){const{viewBox:e}=this;return Ne(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new op({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return te.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=te.applyTransform([e[0],e[1]],this.transform),r=te.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return te.applyInverseTransform([e,t],this.transform)}}class Nb extends Wo{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Ib(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function Fb(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function k2(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function T2(n,e="document.pdf"){if(typeof n!="string")return e;if(Ib(n))return Ae('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class vx{constructor(){me(this,"started",Object.create(null));me(this,"times",[])}time(e){e in this.started&&Ae(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ae(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function ud(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function Un(n){n.preventDefault()}function Nk(n){console.log("Deprecated API usage: "+n)}let wx;class Ik{static toDateObject(e){if(!e||typeof e!="string")return null;wx||(wx=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=wx.exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(o+=d,a+=h):u==="+"&&(o-=d,a-=h),new Date(Date.UTC(r,i,s,o,a,l))}}function R2(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new op({viewBox:s,scale:e,rotation:t})}function jb(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ae(`Not a valid color format: "${n}"`),[0,0,0])}function P2(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,jb(r))}e.remove()}function dt(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform();return[e,t,r,i,s,o]}function Bi(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[e,t,r,i,s,o]}function Sl(n,e,t=!1,r=!0){if(e instanceof op){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=n,a=Dn.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,u=`var(--scale-factor) * ${s}px`,d=a?`round(${l}, 1px)`:`calc(${l})`,h=a?`round(${u}, 1px)`:`calc(${u})`;!t||e.rotation%180===0?(o.width=d,o.height=h):(o.width=h,o.height=d)}r&&n.setAttribute("data-main-rotation",e.rotation)}var ma,ga,Gn,ya,Og,Fk,Sn,jk,zk,am,Bk,ow;const Dg=class Dg{constructor(e){S(this,Sn);S(this,ma,null);S(this,ga,null);S(this,Gn);S(this,ya,null);b(this,Gn,e)}render(){const e=b(this,ma,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=c(this,Gn)._uiManager._signal;e.addEventListener("contextmenu",Un,{signal:t}),e.addEventListener("pointerdown",E(Dg,Og,Fk),{signal:t});const r=b(this,ya,document.createElement("div"));r.className="buttons",e.append(r);const i=c(this,Gn).toolbarPosition;if(i){const{style:s}=e,o=c(this,Gn)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return E(this,Sn,Bk).call(this),e}hide(){var e;c(this,ma).classList.add("hidden"),(e=c(this,ga))==null||e.hideDropdown()}show(){c(this,ma).classList.remove("hidden")}addAltTextButton(e){E(this,Sn,am).call(this,e),c(this,ya).prepend(e,c(this,Sn,ow))}addColorPicker(e){b(this,ga,e);const t=e.renderButton();E(this,Sn,am).call(this,t),c(this,ya).prepend(t,c(this,Sn,ow))}remove(){var e;c(this,ma).remove(),(e=c(this,ga))==null||e.destroy(),b(this,ga,null)}};ma=new WeakMap,ga=new WeakMap,Gn=new WeakMap,ya=new WeakMap,Og=new WeakSet,Fk=function(e){e.stopPropagation()},Sn=new WeakSet,jk=function(e){c(this,Gn)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},zk=function(e){c(this,Gn)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},am=function(e){const t=c(this,Gn)._uiManager._signal;e.addEventListener("focusin",E(this,Sn,jk).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",E(this,Sn,zk).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Un,{signal:t})},Bk=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${c(this,Gn).editorType}-button`),E(this,Sn,am).call(this,e),e.addEventListener("click",t=>{c(this,Gn)._uiManager.delete()},{signal:c(this,Gn)._uiManager._signal}),c(this,ya).append(e)},ow=function(){const e=document.createElement("div");return e.className="divider",e},S(Dg,Og);let sw=Dg;var vh,va,wa,zo,Uk,Hk,$k;class L2{constructor(e){S(this,zo);S(this,vh,null);S(this,va,null);S(this,wa);b(this,wa,e)}show(e,t,r){const[i,s]=E(this,zo,Hk).call(this,t,r),{style:o}=c(this,va)||b(this,va,E(this,zo,Uk).call(this));e.append(c(this,va)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,va).remove()}}vh=new WeakMap,va=new WeakMap,wa=new WeakMap,zo=new WeakSet,Uk=function(){const e=b(this,va,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Un,{signal:c(this,wa)._signal});const t=b(this,vh,document.createElement("div"));return t.className="buttons",e.append(t),E(this,zo,$k).call(this),e},Hk=function(e,t){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const a=s.x+(t?s.width:0);if(o>r){i=a,r=o;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,r]},$k=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=c(this,wa)._signal;e.addEventListener("contextmenu",Un,{signal:r}),e.addEventListener("click",()=>{c(this,wa).highlightSelection("floating_button")},{signal:r}),c(this,vh).append(e)};function Ag(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}function M2(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var Ng;class O2{constructor(){S(this,Ng,0)}get id(){return`${d2}${$n(this,Ng)._++}`}}Ng=new WeakMap;var wh,Ig,yr,_h,lw;const Xb=class Xb{constructor(){S(this,_h);S(this,wh,x2());S(this,Ig,0);S(this,yr,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Ne(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return E(this,_h,lw).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return E(this,_h,lw).call(this,e,e)}async getFromId(e){c(this,yr)||b(this,yr,new Map);const t=c(this,yr).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=c(this,yr).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){c(this,yr)||b(this,yr,new Map);const t=c(this,yr).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${c(this,wh)}_`)}};wh=new WeakMap,Ig=new WeakMap,yr=new WeakMap,_h=new WeakSet,lw=async function(e,t){c(this,yr)||b(this,yr,new Map);let r=c(this,yr).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${c(this,wh)}_${$n(this,Ig)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await Ny(t,"blob")):i=r.file=t,i.type==="image/svg+xml"){const s=Xb._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((u,d)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,u()},o.onload=async()=>{const h=r.svgUrl=o.result;a.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=o.onerror=d});o.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return c(this,yr).set(e,r),r&&c(this,yr).set(r.id,r),r};let aw=Xb;var Ut,Js,bh,Ht;class D2{constructor(e=128){S(this,Ut,[]);S(this,Js,!1);S(this,bh);S(this,Ht,-1);b(this,bh,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),c(this,Js))return;const l={cmd:e,undo:t,post:r,type:s};if(c(this,Ht)===-1){c(this,Ut).length>0&&(c(this,Ut).length=0),b(this,Ht,0),c(this,Ut).push(l);return}if(o&&c(this,Ut)[c(this,Ht)].type===s){a&&(l.undo=c(this,Ut)[c(this,Ht)].undo),c(this,Ut)[c(this,Ht)]=l;return}const u=c(this,Ht)+1;u===c(this,bh)?c(this,Ut).splice(0,1):(b(this,Ht,u),u<c(this,Ut).length&&c(this,Ut).splice(u)),c(this,Ut).push(l)}undo(){if(c(this,Ht)===-1)return;b(this,Js,!0);const{undo:e,post:t}=c(this,Ut)[c(this,Ht)];e(),t==null||t(),b(this,Js,!1),b(this,Ht,c(this,Ht)-1)}redo(){if(c(this,Ht)<c(this,Ut).length-1){b(this,Ht,c(this,Ht)+1),b(this,Js,!0);const{cmd:e,post:t}=c(this,Ut)[c(this,Ht)];e(),t==null||t(),b(this,Js,!1)}}hasSomethingToUndo(){return c(this,Ht)!==-1}hasSomethingToRedo(){return c(this,Ht)<c(this,Ut).length-1}destroy(){b(this,Ut,null)}}Ut=new WeakMap,Js=new WeakMap,bh=new WeakMap,Ht=new WeakMap;var Fg,Vk;class ap{constructor(e){S(this,Fg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Dn.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(E(this,Fg,Vk).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(i.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}Fg=new WeakSet,Vk=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const jg=class jg{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return P2(e),Ne(this,"_colors",e)}convert(e){const t=jb(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,o)=>s===t[o]))return jg._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?te.makeHexColor(...t):e}};me(jg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let uw=jg;var _u,qn,Mt,qt,bu,Zi,Eu,Dr,Su,_a,di,Nr,ba,Eh,Sh,hi,xu,eo,fi,zg,to,xh,Ea,Ah,Au,Xt,Ue,Qi,Sa,Ch,kh,Th,Rh,Ph,Lh,Mh,Oh,Dh,Nh,Ih,Fh,jh,no,pi,Ji,zh,W,lm,Wk,Gk,um,qk,Xk,Kk,cw,Yk,dw,hw,Zk,gn,Vs,Qk,Jk,fw,eT,cd,pw;const lu=class lu{constructor(e,t,r,i,s,o,a,l,u){S(this,W);S(this,_u,new AbortController);S(this,qn,null);S(this,Mt,new Map);S(this,qt,new Map);S(this,bu,null);S(this,Zi,null);S(this,Eu,null);S(this,Dr,new D2);S(this,Su,0);S(this,_a,new Set);S(this,di,null);S(this,Nr,null);S(this,ba,new Set);S(this,Eh,!1);S(this,Sh,null);S(this,hi,null);S(this,xu,null);S(this,eo,!1);S(this,fi,null);S(this,zg,new O2);S(this,to,!1);S(this,xh,!1);S(this,Ea,null);S(this,Ah,null);S(this,Au,null);S(this,Xt,Me.NONE);S(this,Ue,new Set);S(this,Qi,null);S(this,Sa,null);S(this,Ch,null);S(this,kh,this.blur.bind(this));S(this,Th,this.focus.bind(this));S(this,Rh,this.copy.bind(this));S(this,Ph,this.cut.bind(this));S(this,Lh,this.paste.bind(this));S(this,Mh,this.keydown.bind(this));S(this,Oh,this.keyup.bind(this));S(this,Dh,this.onEditingAction.bind(this));S(this,Nh,this.onPageChanging.bind(this));S(this,Ih,this.onScaleChanging.bind(this));S(this,Fh,this.onRotationChanging.bind(this));S(this,jh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});S(this,no,[0,0]);S(this,pi,null);S(this,Ji,null);S(this,zh,null);this._signal=c(this,_u).signal,b(this,Ji,e),b(this,zh,t),b(this,bu,r),this._eventBus=i,this._eventBus._on("editingaction",c(this,Dh)),this._eventBus._on("pagechanging",c(this,Nh)),this._eventBus._on("scalechanging",c(this,Ih)),this._eventBus._on("rotationchanging",c(this,Fh)),E(this,W,qk).call(this),E(this,W,Zk).call(this),E(this,W,cw).call(this),b(this,Zi,s.annotationStorage),b(this,Sh,s.filterFactory),b(this,Sa,o),b(this,xu,a||null),b(this,Eh,l),b(this,Au,u||null),this.viewParameters={realScale:jo.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=lu.prototype,t=o=>c(o,Ji).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Ne(this,"_keyboardManager",new ap([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&c(o,Ji).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&c(o,Ji).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r;(e=c(this,_u))==null||e.abort(),b(this,_u,null),this._signal=null,this._eventBus._off("editingaction",c(this,Dh)),this._eventBus._off("pagechanging",c(this,Nh)),this._eventBus._off("scalechanging",c(this,Ih)),this._eventBus._off("rotationchanging",c(this,Fh));for(const i of c(this,qt).values())i.destroy();c(this,qt).clear(),c(this,Mt).clear(),c(this,ba).clear(),b(this,qn,null),c(this,Ue).clear(),c(this,Dr).destroy(),(t=c(this,bu))==null||t.destroy(),(r=c(this,fi))==null||r.hide(),b(this,fi,null),c(this,hi)&&(clearTimeout(c(this,hi)),b(this,hi,null)),c(this,pi)&&(clearTimeout(c(this,pi)),b(this,pi,null))}async mlGuess(e){var t;return((t=c(this,Au))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!c(this,Au)}get hcmFilter(){return Ne(this,"hcmFilter",c(this,Sa)?c(this,Sh).addHCMFilter(c(this,Sa).foreground,c(this,Sa).background):"none")}get direction(){return Ne(this,"direction",getComputedStyle(c(this,Ji)).direction)}get highlightColors(){return Ne(this,"highlightColors",c(this,xu)?new Map(c(this,xu).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Ne(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){b(this,Ah,e)}editAltText(e){var t;(t=c(this,bu))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){b(this,Su,e-1)}focusMainContainer(){c(this,Ji).focus()}findParent(e,t){for(const r of c(this,qt).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+a)return r}return null}disableUserSelect(e=!1){c(this,zh).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,ba).add(e)}removeShouldRescale(e){c(this,ba).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*jo.PDF_TO_CSS_UNITS;for(const t of c(this,ba))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=t,a=t.toString(),u=E(this,W,lm).call(this,t).closest(".textLayer"),d=this.getSelectionBoxes(u);if(d){t.empty(),c(this,Xt)===Me.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Me.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const h of c(this,qt).values())if(h.hasTextLayer(u)){h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&c(this,Zi)&&!c(this,Zi).has(e.id)&&c(this,Zi).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,c(this,eo)&&(b(this,eo,!1),E(this,W,um).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of c(this,Ue))if(t.div.contains(e)){b(this,Ea,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!c(this,Ea))return;const[e,t]=c(this,Ea);b(this,Ea,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){E(this,W,cw).call(this),E(this,W,dw).call(this)}removeEditListeners(){E(this,W,Yk).call(this),E(this,W,hw).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of c(this,Nr))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of c(this,Nr))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=c(this,qn))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of c(this,Ue)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of c(this,Nr))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){Ae(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const u=i.deserialize(l);if(!u)return;s.push(u)}const o=()=>{for(const l of s)E(this,W,fw).call(this,l);E(this,W,pw).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){Ae(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,Xt)!==Me.NONE&&!this.isEditorHandlingKeyboard&&lu._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,eo)&&(b(this,eo,!1),E(this,W,um).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(E(this,W,Xk).call(this),E(this,W,dw).call(this),E(this,W,gn).call(this,{isEditing:c(this,Xt)!==Me.NONE,isEmpty:E(this,W,cd).call(this),hasSomethingToUndo:c(this,Dr).hasSomethingToUndo(),hasSomethingToRedo:c(this,Dr).hasSomethingToRedo(),hasSelectedEditor:!1})):(E(this,W,Kk).call(this),E(this,W,hw).call(this),E(this,W,gn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,Nr)){b(this,Nr,e);for(const t of c(this,Nr))E(this,W,Vs).call(this,t.defaultPropertiesToUpdate)}}getId(){return c(this,zg).id}get currentLayer(){return c(this,qt).get(c(this,Su))}getLayer(e){return c(this,qt).get(e)}get currentPageIndex(){return c(this,Su)}addLayer(e){c(this,qt).set(e.pageIndex,e),c(this,to)?e.enable():e.disable()}removeLayer(e){c(this,qt).delete(e.pageIndex)}updateMode(e,t=null,r=!1){if(c(this,Xt)!==e){if(b(this,Xt,e),e===Me.NONE){this.setEditingState(!1),E(this,W,Jk).call(this);return}this.setEditingState(!0),E(this,W,Qk).call(this),this.unselectAll();for(const i of c(this,qt).values())i.updateMode(e);if(!t&&r){this.addNewEditorFromKeyboard();return}if(t){for(const i of c(this,Mt).values())if(i.annotationElementId===t){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==c(this,Xt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(c(this,Nr)){switch(e){case fe.CREATE:this.currentLayer.addNewEditor();return;case fe.HIGHLIGHT_DEFAULT_COLOR:(r=c(this,Ah))==null||r.updateColor(t);break;case fe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,Ch)||b(this,Ch,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of c(this,Ue))i.updateParams(e,t);for(const i of c(this,Nr))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const o of c(this,Mt).values())o.editorType===e&&o.show(t);(((s=c(this,Ch))==null?void 0:s.get(fe.HIGHLIGHT_SHOW_ALL))??!0)!==t&&E(this,W,Vs).call(this,[[fe.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(c(this,xh)!==e){b(this,xh,e);for(const t of c(this,qt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of c(this,Mt).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return c(this,Mt).get(e)}addEditor(e){c(this,Mt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(c(this,hi)&&clearTimeout(c(this,hi)),b(this,hi,setTimeout(()=>{this.focusMainContainer(),b(this,hi,null)},0))),c(this,Mt).delete(e.id),this.unselect(e),(!e.annotationElementId||!c(this,_a).has(e.annotationElementId))&&((t=c(this,Zi))==null||t.remove(e.id))}addDeletedAnnotationElement(e){c(this,_a).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,_a).has(e)}removeDeletedAnnotationElement(e){c(this,_a).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,qn)!==e&&(b(this,qn,e),e&&E(this,W,Vs).call(this,e.propertiesToUpdate))}updateUI(e){c(this,W,eT)===e&&E(this,W,Vs).call(this,e.propertiesToUpdate)}toggleSelected(e){if(c(this,Ue).has(e)){c(this,Ue).delete(e),e.unselect(),E(this,W,gn).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,Ue).add(e),e.select(),E(this,W,Vs).call(this,e.propertiesToUpdate),E(this,W,gn).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of c(this,Ue))t!==e&&t.unselect();c(this,Ue).clear(),c(this,Ue).add(e),e.select(),E(this,W,Vs).call(this,e.propertiesToUpdate),E(this,W,gn).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,Ue).has(e)}get firstSelectedEditor(){return c(this,Ue).values().next().value}unselect(e){e.unselect(),c(this,Ue).delete(e),E(this,W,gn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,Ue).size!==0}get isEnterHandled(){return c(this,Ue).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){c(this,Dr).undo(),E(this,W,gn).call(this,{hasSomethingToUndo:c(this,Dr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:E(this,W,cd).call(this)})}redo(){c(this,Dr).redo(),E(this,W,gn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,Dr).hasSomethingToRedo(),isEmpty:E(this,W,cd).call(this)})}addCommands(e){c(this,Dr).add(e),E(this,W,gn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:E(this,W,cd).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...c(this,Ue)],t=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)E(this,W,fw).call(this,i)};this.addCommands({cmd:t,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=c(this,qn))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,qn)||this.hasSelection}selectAll(){for(const e of c(this,Ue))e.commit();E(this,W,pw).call(this,c(this,Mt).values())}unselectAll(){if(!(c(this,qn)&&(c(this,qn).commitOrRemove(),c(this,Xt)!==Me.NONE))&&this.hasSelection){for(const e of c(this,Ue))e.unselect();c(this,Ue).clear(),E(this,W,gn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;c(this,no)[0]+=e,c(this,no)[1]+=t;const[i,s]=c(this,no),o=[...c(this,Ue)],a=1e3;c(this,pi)&&clearTimeout(c(this,pi)),b(this,pi,setTimeout(()=>{b(this,pi,null),c(this,no)[0]=c(this,no)[1]=0,this.addCommands({cmd:()=>{for(const l of o)c(this,Mt).has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of o)c(this,Mt).has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),b(this,di,new Map);for(const e of c(this,Ue))c(this,di).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,di))return!1;this.disableUserSelect(!1);const e=c(this,di);b(this,di,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,t||(t=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const r=(i,s,o,a)=>{if(c(this,Mt).has(i.id)){const l=c(this,qt).get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(c(this,di))for(const r of c(this,di).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,Ue).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,qn)===e}getActive(){return c(this,qn)}getMode(){return c(this,Xt)}get imageManager(){return Ne(this,"imageManager",new aw)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,d,h,f)=>({x:(d-i)/o,y:1-(u+h-r)/s,width:f/o,height:h/s});break;case"180":a=(u,d,h,f)=>({x:1-(u+h-r)/s,y:1-(d+f-i)/o,width:h/s,height:f/o});break;case"270":a=(u,d,h,f)=>({x:1-(d+f-i)/o,y:(u-r)/s,width:f/o,height:h/s});break;default:a=(u,d,h,f)=>({x:(u-r)/s,y:(d-i)/o,width:h/s,height:f/o});break}const l=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:p,width:m,height:y}of h.getClientRects())m===0||y===0||l.push(a(f,p,m,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(c(this,Eu)||b(this,Eu,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=c(this,Eu))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=c(this,Eu))==null?void 0:i.get(e.data.id);if(!t)return;const r=c(this,Zi).getRawValue(t);r&&(c(this,Xt)===Me.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};_u=new WeakMap,qn=new WeakMap,Mt=new WeakMap,qt=new WeakMap,bu=new WeakMap,Zi=new WeakMap,Eu=new WeakMap,Dr=new WeakMap,Su=new WeakMap,_a=new WeakMap,di=new WeakMap,Nr=new WeakMap,ba=new WeakMap,Eh=new WeakMap,Sh=new WeakMap,hi=new WeakMap,xu=new WeakMap,eo=new WeakMap,fi=new WeakMap,zg=new WeakMap,to=new WeakMap,xh=new WeakMap,Ea=new WeakMap,Ah=new WeakMap,Au=new WeakMap,Xt=new WeakMap,Ue=new WeakMap,Qi=new WeakMap,Sa=new WeakMap,Ch=new WeakMap,kh=new WeakMap,Th=new WeakMap,Rh=new WeakMap,Ph=new WeakMap,Lh=new WeakMap,Mh=new WeakMap,Oh=new WeakMap,Dh=new WeakMap,Nh=new WeakMap,Ih=new WeakMap,Fh=new WeakMap,jh=new WeakMap,no=new WeakMap,pi=new WeakMap,Ji=new WeakMap,zh=new WeakMap,W=new WeakSet,lm=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Wk=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=E(this,W,lm).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(c(this,fi)||b(this,fi,new L2(this)),c(this,fi).show(r,i,this.direction==="ltr"))},Gk=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){c(this,Qi)&&((s=c(this,fi))==null||s.hide(),b(this,Qi,null),E(this,W,gn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===c(this,Qi))return;if(!E(this,W,lm).call(this,e).closest(".textLayer")){c(this,Qi)&&((o=c(this,fi))==null||o.hide(),b(this,Qi,null),E(this,W,gn).call(this,{hasSelectedText:!1}));return}if((a=c(this,fi))==null||a.hide(),b(this,Qi,t),E(this,W,gn).call(this,{hasSelectedText:!0}),!(c(this,Xt)!==Me.HIGHLIGHT&&c(this,Xt)!==Me.NONE)&&(c(this,Xt)===Me.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),b(this,eo,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=this._signal,u=d=>{d.type==="pointerup"&&d.button!==0||(window.removeEventListener("pointerup",u),window.removeEventListener("blur",u),d.type==="pointerup"&&E(this,W,um).call(this,"main_toolbar"))};window.addEventListener("pointerup",u,{signal:l}),window.addEventListener("blur",u,{signal:l})}},um=function(e=""){c(this,Xt)===Me.HIGHLIGHT?this.highlightSelection(e):c(this,Eh)&&E(this,W,Wk).call(this)},qk=function(){document.addEventListener("selectionchange",E(this,W,Gk).bind(this),{signal:this._signal})},Xk=function(){const e=this._signal;window.addEventListener("focus",c(this,Th),{signal:e}),window.addEventListener("blur",c(this,kh),{signal:e})},Kk=function(){window.removeEventListener("focus",c(this,Th)),window.removeEventListener("blur",c(this,kh))},cw=function(){const e=this._signal;window.addEventListener("keydown",c(this,Mh),{signal:e}),window.addEventListener("keyup",c(this,Oh),{signal:e})},Yk=function(){window.removeEventListener("keydown",c(this,Mh)),window.removeEventListener("keyup",c(this,Oh))},dw=function(){const e=this._signal;document.addEventListener("copy",c(this,Rh),{signal:e}),document.addEventListener("cut",c(this,Ph),{signal:e}),document.addEventListener("paste",c(this,Lh),{signal:e})},hw=function(){document.removeEventListener("copy",c(this,Rh)),document.removeEventListener("cut",c(this,Ph)),document.removeEventListener("paste",c(this,Lh))},Zk=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},gn=function(e){Object.entries(e).some(([r,i])=>c(this,jh)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,jh),e)}),c(this,Xt)===Me.HIGHLIGHT&&e.hasSelectedEditor===!1&&E(this,W,Vs).call(this,[[fe.HIGHLIGHT_FREE,!0]]))},Vs=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Qk=function(){if(!c(this,to)){b(this,to,!0);for(const e of c(this,qt).values())e.enable();for(const e of c(this,Mt).values())e.enable()}},Jk=function(){if(this.unselectAll(),c(this,to)){b(this,to,!1);for(const e of c(this,qt).values())e.disable();for(const e of c(this,Mt).values())e.disable()}},fw=function(e){const t=c(this,qt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},eT=function(){let e=null;for(e of c(this,Ue));return e},cd=function(){if(c(this,Mt).size===0)return!0;if(c(this,Mt).size===1)for(const e of c(this,Mt).values())return e.isEmpty();return!1},pw=function(e){for(const t of c(this,Ue))t.unselect();c(this,Ue).clear();for(const t of e)t.isEmpty()||(c(this,Ue).add(t),t.select());E(this,W,gn).call(this,{hasSelectedEditor:this.hasSelection})},me(lu,"TRANSLATE_SMALL",1),me(lu,"TRANSLATE_BIG",10);let xl=lu;var es,ts,Ir,ns,Xn,Cu,Fr,Bh,mw;const Wi=class Wi{constructor(e){S(this,Bh);S(this,es,"");S(this,ts,!1);S(this,Ir,null);S(this,ns,null);S(this,Xn,null);S(this,Cu,!1);S(this,Fr,null);b(this,Fr,e)}static initialize(e){Wi._l10nPromise||(Wi._l10nPromise=e)}async render(){const e=b(this,Ir,document.createElement("button"));e.className="altText";const t=await Wi._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const r=c(this,Fr)._uiManager._signal;e.addEventListener("contextmenu",Un,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),c(this,Fr)._uiManager.editAltText(c(this,Fr))};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(b(this,Cu,!0),i(s))},{signal:r}),await E(this,Bh,mw).call(this),e}finish(){c(this,Ir)&&(c(this,Ir).focus({focusVisible:c(this,Cu)}),b(this,Cu,!1))}isEmpty(){return!c(this,es)&&!c(this,ts)}get data(){return{altText:c(this,es),decorative:c(this,ts)}}set data({altText:e,decorative:t}){c(this,es)===e&&c(this,ts)===t||(b(this,es,e),b(this,ts,t),E(this,Bh,mw).call(this))}toggle(e=!1){c(this,Ir)&&(!e&&c(this,Xn)&&(clearTimeout(c(this,Xn)),b(this,Xn,null)),c(this,Ir).disabled=!e)}destroy(){var e;(e=c(this,Ir))==null||e.remove(),b(this,Ir,null),b(this,ns,null)}};es=new WeakMap,ts=new WeakMap,Ir=new WeakMap,ns=new WeakMap,Xn=new WeakMap,Cu=new WeakMap,Fr=new WeakMap,Bh=new WeakSet,mw=async function(){var i;const e=c(this,Ir);if(!e)return;if(!c(this,es)&&!c(this,ts)){e.classList.remove("done"),(i=c(this,ns))==null||i.remove();return}e.classList.add("done"),Wi._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let t=c(this,ns);if(!t){b(this,ns,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const s=t.id=`alt-text-tooltip-${c(this,Fr).id}`;e.setAttribute("aria-describedby",s);const o=100,a=c(this,Fr)._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(c(this,Xn)),b(this,Xn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{b(this,Xn,setTimeout(()=>{b(this,Xn,null),c(this,ns).classList.add("show"),c(this,Fr)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:a}),e.addEventListener("mouseleave",()=>{var l;c(this,Xn)&&(clearTimeout(c(this,Xn)),b(this,Xn,null)),(l=c(this,ns))==null||l.classList.remove("show")},{signal:a})}t.innerText=c(this,ts)?await Wi._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):c(this,es),t.parentNode||e.append(t);const r=c(this,Fr).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},me(Wi,"_l10nPromise",null);let Cg=Wi;var xa,jr,un,ku,Aa,Kt,Ca,Tu,Ru,cn,Uh,ka,ro,Hh,Ta,rs,mi,Pu,Lu,vr,$h,Bg,Ce,gw,Vh,yw,vw,tT,nT,ww,_w,bw,rT,iT,sT,oT,Ew,dd;const Qe=class Qe{constructor(e){S(this,Ce);S(this,xa,null);S(this,jr,null);S(this,un,null);S(this,ku,!1);S(this,Aa,!1);S(this,Kt,null);S(this,Ca,null);S(this,Tu,this.focusin.bind(this));S(this,Ru,this.focusout.bind(this));S(this,cn,null);S(this,Uh,"");S(this,ka,!1);S(this,ro,null);S(this,Hh,!1);S(this,Ta,!1);S(this,rs,!1);S(this,mi,null);S(this,Pu,0);S(this,Lu,0);S(this,vr,null);me(this,"_initialOptions",Object.create(null));me(this,"_isVisible",!0);me(this,"_uiManager",null);me(this,"_focusEventsAllowed",!0);me(this,"_l10nPromise",null);S(this,$h,!1);S(this,Bg,Qe._zIndex++);this.constructor===Qe&&Xe("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Qe.prototype._resizeWithKeyboard,t=xl.TRANSLATE_SMALL,r=xl.TRANSLATE_BIG;return Ne(this,"_resizerKeyboardManager",new ap([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Qe.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ne(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new N2({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,r){if(Qe._l10nPromise||(Qe._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),r!=null&&r.strings)for(const s of r.strings)Qe._l10nPromise.set(s,e.get(s));if(Qe._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Qe._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Xe("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,$h)}set _isDraggable(e){var t;b(this,$h,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,Bg)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):E(this,Ce,dd).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,ka)?b(this,ka,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/o,this.fixAndSetPosition()}translate(e,t){E(this,Ce,gw).call(this,this.parentDimensions,e,t)}translateInPage(e,t){c(this,ro)||b(this,ro,[this.x,this.y]),E(this,Ce,gw).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){c(this,ro)||b(this,ro,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!c(this,ro)&&(c(this,ro)[0]!==this.x||c(this,ro)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=Qe,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,r]=this.pageDimensions;let{x:i,y:s,width:o,height:a}=this;if(o*=t,a*=r,i*=t,s*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-o,i)),s=Math.max(0,Math.min(r-a,s));break;case 90:i=Math.max(0,Math.min(t-a,i)),s=Math.min(r,Math.max(o,s));break;case 180:i=Math.min(t,Math.max(o,i)),s=Math.min(r,Math.max(a,s));break;case 270:i=Math.min(t,Math.max(a,i)),s=Math.max(0,Math.min(r-o,s));break}this.x=i/=t,this.y=s/=r;const[l,u]=this.getBaseTranslation();i+=l,s+=u;const{style:d}=this.div;d.left=`${(100*i).toFixed(2)}%`,d.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return E(r=Qe,Vh,yw).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return E(r=Qe,Vh,yw).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this,i=t*e,s=r*e;return Dn.isCSSRoundSupported?[Math.round(i),Math.round(s)]:[i,s]}setDims(e,t){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,c(this,Aa)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!c(this,Aa)&&t.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!c(this,Aa)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=c(this,un))==null||e.finish()}async addEditToolbar(){return c(this,cn)||c(this,Ta)?c(this,cn):(b(this,cn,new sw(this)),this.div.append(c(this,cn).render()),c(this,un)&&c(this,cn).addAltTextButton(await c(this,un).render()),c(this,cn))}removeEditToolbar(){var e;c(this,cn)&&(c(this,cn).remove(),b(this,cn,null),(e=c(this,un))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){c(this,un)||(Cg.initialize(Qe._l10nPromise),b(this,un,new Cg(this)),c(this,xa)&&(c(this,un).data=c(this,xa),b(this,xa,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=c(this,un))==null?void 0:e.data}set altTextData(e){c(this,un)&&(c(this,un).data=e)}hasAltText(){var e;return!((e=c(this,un))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(this,ku)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",c(this,Tu),{signal:e}),this.div.addEventListener("focusout",c(this,Ru),{signal:e});const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*r/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),Ag(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Dn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(b(this,ka,!0),this._isDraggable){E(this,Ce,rT).call(this,e);return}E(this,Ce,bw).call(this,e)}moveInDOM(){c(this,mi)&&clearTimeout(c(this,mi)),b(this,mi,setTimeout(()=>{var e;b(this,mi,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,u=e/i,d=t/i,h=this.x*s,f=this.y*o,p=this.width*s,m=this.height*o;switch(r){case 0:return[h+u+a,o-f-d-m+l,h+u+p+a,o-f-d+l];case 90:return[h+d+a,o-f+u+l,h+d+m+a,o-f+u+p+l];case 180:return[h-u-p+a,o-f+d+l,h-u+a,o-f+d+m+l];case 270:return[h-d-m+a,o-f-u-p+l,h-d+a,o-f-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,o]=e,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,t-o,a,l];case 90:return[r,t-i,l,a];case 180:return[s,t-i,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){b(this,Ta,!0)}disableEditMode(){b(this,Ta,!1)}isInEditMode(){return c(this,Ta)}shouldGetKeyboardEvents(){return c(this,rs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,r;const e=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",c(this,Tu),{signal:e}),(r=this.div)==null||r.addEventListener("focusout",c(this,Ru),{signal:e})}rotate(e){}serialize(e=!1,t=null){Xe("An editor must be serializable")}static deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation,b(i,xa,e.accessibilityData);const[s,o]=i.pageDimensions,[a,l,u,d]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=l/o,i.width=u/s,i.height=d/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",c(this,Tu)),this.div.removeEventListener("focusout",c(this,Ru)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,mi)&&(clearTimeout(c(this,mi)),b(this,mi,null)),E(this,Ce,dd).call(this),this.removeEditToolbar(),c(this,vr)){for(const e of c(this,vr).values())clearTimeout(e);b(this,vr,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(E(this,Ce,tT).call(this),c(this,Kt).classList.remove("hidden"),Ag(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),b(this,Ca,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=c(this,Kt).children;if(!c(this,jr)){b(this,jr,Array.from(t));const o=E(this,Ce,iT).bind(this),a=E(this,Ce,sT).bind(this),l=this._uiManager._signal;for(const u of c(this,jr)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",o,{signal:l}),u.addEventListener("blur",a,{signal:l}),u.addEventListener("focus",E(this,Ce,oT).bind(this,d),{signal:l}),Qe._l10nPromise.get(`pdfjs-editor-resizer-label-${d}`).then(h=>u.setAttribute("aria-label",h))}}const r=c(this,jr)[0];let i=0;for(const o of t){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(c(this,jr).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)c(this,Kt).append(c(this,Kt).firstChild);else if(s>i)for(let a=0;a<s-i;a++)c(this,Kt).firstChild.before(c(this,Kt).lastChild);let o=0;for(const a of t){const u=c(this,jr)[o++].getAttribute("data-resizer-name");Qe._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(d=>a.setAttribute("aria-label",d))}}E(this,Ce,Ew).call(this,0),b(this,rs,!0),c(this,Kt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){c(this,rs)&&E(this,Ce,_w).call(this,c(this,Uh),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){E(this,Ce,dd).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!c(this,cn)){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=c(this,cn))==null||i.show())});return}(t=c(this,cn))==null||t.show()}unselect(){var e,t,r,i;(e=c(this,Kt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=c(this,cn))==null||i.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(this,Hh)}set isEditing(e){b(this,Hh,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){b(this,Aa,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){c(this,vr)||b(this,vr,new Map);const{action:r}=e;let i=c(this,vr).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),c(this,vr).delete(r),c(this,vr).size===0&&b(this,vr,null)},Qe._telemetryTimeout),c(this,vr).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),b(this,ku,!1)}disable(){this.div&&(this.div.tabIndex=-1),b(this,ku,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};xa=new WeakMap,jr=new WeakMap,un=new WeakMap,ku=new WeakMap,Aa=new WeakMap,Kt=new WeakMap,Ca=new WeakMap,Tu=new WeakMap,Ru=new WeakMap,cn=new WeakMap,Uh=new WeakMap,ka=new WeakMap,ro=new WeakMap,Hh=new WeakMap,Ta=new WeakMap,rs=new WeakMap,mi=new WeakMap,Pu=new WeakMap,Lu=new WeakMap,vr=new WeakMap,$h=new WeakMap,Bg=new WeakMap,Ce=new WeakSet,gw=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this.fixAndSetPosition()},Vh=new WeakSet,yw=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},vw=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},tT=function(){if(c(this,Kt))return;b(this,Kt,document.createElement("div")),c(this,Kt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");c(this,Kt).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",E(this,Ce,nT).bind(this,r),{signal:t}),i.addEventListener("contextmenu",Un,{signal:t}),i.tabIndex=-1}this.div.prepend(c(this,Kt))},nT=function(e,t){var y;t.preventDefault();const{isMac:r}=Dn.platform;if(t.button!==0||t.ctrlKey&&r)return;(y=c(this,un))==null||y.toggle(!1);const i=E(this,Ce,_w).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const o=this._uiManager._signal,a={passive:!0,capture:!0,signal:o};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,a),window.addEventListener("contextmenu",Un,{signal:o});const l=this.x,u=this.y,d=this.width,h=this.height,f=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const m=()=>{var _;this.parent.togglePointerEvents(!0),(_=c(this,un))==null||_.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",m),window.removeEventListener("blur",m),window.removeEventListener("pointermove",i,a),window.removeEventListener("contextmenu",Un),this.parent.div.style.cursor=f,this.div.style.cursor=p,E(this,Ce,ww).call(this,l,u,d,h)};window.addEventListener("pointerup",m,{signal:o}),window.addEventListener("blur",m,{signal:o})},ww=function(e,t,r,i){const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===r&&l===i||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[u,d]=this.parentDimensions;this.setDims(u*a,d*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=t;const[u,d]=this.parentDimensions;this.setDims(u*r,d*i),this.fixAndSetPosition()},mustExec:!0})},_w=function(e,t){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,u=Qe.MIN_SIZE/r,d=Qe.MIN_SIZE/i,h=V=>Math.round(V*1e4)/1e4,f=E(this,Ce,vw).call(this,this.rotation),p=(V,F)=>[f[0]*V+f[2]*F,f[1]*V+f[3]*F],m=E(this,Ce,vw).call(this,360-this.rotation),y=(V,F)=>[m[0]*V+m[2]*F,m[1]*V+m[3]*F];let _,g,v=!1,w=!1;switch(e){case"topLeft":v=!0,_=(V,F)=>[0,0],g=(V,F)=>[V,F];break;case"topMiddle":_=(V,F)=>[V/2,0],g=(V,F)=>[V/2,F];break;case"topRight":v=!0,_=(V,F)=>[V,0],g=(V,F)=>[0,F];break;case"middleRight":w=!0,_=(V,F)=>[V,F/2],g=(V,F)=>[0,F/2];break;case"bottomRight":v=!0,_=(V,F)=>[V,F],g=(V,F)=>[0,0];break;case"bottomMiddle":_=(V,F)=>[V/2,F],g=(V,F)=>[V/2,0];break;case"bottomLeft":v=!0,_=(V,F)=>[0,F],g=(V,F)=>[V,0];break;case"middleLeft":w=!0,_=(V,F)=>[0,F/2],g=(V,F)=>[V,F/2];break}const x=_(a,l),C=g(a,l);let k=p(...C);const P=h(s+k[0]),A=h(o+k[1]);let D=1,I=1,[j,ne]=this.screenToPageTranslation(t.movementX,t.movementY);if([j,ne]=y(j/r,ne/i),v){const V=Math.hypot(a,l);D=I=Math.max(Math.min(Math.hypot(C[0]-x[0]-j,C[1]-x[1]-ne)/V,1/a,1/l),u/a,d/l)}else w?D=Math.max(u,Math.min(1,Math.abs(C[0]-x[0]-j)))/a:I=Math.max(d,Math.min(1,Math.abs(C[1]-x[1]-ne)))/l;const J=h(a*D),X=h(l*I);k=p(...g(J,X));const he=P-k[0],pe=A-k[1];this.width=J,this.height=X,this.x=he,this.y=pe,this.setDims(r*J,i*X),this.fixAndSetPosition()},bw=function(e){const{isMac:t}=Dn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},rT=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,i;const s=this._uiManager._signal;t&&(this.div.classList.add("moving"),r={passive:!0,capture:!0,signal:s},b(this,Pu,e.clientX),b(this,Lu,e.clientY),i=a=>{const{clientX:l,clientY:u}=a,[d,h]=this.screenToPageTranslation(l-c(this,Pu),u-c(this,Lu));b(this,Pu,l),b(this,Lu,u),this._uiManager.dragSelectedEditors(d,h)},window.addEventListener("pointermove",i,r));const o=()=>{window.removeEventListener("pointerup",o),window.removeEventListener("blur",o),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,r)),b(this,ka,!1),this._uiManager.endDragSession()||E(this,Ce,bw).call(this,e)};window.addEventListener("pointerup",o,{signal:s}),window.addEventListener("blur",o,{signal:s})},iT=function(e){Qe._resizerKeyboardManager.exec(this,e)},sT=function(e){var t;c(this,rs)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==c(this,Kt)&&E(this,Ce,dd).call(this)},oT=function(e){b(this,Uh,c(this,rs)?e:"")},Ew=function(e){if(c(this,jr))for(const t of c(this,jr))t.tabIndex=e},dd=function(){if(b(this,rs,!1),E(this,Ce,Ew).call(this,-1),c(this,Ca)){const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=c(this,Ca);E(this,Ce,ww).call(this,e,t,r,i),b(this,Ca,null)}},S(Qe,Vh),me(Qe,"_borderLineWidth",-1),me(Qe,"_colorManager",new uw),me(Qe,"_zIndex",1),me(Qe,"_telemetryTimeout",1e3);let He=Qe;class N2 extends He{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const _x=3285377520,gr=4294901760,li=65535;class aT{constructor(e){this.h1=e?e&4294967295:_x,this.h2=e?e&4294967295:_x}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let y=0,_=e.length;y<_;y++){const g=e.charCodeAt(y);g<=255?t[r++]=g:(t[r++]=g>>>8,t[r++]=g&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(t.buffer,0,i);let a=0,l=0,u=this.h1,d=this.h2;const h=3432918353,f=461845907,p=h&li,m=f&li;for(let y=0;y<i;y++)y&1?(a=o[y],a=a*h&gr|a*p&li,a=a<<15|a>>>17,a=a*f&gr|a*m&li,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(l=o[y],l=l*h&gr|l*p&li,l=l<<15|l>>>17,l=l*f&gr|l*m&li,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(a=0,s){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*h&gr|a*p&li,a=a<<15|a>>>17,a=a*f&gr|a*m&li,i&1?u^=a:d^=a}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&gr|e*36045&li,t=t*4283543511&gr|((t<<16|e>>>16)*2950163797&gr)>>>16,e^=t>>>1,e=e*444984403&gr|e*60499&li,t=t*3301882366&gr|((t<<16|e>>>16)*3120437893&gr)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Sw=Object.freeze({map:null,hash:"",transfer:void 0});var Ra,Yt,Ug,lT;class zb{constructor(){S(this,Ug);S(this,Ra,!1);S(this,Yt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=c(this,Yt).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return c(this,Yt).get(e)}remove(e){if(c(this,Yt).delete(e),c(this,Yt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of c(this,Yt).values())if(t instanceof He)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=c(this,Yt).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(t))r[s]!==o&&(i=!0,r[s]=o);else i=!0,c(this,Yt).set(e,t);i&&E(this,Ug,lT).call(this),t instanceof He&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return c(this,Yt).has(e)}getAll(){return c(this,Yt).size>0?Mb(c(this,Yt)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return c(this,Yt).size}resetModified(){c(this,Ra)&&(b(this,Ra,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new uT(this)}get serializable(){if(c(this,Yt).size===0)return Sw;const e=new Map,t=new aT,r=[],i=Object.create(null);let s=!1;for(const[o,a]of c(this,Yt)){const l=a instanceof He?a.serialize(!1,i):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:Sw}get editorStats(){let e=null;const t=new Map;for(const r of c(this,Yt).values()){if(!(r instanceof He))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let u=o.get(a);u||(u=new Map,o.set(a,u));const d=u.get(l)??0;u.set(l,d+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}}Ra=new WeakMap,Yt=new WeakMap,Ug=new WeakSet,lT=function(){c(this,Ra)||(b(this,Ra,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Wh;class uT extends zb{constructor(t){super();S(this,Wh);const{map:r,hash:i,transfer:s}=t.serializable,o=structuredClone(r,s?{transfer:s}:null);b(this,Wh,{map:o,hash:i,transfer:s})}get print(){Xe("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,Wh)}}Wh=new WeakMap;var Mu;class I2{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){S(this,Mu,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,Mu).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||c(this,Mu).has(e.loadedName))){if(jt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,o=new FontFace(r,i,s);this.addNativeFontFace(o);try{await o.load(),c(this,Mu).add(r),t==null||t(e)}catch{Ae(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Xe("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Ae(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Ne(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(fn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ne(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(jt(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ne(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(x,C){return x.charCodeAt(C)<<24|x.charCodeAt(C+1)<<16|x.charCodeAt(C+2)<<8|x.charCodeAt(C+3)&255}function i(x,C,k,P){const A=x.substring(0,C),D=x.substring(C+k);return A+P+D}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let u=0;function d(x,C){if(++u>30){Ae("Load test font never loaded."),C();return}if(l.font="30px "+x,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(d.bind(null,x,C))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,h.length,h);const m=16,y=1482184792;let _=r(f,m);for(s=0,o=h.length-3;s<o;s+=4)_=_-y+r(h,s)|0;s<h.length&&(_=_-y+r(h+"XXX",s)|0),f=i(f,m,4,w2(_));const g=`url(data:font/opentype;base64,${btoa(f)});`,v=`@font-face {font-family:"${h}";src:${g}}`;this.insertRule(v);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const x of[e.loadedName,h]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=x,w.append(C)}this._document.body.append(w),d(h,()=>{w.remove(),t.complete()})}}Mu=new WeakMap;class F2{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=Pk(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),r}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(s){Ae(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(s,o){};const i=[];for(let s=0,o=r.length;s<o;)switch(r[s++]){case zi.BEZIER_CURVE_TO:{const[a,l,u,d,h,f]=r.slice(s,s+6);i.push(p=>p.bezierCurveTo(a,l,u,d,h,f)),s+=6}break;case zi.MOVE_TO:{const[a,l]=r.slice(s,s+2);i.push(u=>u.moveTo(a,l)),s+=2}break;case zi.LINE_TO:{const[a,l]=r.slice(s,s+2);i.push(u=>u.lineTo(a,l)),s+=2}break;case zi.QUADRATIC_CURVE_TO:{const[a,l,u,d]=r.slice(s,s+4);i.push(h=>h.quadraticCurveTo(a,l,u,d)),s+=4}break;case zi.RESTORE:i.push(a=>a.restore());break;case zi.SAVE:i.push(a=>a.save());break;case zi.SCALE:jt(i.length===2,"Scale command is only valid at the third position.");break;case zi.TRANSFORM:{const[a,l,u,d,h,f]=r.slice(s,s+6);i.push(p=>p.transform(a,l,u,d,h,f)),s+=6}break;case zi.TRANSLATE:{const[a,l]=r.slice(s,s+2);i.push(u=>u.translate(a,l)),s+=2}break}return this.compiledGlyphs[t]=function(o,a){i[0](o),i[1](o),o.scale(a,-a);for(let l=2,u=i.length;l<u;l++)i[l](o)}}}if(fn){var xw=Promise.withResolvers(),Ld=null;(async()=>{const e=await Fp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Fp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Fp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Fp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:t,https:r,url:i,canvas:s,path2d:o}))})().then(e=>{Ld=e,xw.resolve()},e=>{Ae(`loadPackages: ${e}`),Ld=new Map,xw.resolve()})}class Ni{static get promise(){return xw.promise}static get(e){return Ld==null?void 0:Ld.get(e)}}const cT=function(n){return Ni.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class j2 extends My{}class z2 extends xg{_createCanvas(e,t){return Ni.get("canvas").createCanvas(e,t)}}class B2 extends Oy{_fetchData(e,t){return cT(e).then(r=>({cMapData:r,compressionType:t}))}}class U2 extends Dy{_fetchData(e){return cT(e)}}const bn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Aw(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class lp{constructor(){this.constructor===lp&&Xe("Cannot initialize BaseShadingPattern.")}getPattern(){Xe("Abstract method `getPattern` called.")}}class H2 extends lp{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===bn.STROKE||i===bn.FILL){const o=t.current.getClippedPathBoundingBox(i,dt(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",a,l,!0),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),r=te.transform(r,[1,0,0,1,o[0],o[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),Aw(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(r);s.setTransform(h)}else Aw(e,this._bbox),s=this._createGradient(e);return s}}function Iv(n,e,t,r,i,s,o,a){const l=e.coords,u=e.colors,d=n.data,h=n.width*4;let f;l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=o,o=f),l[r+1]>l[i+1]&&(f=r,r=i,i=f,f=o,o=a,a=f),l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=o,o=f);const p=(l[t]+e.offsetX)*e.scaleX,m=(l[t+1]+e.offsetY)*e.scaleY,y=(l[r]+e.offsetX)*e.scaleX,_=(l[r+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,v=(l[i+1]+e.offsetY)*e.scaleY;if(m>=v)return;const w=u[s],x=u[s+1],C=u[s+2],k=u[o],P=u[o+1],A=u[o+2],D=u[a],I=u[a+1],j=u[a+2],ne=Math.round(m),J=Math.round(v);let X,he,pe,V,F,$,ie,Re;for(let ue=ne;ue<=J;ue++){if(ue<_){const Se=ue<m?0:(m-ue)/(m-_);X=p-(p-y)*Se,he=w-(w-k)*Se,pe=x-(x-P)*Se,V=C-(C-A)*Se}else{let Se;ue>v?Se=1:_===v?Se=0:Se=(_-ue)/(_-v),X=y-(y-g)*Se,he=k-(k-D)*Se,pe=P-(P-I)*Se,V=A-(A-j)*Se}let Ee;ue<m?Ee=0:ue>v?Ee=1:Ee=(m-ue)/(m-v),F=p-(p-g)*Ee,$=w-(w-D)*Ee,ie=x-(x-I)*Ee,Re=C-(C-j)*Ee;const Ye=Math.round(Math.min(X,F)),lt=Math.round(Math.max(X,F));let De=h*ue+Ye*4;for(let Se=Ye;Se<=lt;Se++)Ee=(X-Se)/(X-F),Ee<0?Ee=0:Ee>1&&(Ee=1),d[De++]=he-(he-$)*Ee|0,d[De++]=pe-(pe-ie)*Ee|0,d[De++]=V-(V-Re)*Ee|0,d[De++]=255}}function $2(n,e,t){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,u=a-1;for(s=0;s<l;s++){let d=s*a;for(let h=0;h<u;h++,d++)Iv(n,t,r[d],r[d+1],r[d+a],i[d],i[d+1],i[d+a]),Iv(n,t,r[d+a+1],r[d+1],r[d+a],i[d+a+1],i[d+1],i[d+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)Iv(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class V2 extends lp{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=u/h,m=d/f,y={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/m},_=h+2*2,g=f+2*2,v=r.getCanvas("mesh",_,g,!1),w=v.context,x=w.createImageData(h,f);if(t){const k=x.data;for(let P=0,A=k.length;P<A;P+=4)k[P]=t[0],k[P+1]=t[1],k[P+2]=t[2],k[P+3]=255}for(const k of this._figures)$2(x,k,y);return w.putImageData(x,2,2),{canvas:v.canvas,offsetX:a-2*p,offsetY:l-2*m,scaleX:p,scaleY:m}}getPattern(e,t,r,i){Aw(e,this._bbox);let s;if(i===bn.SHADING)s=te.singularValueDecompose2dScale(dt(e));else if(s=te.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=te.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,i===bn.SHADING?null:this._background,t.cachedCanvases);return i!==bn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class W2 extends lp{getPattern(){return"hotpink"}}function G2(n){switch(n[0]){case"RadialAxial":return new H2(n);case"Mesh":return new V2(n);case"Dummy":return new W2}throw new Error(`Unknown IR type: ${n[0]}`)}const bx={COLORED:1,UNCOLORED:2},Hg=class Hg{constructor(e,t,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,r=this.bbox,i=this.xstep,s=this.ystep,o=this.paintType,a=this.tilingType,l=this.color,u=this.canvasGraphicsFactory;Ry("TilingType: "+a);const d=r[0],h=r[1],f=r[2],p=r[3],m=te.singularValueDecompose2dScale(this.matrix),y=te.singularValueDecompose2dScale(this.baseTransform),_=[m[0]*y[0],m[1]*y[1]],g=this.getSizeAndScale(i,this.ctx.canvas.width,_[0]),v=this.getSizeAndScale(s,this.ctx.canvas.height,_[1]),w=e.cachedCanvases.getCanvas("pattern",g.size,v.size,!0),x=w.context,C=u.createCanvasGraphics(x);C.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(C,o,l);let k=d,P=h,A=f,D=p;return d<0&&(k=0,A+=Math.abs(d)),h<0&&(P=0,D+=Math.abs(h)),x.translate(-(g.scale*k),-(v.scale*P)),C.transform(g.scale,0,0,v.scale,0,0),x.save(),this.clipBbox(C,k,P,A,D),C.baseTransform=dt(C.ctx),C.executeOperatorList(t),C.endDrawing(),{canvas:w.canvas,scaleX:g.scale,scaleY:v.scale,offsetX:k,offsetY:P}}getSizeAndScale(e,t,r){e=Math.abs(e);const i=Math.max(Hg.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const o=i-t,a=s-r;e.ctx.rect(t,r,o,a),e.current.updateRectMinMax(dt(e.ctx),[t,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case bx.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case bx.UNCOLORED:const a=te.makeHexColor(r[0],r[1],r[2]);i.fillStyle=a,i.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new v2(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,i){let s=r;i!==bn.SHADING&&(s=te.transform(s,t.baseTransform),this.matrix&&(s=te.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};me(Hg,"MAX_PATTERN_SIZE",3e3);let Cw=Hg;function q2({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=Dn.isLittleEndian?4278190080:255,[l,u]=o?[s,a]:[a,s],d=r>>3,h=r&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let m=0;m<i;m++){for(const _=e+d;e<_;e++){const g=e<f?n[e]:255;t[p++]=g&128?u:l,t[p++]=g&64?u:l,t[p++]=g&32?u:l,t[p++]=g&16?u:l,t[p++]=g&8?u:l,t[p++]=g&4?u:l,t[p++]=g&2?u:l,t[p++]=g&1?u:l}if(h===0)continue;const y=e<f?n[e++]:255;for(let _=0;_<h;_++)t[p++]=y&1<<7-_?u:l}return{srcPos:e,destPos:p}}const Ex=16,Sx=100,X2=15,xx=10,Ax=1e3,Ln=16;function K2(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,s,o,a,l){e.transform(r,i,s,o,a,l),this.__originalTransform(r,i,s,o,a,l)},n.setTransform=function(r,i,s,o,a,l){e.setTransform(r,i,s,o,a,l),this.__originalSetTransform(r,i,s,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,o,a){e.bezierCurveTo(t,r,i,s,o,a),this.__originalBezierCurveTo(t,r,i,s,o,a)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Y2{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function jp(n,e,t,r,i,s,o,a,l,u){const[d,h,f,p,m,y]=dt(n);if(h===0&&f===0){const v=o*d+m,w=Math.round(v),x=a*p+y,C=Math.round(x),k=(o+l)*d+m,P=Math.abs(Math.round(k)-w)||1,A=(a+u)*p+y,D=Math.abs(Math.round(A)-C)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(p),w,C),n.drawImage(e,t,r,i,s,0,0,P,D),n.setTransform(d,h,f,p,m,y),[P,D]}if(d===0&&p===0){const v=a*f+m,w=Math.round(v),x=o*h+y,C=Math.round(x),k=(a+u)*f+m,P=Math.abs(Math.round(k)-w)||1,A=(o+l)*h+y,D=Math.abs(Math.round(A)-C)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,w,C),n.drawImage(e,t,r,i,s,0,0,D,P),n.setTransform(d,h,f,p,m,y),[D,P]}n.drawImage(e,t,r,i,s,o,a,l,u);const _=Math.hypot(d,h),g=Math.hypot(f,p);return[_*l,g*u]}function Z2(n){const{width:e,height:t}=n;if(e>Ax||t>Ax)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),a,l,u;const d=e+7&-8;let h=new Uint8Array(d*t),f=0;for(const g of n.data){let v=128;for(;v>0;)h[f++]=g&v?0:255,v>>=1}let p=0;for(f=0,h[f]!==0&&(o[0]=1,++p),l=1;l<e;l++)h[f]!==h[f+1]&&(o[l]=h[f]?2:1,++p),f++;for(h[f]!==0&&(o[l]=2,++p),a=1;a<t;a++){f=a*d,u=a*s,h[f-d]!==h[f]&&(o[u]=h[f]?1:8,++p);let g=(h[f]?4:0)+(h[f-d]?8:0);for(l=1;l<e;l++)g=(g>>2)+(h[f+1]?4:0)+(h[f-d+1]?8:0),i[g]&&(o[u+l]=i[g],++p),f++;if(h[f-d]!==h[f]&&(o[u+l]=h[f]?2:4,++p),p>r)return null}for(f=d*(t-1),u=a*s,h[f]!==0&&(o[u]=8,++p),l=1;l<e;l++)h[f]!==h[f+1]&&(o[u+l]=h[f]?4:8,++p),f++;if(h[f]!==0&&(o[u+l]=4,++p),p>r)return null;const m=new Int32Array([0,s,-1,0,-s,0,0,0,1]),y=new Path2D;for(a=0;p&&a<=t;a++){let g=a*s;const v=g+e;for(;g<v&&!o[g];)g++;if(g===v)continue;y.moveTo(g%s,a);const w=g;let x=o[g];do{const C=m[x];do g+=C;while(!o[g]);const k=o[g];k!==5&&k!==10?(x=k,o[g]=0):(x=k&51*x>>4,o[g]&=x>>2|x<<2),y.lineTo(g%s,g/s|0),o[g]||--p}while(w!==g);--a}return h=null,o=null,function(g){g.save(),g.scale(1/e,-1/t),g.translate(0,-t),g.fill(y),g.beginPath(),g.restore()}}class Cx{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Tk,this.textMatrixScale=1,this.fontMatrix=Q0,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=an.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=te.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=te.applyTransform(t,e),i=te.applyTransform(t.slice(2),e),s=te.applyTransform([t[0],t[3]],e),o=te.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],o[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],o[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],o[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],o[1])}updateScalingPathMinMax(e,t){te.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,s,o,a,l,u,d){const h=te.bezierBoundingBox(t,r,i,s,o,a,l,u,d);d||this.updateRectMinMax(e,h)}getPathBoundingBox(e=bn.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===bn.STROKE){t||Xe("Stroke bounding box must include transform.");const i=te.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=o,r[2]+=s,r[3]+=o}return r}updateClipFromPath(){const e=te.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=bn.FILL,t=null){return te.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function kx(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%Ln,s=(t-i)/Ln,o=i===0?s:s+1,a=n.createImageData(r,Ln);let l=0,u;const d=e.data,h=a.data;let f,p,m,y;if(e.kind===im.GRAYSCALE_1BPP){const _=d.byteLength,g=new Uint32Array(h.buffer,0,h.byteLength>>2),v=g.length,w=r+7>>3,x=4294967295,C=Dn.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(m=f<s?Ln:i,u=0,p=0;p<m;p++){const k=_-l;let P=0;const A=k>w?r:k*8-7,D=A&-8;let I=0,j=0;for(;P<D;P+=8)j=d[l++],g[u++]=j&128?x:C,g[u++]=j&64?x:C,g[u++]=j&32?x:C,g[u++]=j&16?x:C,g[u++]=j&8?x:C,g[u++]=j&4?x:C,g[u++]=j&2?x:C,g[u++]=j&1?x:C;for(;P<A;P++)I===0&&(j=d[l++],I=128),g[u++]=j&I?x:C,I>>=1}for(;u<v;)g[u++]=0;n.putImageData(a,0,f*Ln)}}else if(e.kind===im.RGBA_32BPP){for(p=0,y=r*Ln*4,f=0;f<s;f++)h.set(d.subarray(l,l+y)),l+=y,n.putImageData(a,0,p),p+=Ln;f<o&&(y=r*i*4,h.set(d.subarray(l,l+y)),n.putImageData(a,0,p))}else if(e.kind===im.RGB_24BPP)for(m=Ln,y=r*m,f=0;f<o;f++){for(f>=s&&(m=i,y=r*m),u=0,p=y;p--;)h[u++]=d[l++],h[u++]=d[l++],h[u++]=d[l++],h[u++]=255;n.putImageData(a,0,f*Ln)}else throw new Error(`bad image kind: ${e.kind}`)}function Tx(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%Ln,s=(t-i)/Ln,o=i===0?s:s+1,a=n.createImageData(r,Ln);let l=0;const u=e.data,d=a.data;for(let h=0;h<o;h++){const f=h<s?Ln:i;({srcPos:l}=q2({src:u,srcPos:l,dest:d,width:r,height:f,nonBlackColor:0})),n.putImageData(a,0,h*Ln)}}function Yc(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function zp(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!fn){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function Rx(n,e){if(e)return!0;const t=te.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*jo.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const Q2=["butt","round","square"],J2=["miter","round","bevel"],ej={},Px={};var Bo,kw,Tw;const Kb=class Kb{constructor(e,t,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,u){S(this,Bo);this.ctx=e,this.current=new Cx(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new Y2(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...dt(this.compositeCtx))}this.ctx.save(),zp(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=dt(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const u=l-a>xx&&typeof r=="function",d=u?Date.now()+X2:0;let h=0;const f=this.commonObjs,p=this.objs;let m;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(m=o[a],m!==Or.dependency)this[m].apply(this,s[a]);else for(const y of s[a]){const _=y.startsWith("g_")?f:p;if(!_.has(y))return _.get(y,r),a}if(a++,a===l)return a;if(u&&++h>xx){if(Date.now()>d)return r(),a;h=0}}}endDrawing(){E(this,Bo,kw).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),E(this,Bo,Tw).call(this)}_scaleImage(e,t){const r=e.width,i=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=i,u="prescale1",d,h;for(;s>2&&a>1||o>2&&l>1;){let f=a,p=l;s>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/f),o>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/p),d=this.cachedCanvases.getCanvas(u,f,p),h=d.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,a,l,0,0,f,p),e=d.canvas,a=f,l=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,a=dt(t);let l,u,d,h;if((e.bitmap||e.data)&&e.count>1){const A=e.bitmap||e.data.buffer;u=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(A),l||(l=new Map,this._cachedBitmapsMap.set(A,l));const D=l.get(u);if(D&&!o){const I=Math.round(Math.min(a[0],a[2])+a[4]),j=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:D,offsetX:I,offsetY:j}}d=D}d||(h=this.cachedCanvases.getCanvas("maskCanvas",r,i),Tx(h.context,e));let f=te.transform(a,[1/r,0,0,-1/i,0,0]);f=te.transform(f,[1,0,0,1,0,-i]);const[p,m,y,_]=te.getAxialAlignedBoundingBox([0,0,r,i],f),g=Math.round(y-p)||1,v=Math.round(_-m)||1,w=this.cachedCanvases.getCanvas("fillCanvas",g,v),x=w.context,C=p,k=m;x.translate(-C,-k),x.transform(...f),d||(d=this._scaleImage(h.canvas,Bi(x)),d=d.img,l&&o&&l.set(u,d)),x.imageSmoothingEnabled=Rx(dt(x),e.interpolate),jp(x,d,0,0,d.width,d.height,0,0,r,i),x.globalCompositeOperation="source-in";const P=te.transform(Bi(x),[1,0,0,1,-C,-k]);return x.fillStyle=o?s.getPattern(t,this,P,bn.FILL):s,x.fillRect(0,0,r,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,w.canvas)),{canvas:w.canvas,offsetX:Math.round(C),offsetY:Math.round(k)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=Q2[e]}setLineJoin(e){this.ctx.lineJoin=J2[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...dt(this.suspendedCtx)),Yc(this.suspendedCtx,s),K2(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Yc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,o,a,l,u,d,h){let f=e.canvas,p=l-d,m=u-h;if(o){if(p<0||m<0||p+r>f.width||m+i>f.height){const _=this.cachedCanvases.getCanvas("maskExtension",r,i),g=_.context;g.drawImage(f,-p,-m),o.some(v=>v!==0)&&(g.globalCompositeOperation="destination-atop",g.fillStyle=te.makeHexColor(...o),g.fillRect(0,0,r,i),g.globalCompositeOperation="source-over"),f=_.canvas,p=m=0}else if(o.some(_=>_!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(p,m,r,i),e.clip(_),e.globalCompositeOperation="destination-atop",e.fillStyle=te.makeHexColor(...o),e.fillRect(p,m,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const y=new Path2D;y.rect(l,u,r,i),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(f,p,m,r,i,l,u,r,i),t.restore()}save(){this.inSMaskMode?(Yc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Yc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,s,o){this.ctx.transform(e,t,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const i=this.ctx,s=this.current;let o=s.x,a=s.y,l,u;const d=dt(i),h=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,f=h?r.slice(0):null;for(let p=0,m=0,y=e.length;p<y;p++)switch(e[p]|0){case Or.rectangle:o=t[m++],a=t[m++];const _=t[m++],g=t[m++],v=o+_,w=a+g;i.moveTo(o,a),_===0||g===0?i.lineTo(v,w):(i.lineTo(v,a),i.lineTo(v,w),i.lineTo(o,w)),h||s.updateRectMinMax(d,[o,a,v,w]),i.closePath();break;case Or.moveTo:o=t[m++],a=t[m++],i.moveTo(o,a),h||s.updatePathMinMax(d,o,a);break;case Or.lineTo:o=t[m++],a=t[m++],i.lineTo(o,a),h||s.updatePathMinMax(d,o,a);break;case Or.curveTo:l=o,u=a,o=t[m+4],a=t[m+5],i.bezierCurveTo(t[m],t[m+1],t[m+2],t[m+3],o,a),s.updateCurvePathMinMax(d,l,u,t[m],t[m+1],t[m+2],t[m+3],o,a,f),m+=6;break;case Or.curveTo2:l=o,u=a,i.bezierCurveTo(o,a,t[m],t[m+1],t[m+2],t[m+3]),s.updateCurvePathMinMax(d,l,u,o,a,t[m],t[m+1],t[m+2],t[m+3],f),o=t[m+2],a=t[m+3],m+=4;break;case Or.curveTo3:l=o,u=a,o=t[m+2],a=t[m+3],i.bezierCurveTo(t[m],t[m+1],o,a,o,a),s.updateCurvePathMinMax(d,l,u,t[m],t[m+1],o,a,o,a,f),m+=4;break;case Or.closePath:i.closePath();break}h&&s.updateScalingPathMinMax(d,f),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,Bi(t),bn.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,Bi(t),bn.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ej}eoClip(){this.pendingClip=Px}beginText(){this.current.textMatrix=Tk,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var d;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||Q0,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Ae("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((d=r.systemFontInfo)==null?void 0:d.css)||`"${s}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let u=t;t<Ex?u=Ex:t>Sx&&(u=Sx),this.current.fontSizeScale=t/u,this.ctx.font=`${l} ${a} ${u}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,s,o){this.current.textMatrix=[e,t,r,i,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,d=l&an.FILL_STROKE_MASK,h=!!(l&an.ADD_TO_PATH_FLAG),f=o.patternFill&&!a.missingFile;let p;(a.disableFontFace||h||f)&&(p=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||f?(s.save(),s.translate(t,r),s.beginPath(),p(s,u),i&&s.setTransform(...i),(d===an.FILL||d===an.FILL_STROKE)&&s.fill(),(d===an.STROKE||d===an.FILL_STROKE)&&s.stroke(),s.restore()):((d===an.FILL||d===an.FILL_STROKE)&&s.fillText(e,t,r),(d===an.STROKE||d===an.FILL_STROKE)&&s.strokeText(e,t,r)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:dt(s),x:t,y:r,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return Ne(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,u=t.fontDirection,d=t.textHScale*u,h=e.length,f=r.vertical,p=f?1:-1,m=r.defaultVMetrics,y=i*t.fontMatrix[0],_=t.textRenderingMode===an.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),u>0?s.scale(d,-1):s.scale(d,1);let g;if(t.patternFill){s.save();const k=t.fillColor.getPattern(s,this,Bi(s),bn.FILL);g=dt(s),s.restore(),s.fillStyle=k}let v=t.lineWidth;const w=t.textMatrixScale;if(w===0||v===0){const k=t.textRenderingMode&an.FILL_STROKE_MASK;(k===an.STROKE||k===an.FILL_STROKE)&&(v=this.getSinglePixelWidth())}else v/=w;if(o!==1&&(s.scale(o,o),v/=o),s.lineWidth=v,r.isInvalidPDFjsFont){const k=[];let P=0;for(const A of e)k.push(A.unicode),P+=A.width;s.fillText(k.join(""),0,0),t.x+=P*y*d,s.restore(),this.compose();return}let x=0,C;for(C=0;C<h;++C){const k=e[C];if(typeof k=="number"){x+=p*k*i/1e3;continue}let P=!1;const A=(k.isSpace?l:0)+a,D=k.fontChar,I=k.accent;let j,ne,J=k.width;if(f){const he=k.vmetric||m,pe=-(k.vmetric?he[1]:J*.5)*y,V=he[2]*y;J=he?-he[0]:J,j=pe/o,ne=(x+V)/o}else j=x/o,ne=0;if(r.remeasure&&J>0){const he=s.measureText(D).width*1e3/i*o;if(J<he&&this.isFontSubpixelAAEnabled){const pe=J/he;P=!0,s.save(),s.scale(pe,1),j/=pe}else J!==he&&(j+=(J-he)/2e3*i/o)}if(this.contentVisible&&(k.isInFont||r.missingFile)){if(_&&!I)s.fillText(D,j,ne);else if(this.paintChar(D,j,ne,g),I){const he=j+i*I.offset.x/o,pe=ne-i*I.offset.y/o;this.paintChar(I.fontChar,he,pe,g)}}const X=f?J*y-A*u:J*y+A*u;x+=X,P&&s.restore()}f?t.y-=x:t.x+=x*d,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,u=r.wordSpacing,d=r.textHScale*o,h=r.fontMatrix||Q0,f=e.length,p=r.textRenderingMode===an.INVISIBLE;let m,y,_,g;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(d,o),m=0;m<f;++m){if(y=e[m],typeof y=="number"){g=a*y*s/1e3,this.ctx.translate(g,0),r.x+=g*d;continue}const v=(y.isSpace?u:0)+l,w=i.charProcOperatorList[y.operatorListId];if(!w){Ae(`Type3 character "${y.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=y,this.save(),t.scale(s,s),t.transform(...h),this.executeOperatorList(w),this.restore()),_=te.applyTransform([y.width,0],h)[0]*s+v,t.translate(_,0),r.x+=_*d}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,o){this.ctx.rect(r,i,s-r,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||dt(this.ctx),s={createCanvasGraphics:o=>new Kb(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Cw(e,r,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){const i=te.makeHexColor(e,t,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,r){const i=te.makeHexColor(e,t,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=G2(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,Bi(t),bn.SHADING);const i=Bi(t);if(i){const{width:s,height:o}=t.canvas,[a,l,u,d]=te.getAxialAlignedBoundingBox([0,0,s,o],i);this.ctx.fillRect(a,l,u-a,d-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Xe("Should not call beginInlineImage")}beginImageData(){Xe("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=dt(this.ctx),t)){const r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(dt(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Ry("TODO: Support non-isolated groups."),e.knockout&&Ae("Knockout groups not supported.");const r=dt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=te.getAxialAlignedBoundingBox(e.bbox,dt(t));const s=[0,0,t.canvas.width,t.canvas.height];i=te.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),u=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,u]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,l,u),f=h.context;f.translate(-o,-a),f.transform(...r),e.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),Yc(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=dt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=te.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(E(this,Bo,kw).call(this),zp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,u]=te.singularValueDecompose2dScale(dt(this.ctx)),{viewportScale:d}=this,h=Math.ceil(o*this.outputScaleX*d),f=Math.ceil(a*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,f);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,a*u),zp(this.ctx)}else zp(this.ctx),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new Cx(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),E(this,Bo,Tw).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=Z2(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=dt(a);a.transform(t,r,i,s,0,0);const u=this._createMaskCanvas(e);a.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let d=0,h=o.length;d<h;d+=2){const f=te.transform(l,[t,r,i,s,o[d],o[d+1]]),[p,m]=te.applyTransform([0,0],f);a.drawImage(u.canvas,p,m)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:u}=s,d=this.cachedCanvases.getCanvas("maskCanvas",a,l),h=d.context;h.save();const f=this.getObject(o,s);Tx(h,f),h.globalCompositeOperation="source-in",h.fillStyle=i?r.getPattern(h,this,Bi(t),bn.FILL):r,h.fillRect(0,0,a,l),h.restore(),t.save(),t.transform(...u),t.scale(1,-1),jp(t,d.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Ae("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){Ae("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let u=0,d=i.length;u<d;u+=2)l.push({transform:[t,0,0,r,i[u],i[u+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;if(this.save(),!fn){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/t,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,r).context;kx(l,e),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,Bi(i));i.imageSmoothingEnabled=Rx(dt(i),e.interpolate),jp(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;kx(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),jp(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===Px?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=dt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)o=a=1/l;else{const d=l*e;o=a=d<1?1/d:1}else if(e===0)o=1/l,a=1/u;else{const d=l*e,h=u*e;o=d<1?1/d:1,a=h<1?1/h:1}}else{const l=Math.abs(t*s-r*i),u=Math.hypot(t,r),d=Math.hypot(i,s);if(e===0)o=d/l,a=u/l;else{const h=e*l;o=d>h?d/h:1,a=u>h?u/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(i,s),o.length>0){const a=Math.max(i,s);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Bo=new WeakSet,kw=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Tw=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let gu=Kb;for(const n in Or)gu.prototype[n]!==void 0&&(gu.prototype[Or[n]]=gu.prototype[n]);var Gh,qh;class As{static get workerPort(){return c(this,Gh)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");b(this,Gh,e)}static get workerSrc(){return c(this,qh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");b(this,qh,e)}}Gh=new WeakMap,qh=new WeakMap,S(As,Gh,null),S(As,qh,"");const Bp={UNKNOWN:0,DATA:1,ERROR:2},Ct={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Vn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||Xe('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Dl(n.message);case"MissingPDFException":return new Ol(n.message);case"PasswordException":return new ew(n.message,n.code);case"UnexpectedResponseException":return new Py(n.message,n.status);case"UnknownErrorException":return new tw(n.message,n.details);default:return new tw(n.message,n.toString())}}var Li,dT,hT,cm;class hd{constructor(e,t,r){S(this,Li);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const s=i.data;if(s.targetName!==this.sourceName)return;if(s.stream){E(this,Li,hT).call(this,s);return}if(s.callback){const a=s.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],s.callback===Bp.DATA)l.resolve(s.data);else if(s.callback===Bp.ERROR)l.reject(Vn(s.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const a=this.sourceName,l=s.sourceName;new Promise(function(u){u(o(s.data))}).then(function(u){r.postMessage({sourceName:a,targetName:l,callback:Bp.DATA,callbackId:s.callbackId,data:u})},function(u){r.postMessage({sourceName:a,targetName:l,callback:Bp.ERROR,callbackId:s.callbackId,reason:Vn(u)})});return}if(s.streamId){E(this,Li,dT).call(this,s);return}o(s.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:u.desiredSize},i),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:o,targetName:a,stream:Ct.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{jt(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:Ct.CANCEL,streamId:s,reason:Vn(u)}),d.promise}},r)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Li=new WeakSet,dT=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(u,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:Ct.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Ct.CLOSE,streamId:t}),delete o.streamSinks[t])},error(u){jt(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Ct.ERROR,streamId:t,reason:Vn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(u){u(a(e.data,l))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Ct.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:Ct.START_COMPLETE,streamId:t,reason:Vn(u)})})},hT=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case Ct.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Vn(e.reason));break;case Ct.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Vn(e.reason));break;case Ct.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:Ct.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var u;l((u=a.onPull)==null?void 0:u.call(a))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Ct.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:Ct.PULL_COMPLETE,streamId:t,reason:Vn(l)})});break;case Ct.ENQUEUE:if(jt(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case Ct.CLOSE:if(jt(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),E(this,Li,cm).call(this,o,t);break;case Ct.ERROR:jt(o,"error should have stream controller"),o.controller.error(Vn(e.reason)),E(this,Li,cm).call(this,o,t);break;case Ct.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Vn(e.reason)),E(this,Li,cm).call(this,o,t);break;case Ct.CANCEL:if(!a)break;new Promise(function(l){var u;l((u=a.onCancel)==null?void 0:u.call(a,Vn(e.reason)))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Ct.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:Ct.CANCEL_COMPLETE,streamId:t,reason:Vn(l)})}),a.sinkCapability.reject(Vn(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},cm=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Pa,Xh;class tj{constructor({parsedData:e,rawData:t}){S(this,Pa);S(this,Xh);b(this,Pa,e),b(this,Xh,t)}getRaw(){return c(this,Xh)}get(e){return c(this,Pa).get(e)??null}getAll(){return Mb(c(this,Pa))}has(e){return c(this,Pa).has(e)}}Pa=new WeakMap,Xh=new WeakMap;const Ws=Symbol("INTERNAL");var Kh,Yh,Zh,Ou;class nj{constructor(e,{name:t,intent:r,usage:i}){S(this,Kh,!1);S(this,Yh,!1);S(this,Zh,!1);S(this,Ou,!0);b(this,Kh,!!(e&br.DISPLAY)),b(this,Yh,!!(e&br.PRINT)),this.name=t,this.intent=r,this.usage=i}get visible(){if(c(this,Zh))return c(this,Ou);if(!c(this,Ou))return!1;const{print:e,view:t}=this.usage;return c(this,Kh)?(t==null?void 0:t.viewState)!=="OFF":c(this,Yh)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Ws&&Xe("Internal method `_setVisible` called."),b(this,Zh,r),b(this,Ou,t)}}Kh=new WeakMap,Yh=new WeakMap,Zh=new WeakMap,Ou=new WeakMap;var io,Ge,Du,Nu,Qh,Rw;class rj{constructor(e,t=br.DISPLAY){S(this,Qh);S(this,io,null);S(this,Ge,new Map);S(this,Du,null);S(this,Nu,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,b(this,Nu,e.order);for(const r of e.groups)c(this,Ge).set(r.id,new nj(t,r));if(e.baseState==="OFF")for(const r of c(this,Ge).values())r._setVisible(Ws,!1);for(const r of e.on)c(this,Ge).get(r)._setVisible(Ws,!0);for(const r of e.off)c(this,Ge).get(r)._setVisible(Ws,!1);b(this,Du,this.getHash())}}isVisible(e){if(c(this,Ge).size===0)return!0;if(!e)return Ry("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,Ge).has(e.id)?c(this,Ge).get(e.id).visible:(Ae(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return E(this,Qh,Rw).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!c(this,Ge).has(t))return Ae(`Optional content group not found: ${t}`),!0;if(c(this,Ge).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!c(this,Ge).has(t))return Ae(`Optional content group not found: ${t}`),!0;if(!c(this,Ge).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!c(this,Ge).has(t))return Ae(`Optional content group not found: ${t}`),!0;if(!c(this,Ge).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!c(this,Ge).has(t))return Ae(`Optional content group not found: ${t}`),!0;if(c(this,Ge).get(t).visible)return!1}return!0}return Ae(`Unknown optional content policy ${e.policy}.`),!0}return Ae(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const r=c(this,Ge).get(e);if(!r){Ae(`Optional content group not found: ${e}`);return}r._setVisible(Ws,!!t,!0),b(this,io,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=c(this,Ge).get(i);if(s)switch(r){case"ON":s._setVisible(Ws,!0);break;case"OFF":s._setVisible(Ws,!1);break;case"Toggle":s._setVisible(Ws,!s.visible);break}}b(this,io,null)}get hasInitialVisibility(){return c(this,Du)===null||this.getHash()===c(this,Du)}getOrder(){return c(this,Ge).size?c(this,Nu)?c(this,Nu).slice():[...c(this,Ge).keys()]:null}getGroups(){return c(this,Ge).size>0?Mb(c(this,Ge)):null}getGroup(e){return c(this,Ge).get(e)||null}getHash(){if(c(this,io)!==null)return c(this,io);const e=new aT;for(const[t,r]of c(this,Ge))e.update(`${t}:${r.visible}`);return b(this,io,e.hexdigest())}}io=new WeakMap,Ge=new WeakMap,Du=new WeakMap,Nu=new WeakMap,Qh=new WeakSet,Rw=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=E(this,Qh,Rw).call(this,s);else if(c(this,Ge).has(s))o=c(this,Ge).get(s).visible;else return Ae(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class ij{constructor(e,{disableRange:t=!1,disableStream:r=!1}){jt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});jt(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){jt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new sj(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new oj(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class sj{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=Fb(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class oj{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function aj(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let d=a(t);return d=unescape(d),d=l(d),d=u(d),s(d)}if(t=o(n),t){const d=u(t);return s(d)}if(t=r("filename","i").exec(n),t){t=t[1];let d=a(t);return d=u(d),s(d)}function r(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),p=Ly(h);h=f.decode(p),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function o(d){const h=[];let f;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(d))!==null;){let[,y,_,g]=f;if(y=parseInt(y,10),y in h){if(y===0)break;continue}h[y]=[_,g]}const m=[];for(let y=0;y<h.length&&y in h;++y){let[_,g]=h[y];g=a(g),_&&(g=unescape(g),y===0&&(g=l(g))),m.push(g)}return m.join("")}function a(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),m=d.slice(h+1).replace(/^[^']*'/,"");return i(f,m)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,m){if(p==="q"||p==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,_){return String.fromCharCode(parseInt(_,16))}),i(f,m);try{m=atob(m)}catch{}return i(f,m)})}return""}function Bb({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function Ub(n){const e=n("Content-Disposition");if(e){let t=aj(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(Fb(t))return t}return null}function Iy(n,e){return n===404||n===0&&e.startsWith("file:")?new Ol('Missing PDF "'+e+'".'):new Py(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function fT(n){return n===200||n===206}function pT(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function mT(n){const e=new Headers;for(const t in n){const r=n[t];r!==void 0&&e.append(t,r)}return e}function gT(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Ae(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class Lx{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return jt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new lj(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new uj(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class lj{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=mT(this._stream.httpHeaders);const r=t.url;fetch(r,pT(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!fT(i.status))throw Iy(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=l=>i.headers.get(l),{allowRangeRequests:o,suggestedLength:a}=Bb({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=Ub(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Dl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:gT(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class uj{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=mT(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${r-1}`);const s=i.url;fetch(s,pT(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!fT(o.status))throw Iy(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:gT(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Fv=200,jv=206;function cj(n){const e=n.response;return typeof e!="string"?e:Ly(e).buffer}class dj{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){const i={begin:e,end:t};for(const s in r)i[s]=r[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];o!==void 0&&t.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=jv):i.expectedStatus=Fv,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){var l,u,d;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const s=i.status||Fv;if(!(s===Fv&&r.expectedStatus===jv)&&s!==r.expectedStatus){(u=r.onError)==null||u.call(r,i.status);return}const a=cj(i);if(s===jv){const h=i.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);r.onDone({begin:parseInt(f[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):(d=r.onError)==null||d.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class hj{constructor(e){this._source=e,this._manager=new dj(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return jt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new fj(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new pj(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class fj{constructor(e,t){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=o=>t.getResponseHeader(o),{allowRangeRequests:i,suggestedLength:s}=Bb({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=Ub(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Iy(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class pj{constructor(e,t,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Iy(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const yT=/^file:\/\/\/[a-zA-Z]:\//;function mj(n){const e=Ni.get("url"),t=e.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?e.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class gj{constructor(e){this.source=e,this.url=mj(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return jt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new wj(this):new yj(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new _j(this,e,t):new vj(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class vT{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Dl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class wT{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function kg(n,e){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:e}}class yj extends vT{constructor(e){super(e);const t=r=>{if(r.statusCode===404){const a=new Ol(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=Bb({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=Ub(i)};if(this._request=null,this._url.protocol==="http:"){const r=Ni.get("http");this._request=r.request(kg(this._url,e.httpHeaders),t)}else{const r=Ni.get("https");this._request=r.request(kg(this._url,e.httpHeaders),t)}this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class vj extends wT{constructor(e,t,r){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const o=e.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${t}-${r-1}`;const i=s=>{if(s.statusCode===404){const o=new Ol(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=Ni.get("http");this._request=s.request(kg(this._url,this._httpHeaders),i)}else{const s=Ni.get("https");this._request=s.request(kg(this._url,this._httpHeaders),i)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class wj extends vT{constructor(e){super(e);let t=decodeURIComponent(this._url.path);yT.test(this._url.href)&&(t=t.replace(/^\//,""));const r=Ni.get("fs");r.promises.lstat(t).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(t)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Ol(`Missing PDF "${t}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class _j extends wT{constructor(e,t,r){super(e);let i=decodeURIComponent(this._url.path);yT.test(this._url.href)&&(i=i.replace(/^\//,""));const s=Ni.get("fs");this._setReadableStream(s.createReadStream(i,{start:t,end:r-1}))}}const bj=1e5,Tn=30,Ej=.8;var Xx,so,Pn,Jh,ef,La,is,tf,nf,Ma,Iu,Fu,oo,ju,rf,zu,Oa,sf,of,It,Da,Na,ao,Bu,Ns,_T,bT,Pw,Mi,dm,ET,ST;let Tg=(It=class{constructor({textContentSource:e,container:t,viewport:r}){S(this,Ns);S(this,so,Promise.withResolvers());S(this,Pn,null);S(this,Jh,!1);S(this,ef,!!((Xx=globalThis.FontInspector)!=null&&Xx.enabled));S(this,La,null);S(this,is,null);S(this,tf,0);S(this,nf,0);S(this,Ma,null);S(this,Iu,null);S(this,Fu,0);S(this,oo,0);S(this,ju,Object.create(null));S(this,rf,[]);S(this,zu,null);S(this,Oa,[]);S(this,sf,new WeakMap);S(this,of,null);var l;if(e instanceof ReadableStream)b(this,zu,e);else if(typeof e=="object")b(this,zu,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');b(this,Pn,b(this,Iu,t)),b(this,oo,r.scale*(globalThis.devicePixelRatio||1)),b(this,Fu,r.rotation),b(this,is,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;b(this,of,[1,0,0,-1,-o,a+s]),b(this,nf,i),b(this,tf,s),E(l=It,Mi,ET).call(l),Sl(t,r),c(this,so).promise.catch(()=>{}).then(()=>{c(It,Bu).delete(this),b(this,is,null),b(this,ju,null)})}render(){const e=()=>{c(this,Ma).read().then(({value:t,done:r})=>{if(r){c(this,so).resolve();return}c(this,La)??b(this,La,t.lang),Object.assign(c(this,ju),t.styles),E(this,Ns,_T).call(this,t.items),e()},c(this,so).reject)};return b(this,Ma,c(this,zu).getReader()),c(It,Bu).add(this),e(),c(this,so).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==c(this,Fu)&&(t==null||t(),b(this,Fu,i),Sl(c(this,Iu),{rotation:i})),r!==c(this,oo)){t==null||t(),b(this,oo,r);const o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:E(s=It,Mi,dm).call(s,c(this,La))};for(const a of c(this,Oa))o.properties=c(this,sf).get(a),o.div=a,E(this,Ns,Pw).call(this,o)}}cancel(){var t;const e=new Dl("TextLayer task cancelled.");(t=c(this,Ma))==null||t.cancel(e).catch(()=>{}),b(this,Ma,null),c(this,so).reject(e)}get textDivs(){return c(this,Oa)}get textContentItemsStr(){return c(this,rf)}static cleanup(){if(!(c(this,Bu).size>0)){c(this,Da).clear();for(const{canvas:e}of c(this,Na).values())e.remove();c(this,Na).clear()}}},so=new WeakMap,Pn=new WeakMap,Jh=new WeakMap,ef=new WeakMap,La=new WeakMap,is=new WeakMap,tf=new WeakMap,nf=new WeakMap,Ma=new WeakMap,Iu=new WeakMap,Fu=new WeakMap,oo=new WeakMap,ju=new WeakMap,rf=new WeakMap,zu=new WeakMap,Oa=new WeakMap,sf=new WeakMap,of=new WeakMap,Da=new WeakMap,Na=new WeakMap,ao=new WeakMap,Bu=new WeakMap,Ns=new WeakSet,_T=function(e){var i,s;if(c(this,Jh))return;(s=c(this,is)).ctx??(s.ctx=E(i=It,Mi,dm).call(i,c(this,La)));const t=c(this,Oa),r=c(this,rf);for(const o of e){if(t.length>bj){Ae("Ignoring additional textDivs for performance reasons."),b(this,Jh,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=c(this,Pn);b(this,Pn,document.createElement("span")),c(this,Pn).classList.add("markedContent"),o.id!==null&&c(this,Pn).setAttribute("id",`${o.id}`),a.append(c(this,Pn))}else o.type==="endMarkedContent"&&b(this,Pn,c(this,Pn).parentNode);continue}r.push(o.str),E(this,Ns,bT).call(this,o)}},bT=function(e){var y;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,Oa).push(t);const i=te.transform(c(this,of),e.transform);let s=Math.atan2(i[1],i[0]);const o=c(this,ju)[e.fontName];o.vertical&&(s+=Math.PI/2);const a=c(this,ef)&&o.fontSubstitution||o.fontFamily,l=Math.hypot(i[2],i[3]),u=l*E(y=It,Mi,ST).call(y,a,c(this,La));let d,h;s===0?(d=i[4],h=i[5]-u):(d=i[4]+u*Math.sin(s),h=i[5]-u*Math.cos(s));const f="calc(var(--scale-factor)*",p=t.style;c(this,Pn)===c(this,Iu)?(p.left=`${(100*d/c(this,nf)).toFixed(2)}%`,p.top=`${(100*h/c(this,tf)).toFixed(2)}%`):(p.left=`${f}${d.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${(c(It,ao)*l).toFixed(2)}px)`,p.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,c(this,ef)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const _=Math.abs(e.transform[0]),g=Math.abs(e.transform[3]);_!==g&&Math.max(_,g)/Math.min(_,g)>1.5&&(m=!0)}if(m&&(r.canvasWidth=o.vertical?e.height:e.width),c(this,sf).set(t,r),c(this,is).div=t,c(this,is).properties=r,E(this,Ns,Pw).call(this,c(this,is)),r.hasText&&c(this,Pn).append(t),r.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),c(this,Pn).append(_)}},Pw=function(e){const{div:t,properties:r,ctx:i,prevFontSize:s,prevFontFamily:o}=e,{style:a}=t;let l="";if(c(It,ao)>1&&(l=`scale(${1/c(It,ao)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:u}=a,{canvasWidth:d,fontSize:h}=r;(s!==h||o!==u)&&(i.font=`${h*c(this,oo)}px ${u}`,e.prevFontSize=h,e.prevFontFamily=u);const{width:f}=i.measureText(t.textContent);f>0&&(l=`scaleX(${d*c(this,oo)/f}) ${l}`)}r.angle!==0&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(a.transform=l)},Mi=new WeakSet,dm=function(e=null){let t=c(this,Na).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),c(this,Na).set(e,t)}return t},ET=function(){if(c(this,ao)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),b(this,ao,e.getBoundingClientRect().height),e.remove()},ST=function(e,t){const r=c(this,Da).get(e);if(r)return r;const i=E(this,Mi,dm).call(this,t),s=i.font;i.canvas.width=i.canvas.height=Tn,i.font=`${Tn}px ${e}`;const o=i.measureText("");let a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);if(a){const h=a/(a+l);return c(this,Da).set(e,h),i.canvas.width=i.canvas.height=0,i.font=s,h}i.strokeStyle="red",i.clearRect(0,0,Tn,Tn),i.strokeText("g",0,0);let u=i.getImageData(0,0,Tn,Tn).data;l=0;for(let h=u.length-1-3;h>=0;h-=4)if(u[h]>0){l=Math.ceil(h/4/Tn);break}i.clearRect(0,0,Tn,Tn),i.strokeText("A",0,Tn),u=i.getImageData(0,0,Tn,Tn).data,a=0;for(let h=0,f=u.length;h<f;h+=4)if(u[h]>0){a=Tn-Math.floor(h/4/Tn);break}i.canvas.width=i.canvas.height=0,i.font=s;const d=a?a/(a+l):Ej;return c(this,Da).set(e,d),d},S(It,Mi),S(It,Da,new Map),S(It,Na,new Map),S(It,ao,null),S(It,Bu,new Set),It);function Sj(){Nk("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:e,viewport:t,...r}=arguments[0],i=Object.keys(r);i.length>0&&Ae("Ignoring `renderTextLayer` parameters: "+i.join(", "));const s=new Tg({textContentSource:n,container:e,viewport:t}),{textDivs:o,textContentItemsStr:a}=s;return{promise:s.render(),textDivs:o,textContentItemsStr:a}}function xj(){Nk("`updateTextLayer`, please use `TextLayer` instead.")}class gh{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(gh.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const u of s.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const Aj=65536,Cj=100,kj=5e3,Tj=fn?z2:C2,Rj=fn?B2:Ok,Pj=fn?j2:A2,Lj=fn?U2:Dk;function Mj(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new Lw,{docId:t}=e,r=n.url?Oj(n.url):null,i=n.data?Dj(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof xT?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:Aj;let d=n.worker instanceof yu?n.worker:null;const h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!Ib(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,m=n.cMapPacked!==!1,y=n.CMapReaderFactory||Rj,_=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,g=n.StandardFontDataFactory||Lj,v=n.stopAtErrors!==!0,w=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,x=n.isEvalSupported!==!1,C=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!fn,k=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,P=typeof n.disableFontFace=="boolean"?n.disableFontFace:fn,A=n.fontExtraProperties===!0,D=n.enableXfa===!0,I=n.ownerDocument||globalThis.document,j=n.disableRange===!0,ne=n.disableStream===!0,J=n.disableAutoFetch===!0,X=n.pdfBug===!0,he=n.enableHWA===!0,pe=l?l.length:n.length??NaN,V=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!fn&&!P,F=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:y===Ok&&g===Dk&&p&&_&&ud(p,document.baseURI)&&ud(_,document.baseURI),$=n.canvasFactory||new Tj({ownerDocument:I,enableHWA:he}),ie=n.filterFactory||new Pj({docId:t,ownerDocument:I}),Re=null;p2(h);const ue={canvasFactory:$,filterFactory:ie};if(F||(ue.cMapReaderFactory=new y({baseUrl:p,isCompressed:m}),ue.standardFontDataFactory=new g({baseUrl:_})),!d){const lt={verbosity:h,port:As.workerPort};d=lt.port?yu.fromPort(lt):new yu(lt),e._worker=d}const Ee={docId:t,apiVersion:"4.4.168",data:i,password:a,disableAutoFetch:J,rangeChunkSize:u,length:pe,docBaseUrl:f,enableXfa:D,evaluatorOptions:{maxImageSize:w,disableFontFace:P,ignoreErrors:v,isEvalSupported:x,isOffscreenCanvasSupported:C,canvasMaxAreaInBytes:k,fontExtraProperties:A,useSystemFonts:V,cMapUrl:F?p:null,standardFontDataUrl:F?_:null}},Ye={disableFontFace:P,fontExtraProperties:A,ownerDocument:I,pdfBug:X,styleElement:Re,loadingParams:{disableAutoFetch:J,enableXfa:D}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const lt=d.messageHandler.sendWithPromise("GetDocRequest",Ee,i?[i.buffer]:null);let De;if(l)De=new ij(l,{disableRange:j,disableStream:ne});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");De=(yt=>fn?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&ud(yt.url)?new Lx(yt):new gj(yt):ud(yt.url)?new Lx(yt):new hj(yt))({url:r,length:pe,httpHeaders:s,withCredentials:o,rangeChunkSize:u,disableRange:j,disableStream:ne})}return lt.then(Se=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const yt=new hd(t,Se,d.port),fr=new jj(yt,e,De,Ye,ue);e._transport=fr,yt.send("Ready",null)})}).catch(e._capability.reject),e}function Oj(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(fn&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Dj(n){if(fn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Ly(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Mx(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var $g;const Vg=class Vg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${$n(Vg,$g)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};$g=new WeakMap,S(Vg,$g,0);let Lw=Vg,xT=class{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Xe("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class Nj{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ne(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var lo,ss,xr,Wl,hm;class Ij{constructor(e,t,r,i=!1){S(this,xr);S(this,lo,null);S(this,ss,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new vx:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new AT,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new op({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ne(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=Qs.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:d=null}){var w,x;(w=this._stats)==null||w.time("Overall");const h=this._transport.getRenderingIntent(r,i,d),{renderingIntent:f,cacheKey:p}=h;b(this,ss,!1),E(this,xr,hm).call(this),a||(a=this._transport.getOptionalContentConfig(f));let m=this._intentStates.get(p);m||(m=Object.create(null),this._intentStates.set(p,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const y=!!(f&br.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(x=this._stats)==null||x.time("Page Request"),this._pumpOperatorList(h));const _=C=>{var k;m.renderTasks.delete(g),(this._maybeCleanupAfterRender||y)&&b(this,ss,!0),E(this,xr,Wl).call(this,!y),C?(g.capability.reject(C),this._abortOperatorList({intentState:m,reason:C instanceof Error?C:new Error(C)})):g.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(k=globalThis.Stats)!=null&&k.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},g=new Ow({callback:_,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:u});(m.renderTasks||(m.renderTasks=new Set)).add(g);const v=g.task;return Promise.all([m.displayReadyCapability.promise,a]).then(([C,k])=>{var P;if(this.destroyed){_();return}if((P=this._stats)==null||P.time("Rendering"),!(k.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");g.initializeGraphics({transparency:C,optionalContentConfig:k}),g.operatorListChanged()}).catch(_),v}getOperatorList({intent:e="display",annotationMode:t=Qs.ENABLE,printAnnotationStorage:r=null}={}){var l;function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}const s=this._transport.getRenderingIntent(e,t,r,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=i,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>gh.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:u}){if(u){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),b(this,ss,!1),E(this,xr,hm).call(this),Promise.all(e)}cleanup(e=!1){b(this,ss,!0);const t=E(this,xr,Wl).call(this,!1);return e&&t&&this._stats&&(this._stats=new vx),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&E(this,xr,Wl).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r}){const{map:i,transfer:s}=r,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i},s).getReader(),l=this._intentStates.get(t);l.streamReader=a;const u=()=>{a.read().then(({value:d,done:h})=>{if(h){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,l),u())},d=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const h of l.renderTasks)h.operatorListChanged();E(this,xr,Wl).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(d);else if(l.opListReadCapability)l.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof Nb){let i=Cj;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Dl(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}lo=new WeakMap,ss=new WeakMap,xr=new WeakSet,Wl=function(e=!1){if(E(this,xr,hm).call(this),!c(this,ss)||this.destroyed)return!1;if(e)return b(this,lo,setTimeout(()=>{b(this,lo,null),E(this,xr,Wl).call(this,!1)},kj)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),b(this,ss,!1),!0},hm=function(){c(this,lo)&&(clearTimeout(c(this,lo)),b(this,lo,null))};var Ia,Wg;class Fj{constructor(){S(this,Ia,new Set);S(this,Wg,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};c(this,Wg).then(()=>{for(const i of c(this,Ia))i.call(this,r)})}addEventListener(e,t){c(this,Ia).add(t)}removeEventListener(e,t){c(this,Ia).delete(t)}terminate(){c(this,Ia).clear()}}Ia=new WeakMap,Wg=new WeakMap;const Ki={isWorkerDisabled:!1,fakeWorkerId:0};fn&&(Ki.isWorkerDisabled=!0,As.workerSrc||(As.workerSrc="./pdf.worker.mjs")),Ki.isSameOrigin=function(n,e){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const r=new URL(e,t);return t.origin===r.origin},Ki.createCDNWrapper=function(n){const e=`await import("${n}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var Fa,Uu,fm,Hu,pm;const Wn=class Wn{constructor({name:e=null,port:t=null,verbosity:r=m2()}={}){S(this,Uu);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=c(Wn,Fa))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(c(Wn,Fa)||b(Wn,Fa,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return fn?Promise.all([Ni.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new hd("main","worker",e),this._messageHandler.on("ready",function(){}),E(this,Uu,fm).call(this)}_initialize(){if(Ki.isWorkerDisabled||c(Wn,Hu,pm)){this._setupFakeWorker();return}let{workerSrc:e}=Wn;try{Ki.isSameOrigin(window.location.href,e)||(e=Ki.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new hd("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),r.on("test",a=>{if(s.abort(),this.destroyed||!a){i();return}this._messageHandler=r,this._port=t,this._webWorker=t,E(this,Uu,fm).call(this)}),r.on("ready",a=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{Ry("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Ki.isWorkerDisabled||(Ae("Setting up fake worker."),Ki.isWorkerDisabled=!0),Wn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new Fj;this._port=t;const r=`fake${Ki.fakeWorkerId++}`,i=new hd(r+"_worker",r,t);e.setup(i,t),this._messageHandler=new hd(r,r+"_worker",t),E(this,Uu,fm).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=c(Wn,Fa))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=c(this,Fa))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Wn(e)}static get workerSrc(){if(As.workerSrc)return As.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ne(this,"_setupFakeWorkerGlobal",(async()=>c(this,Hu,pm)?c(this,Hu,pm):(await import(this.workerSrc)).WorkerMessageHandler)())}};Fa=new WeakMap,Uu=new WeakSet,fm=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Hu=new WeakSet,pm=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},S(Wn,Hu),S(Wn,Fa);let yu=Wn;var os,gi,$u,Vu,yi,ja,fd;class jj{constructor(e,t,r,i,s){S(this,ja);S(this,os,new Map);S(this,gi,new Map);S(this,$u,new Map);S(this,Vu,new Map);S(this,yi,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new AT,this.fontLoader=new I2({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ne(this,"annotationStorage",new zb)}getRenderingIntent(e,t=Qs.ENABLE,r=null,i=!1){let s=br.DISPLAY,o=Sw;switch(e){case"any":s=br.ANY;break;case"display":break;case"print":s=br.PRINT;break;default:Ae(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case Qs.DISABLE:s+=br.ANNOTATIONS_DISABLE;break;case Qs.ENABLE:break;case Qs.ENABLE_FORMS:s+=br.ANNOTATIONS_FORMS;break;case Qs.ENABLE_STORAGE:s+=br.ANNOTATIONS_STORAGE,o=(s&br.PRINT&&r instanceof uT?r:this.annotationStorage).serializable;break;default:Ae(`getRenderingIntent - invalid annotationMode: ${t}`)}return i&&(s+=br.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=c(this,yi))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of c(this,gi).values())e.push(i._destroy());c(this,gi).clear(),c(this,$u).clear(),c(this,Vu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),c(this,os).clear(),this.filterFactory.destroy(),Tg.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Dl("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{jt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}jt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",r=>{const i=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var o;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),s.onProgress=a=>{var l;(l=t.onProgress)==null||l.call(t,{loaded:a.loaded,total:a.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(r,i)=>{jt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}jt(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new Nj(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new ew(r.message,r.code);break;case"InvalidPDFException":i=new Rk(r.message);break;case"MissingPDFException":i=new Ol(r.message);break;case"UnexpectedResponseException":i=new Py(r.message,r.status);break;case"UnknownErrorException":i=new tw(r.message,r.details);break;default:Xe("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",r=>{if(b(this,yi,Promise.withResolvers()),t.onPassword){const i=s=>{s instanceof Error?c(this,yi).reject(s):c(this,yi).resolve({password:s})};try{t.onPassword(i,r.code)}catch(s){c(this,yi).reject(s)}}else c(this,yi).reject(new ew(r.message,r.code));return c(this,yi).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;c(this,gi).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in s){const p=s.error;Ae(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const d=u&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,h=new F2(s,{disableFontFace:a,inspectFont:d});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&h.data&&(h.data=null),this.commonObjs.resolve(r,h)});break;case"CopyLocalImage":const{imageRef:f}=s;jt(f,"The imageRef must be defined.");for(const p of c(this,gi).values())for(const[,m]of p.objs)if((m==null?void 0:m.ref)===f)return m.dataLen?(this.commonObjs.resolve(r,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var l;if(this.destroyed)return;const a=c(this,gi).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":a.objs.resolve(r,o),(o==null?void 0:o.dataLen)>c2&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&Ae("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=c(this,$u).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&c(this,Vu).set(s.refStr,e);const o=new Ij(t,s,this,this._params.pdfBug);return c(this,gi).set(t,o),o});return c(this,$u).set(t,i),i}getPageIndex(e){return Mx(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return E(this,ja,fd).call(this,"GetFieldObjects")}hasJSActions(){return E(this,ja,fd).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return E(this,ja,fd).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return E(this,ja,fd).call(this,"GetOptionalContentConfig").then(t=>new rj(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=c(this,os).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new tj(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return c(this,os).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of c(this,gi).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,os).clear(),this.filterFactory.destroy(!0),Tg.cleanup()}}cachedPageNumber(e){if(!Mx(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,Vu).get(t)??null}}os=new WeakMap,gi=new WeakMap,$u=new WeakMap,Vu=new WeakMap,yi=new WeakMap,ja=new WeakSet,fd=function(e,t=null){const r=c(this,os).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return c(this,os).set(e,i),i};const Up=Symbol("INITIAL_DATA");var zr,af,Mw;class AT{constructor(){S(this,af);S(this,zr,Object.create(null))}get(e,t=null){if(t){const i=E(this,af,Mw).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=c(this,zr)[e];if(!r||r.data===Up)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=c(this,zr)[e];return!!t&&t.data!==Up}resolve(e,t=null){const r=E(this,af,Mw).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in c(this,zr)){const{data:r}=c(this,zr)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}b(this,zr,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,zr)){const{data:t}=c(this,zr)[e];t!==Up&&(yield[e,t])}}}zr=new WeakMap,af=new WeakSet,Mw=function(e){var t;return(t=c(this,zr))[e]||(t[e]={...Promise.withResolvers(),data:Up})};var uo;class zj{constructor(e){S(this,uo,null);b(this,uo,e),this.onContinue=null}get promise(){return c(this,uo).capability.promise}cancel(e=0){c(this,uo).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,uo).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=c(this,uo);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}uo=new WeakMap;var co,za;const oa=class oa{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null}){S(this,co,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new zj(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(c(oa,za).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(oa,za).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:o}=this.params;this.gfx=new gu(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),c(this,co)&&(window.cancelAnimationFrame(c(this,co)),b(this,co,null)),c(oa,za).delete(this._canvas),this.callback(e||new Nb(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?b(this,co,window.requestAnimationFrame(()=>{b(this,co,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(oa,za).delete(this._canvas),this.callback())))}};co=new WeakMap,za=new WeakMap,S(oa,za,new WeakSet);let Ow=oa;const Bj="4.4.168",Uj="19fbc8998";function Ox(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Zc(n){return Math.max(0,Math.min(255,255*n))}class Dx{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Zc(e),[e,e,e]}static G_HTML([e]){const t=Ox(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(Zc)}static RGB_HTML(e){return`#${e.map(Ox).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[Zc(1-Math.min(1,e+i)),Zc(1-Math.min(1,r+i)),Zc(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class CT{static setupStorage(e,t,r,i,s){const o=i.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,u]of Object.entries(o))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var h,f;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);o.append(p),a&&gh.shouldBuildText(i.name)&&u.push(p)}return{textDivs:u}}const d=[[i,-1,o]];for(;d.length>0;){const[p,m,y]=d.at(-1);if(m+1===p.children.length){d.pop();continue}const _=p.children[++d.at(-1)[1]];if(_===null)continue;const{name:g}=_;if(g==="#text"){const w=document.createTextNode(_.value);u.push(w),y.append(w);continue}const v=(h=_==null?void 0:_.attributes)!=null&&h.xmlns?document.createElementNS(_.attributes.xmlns,g):document.createElement(g);if(y.append(v),_.attributes&&this.setAttributes({html:v,element:_,storage:t,intent:s,linkService:r}),((f=_.children)==null?void 0:f.length)>0)d.push([_,-1,v]);else if(_.value){const w=document.createTextNode(_.value);a&&gh.shouldBuildText(g)&&u.push(w),v.append(w)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const up=1e3,Hj=9,Al=new WeakSet;function Cs(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class $j{static create(e){switch(e.data.annotationType){case Lt.LINK:return new kT(e);case Lt.TEXT:return new Vj(e);case Lt.WIDGET:switch(e.data.fieldType){case"Tx":return new Wj(e);case"Btn":return e.data.radioButton?new PT(e):e.data.checkBox?new qj(e):new Xj(e);case"Ch":return new Kj(e);case"Sig":return new Gj(e)}return new Nl(e);case Lt.POPUP:return new Nw(e);case Lt.FREETEXT:return new NT(e);case Lt.LINE:return new Zj(e);case Lt.SQUARE:return new Qj(e);case Lt.CIRCLE:return new Jj(e);case Lt.POLYLINE:return new IT(e);case Lt.CARET:return new tz(e);case Lt.INK:return new FT(e);case Lt.POLYGON:return new ez(e);case Lt.HIGHLIGHT:return new nz(e);case Lt.UNDERLINE:return new rz(e);case Lt.SQUIGGLY:return new iz(e);case Lt.STRIKEOUT:return new sz(e);case Lt.STAMP:return new jT(e);case Lt.FILEATTACHMENT:return new oz(e);default:return new xt(e)}}}var Ba,Wu,Gu,lf,Dw;const Yb=class Yb{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){S(this,lf);S(this,Ba,null);S(this,Wu,!1);S(this,Gu,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get hasPopupData(){return Yb._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;c(this,Ba)||b(this,Ba,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&E(this,lf,Dw).call(this,t),(r=c(this,Gu))==null||r.popup.updateEdited(e)}resetEdited(){var e;c(this,Ba)&&(E(this,lf,Dw).call(this,c(this,Ba).rect),(e=c(this,Gu))==null||e.popup.resetEdited(),b(this,Ba,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Nl||(s.tabIndex=up);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof Nw){const{rotation:y}=t;return!t.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:a,height:l}=Cs(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const y=t.borderStyle.horizontalCornerRadius,_=t.borderStyle.verticalCornerRadius;if(y>0||_>0){const v=`calc(${y}px * var(--scale-factor)) / calc(${_}px * var(--scale-factor))`;o.borderRadius=v}else if(this instanceof PT){const v=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=v}switch(t.borderStyle.style){case Kc.SOLID:o.borderStyle="solid";break;case Kc.DASHED:o.borderStyle="dashed";break;case Kc.BEVELED:Ae("Unimplemented border style: beveled");break;case Kc.INSET:Ae("Unimplemented border style: inset");break;case Kc.UNDERLINE:o.borderBottomStyle="solid";break}const g=t.borderColor||null;g?(b(this,Wu,!0),o.borderColor=te.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):o.borderWidth=0}const u=te.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=i.rawDims;o.left=`${100*(u[0]-f)/d}%`,o.top=`${100*(u[1]-p)/h}%`;const{rotation:m}=t;return t.hasOwnCanvas||m===0?(o.width=`${100*a/d}%`,o.height=`${100*l/h}%`):this.setRotation(m,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:o}=Cs(this.data.rect);let a,l;e%180===0?(a=100*s/r,l=100*o/i):(a=100*o/r,l=100*s/i),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],o=s[0],a=s.slice(1);i.target.style[r]=Dx[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:Dx[`${o}_rgb`](a)})};return Ne(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,_,g,v]=e.subarray(2,6);if(i===y&&s===_&&t===g&&r===v)return}const{style:o}=this.container;let a;if(c(this,Wu)){const{borderColor:y,borderWidth:_}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const l=i-t,u=s-r,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const f=d.createElement("defs");h.append(f);const p=d.createElement("clipPath"),m=`clippath_${this.data.id}`;p.setAttribute("id",m),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let y=2,_=e.length;y<_;y+=8){const g=e[y],v=e[y+1],w=e[y+2],x=e[y+3],C=d.createElement("rect"),k=(w-t)/l,P=(s-v)/u,A=(g-w)/l,D=(v-x)/u;C.setAttribute("x",k),C.setAttribute("y",P),C.setAttribute("width",A),C.setAttribute("height",D),p.append(C),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${P}" width="${A}" height="${D}"/>`)}c(this,Wu)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const r=b(this,Gu,new Nw({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){Xe("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!Al.has(u)){Ae(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&Al.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Ba=new WeakMap,Wu=new WeakMap,Gu=new WeakMap,lf=new WeakSet,Dw=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:u,height:d}=Cs(e);t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,i===0?(t.width=`${100*u/s}%`,t.height=`${100*d/o}%`):this.setRotation(i)};let xt=Yb;var nr,ta,TT,RT;class kT extends xt{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});S(this,nr);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(E(this,nr,TT).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(E(this,nr,RT).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&E(this,nr,ta).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),E(this,nr,ta).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),E(this,nr,ta).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),E(this,nr,ta).call(this),!this._fieldObjects){Ae('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var h;i==null||i();const{fields:s,refs:o,include:a}=r,l=[];if(s.length!==0||o.length!==0){const f=new Set(o);for(const p of s){const m=this._fieldObjects[p]||[];for(const{id:y}of m)f.add(y)}for(const p of Object.values(this._fieldObjects))for(const m of p)f.has(m.id)===a&&l.push(m)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const u=this.annotationStorage,d=[];for(const f of l){const{id:p}=f;switch(d.push(p),f.type){case"text":{const y=f.defaultValue||"";u.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=f.defaultValue===f.exportValues;u.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=f.defaultValue||"";u.setValue(p,{value:y});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!Al.has(m)){Ae(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}nr=new WeakSet,ta=function(){this.container.setAttribute("data-internal-link","")},TT=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},E(this,nr,ta).call(this)},RT=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),E(this,nr,ta).call(this)};class Vj extends xt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Nl extends xt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Dn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,r,i){var s,o,a;for(const[l,u]of r)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,i),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":te.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Hj,s=e.style;let o;const a=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),d=Math.round(u/(Ov*i))||1,h=u/d;o=Math.min(i,l(h/Ov))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(u/Ov))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=te.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Wj extends Nl{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let u=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Al.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=up,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(r,"value",f.target.value,"value"),d.formattedValue=null}),r.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";r.value=d.userValue=p,d.formattedValue=null});let h=f=>{const{formattedValue:p}=d;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",p=>{var y;if(d.focused)return;const{target:m}=p;d.userValue&&(m.value=d.userValue),d.lastCommittedValue=m.value,d.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(d.focused=!0)}),r.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const m={value(y){d.userValue=y.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),y.target.value=d.userValue},formattedValue(y){const{formattedValue:_}=y.detail;d.formattedValue=_,_!=null&&y.target!==document.activeElement&&(y.target.value=_),e.setValue(t,{formattedValue:_})},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var w;const{charLimit:_}=y.detail,{target:g}=y;if(_===0){g.removeAttribute("maxLength");return}g.setAttribute("maxLength",_);let v=d.userValue;!v||v.length<=_||(v=v.slice(0,_),g.value=d.userValue=v,e.setValue(t,{value:v}),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:1,selStart:g.selectionStart,selEnd:g.selectionEnd}}))}};this._dispatchEventFromSandbox(m,p)}),r.addEventListener("keydown",p=>{var _;d.commitKey=1;let m=-1;if(p.key==="Escape"?m=0:p.key==="Enter"&&!this.data.multiLine?m=2:p.key==="Tab"&&(d.commitKey=3),m===-1)return;const{value:y}=p.target;d.lastCommittedValue!==y&&(d.lastCommittedValue=y,d.userValue=y,(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:m,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=h;h=null,r.addEventListener("blur",p=>{var y,_;if(!d.focused||!p.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(d.focused=!1);const{value:m}=p.target;d.userValue=m,d.lastCommittedValue!==m&&((_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:m,willCommit:!0,commitKey:d.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",p=>{var C;d.lastCommittedValue=null;const{data:m,target:y}=p,{value:_,selectionStart:g,selectionEnd:v}=y;let w=g,x=v;switch(p.inputType){case"deleteWordBackward":{const k=_.substring(0,g).match(/\w*[^\w]*$/);k&&(w-=k[0].length);break}case"deleteWordForward":{const k=_.substring(g).match(/^[^\w]*\w*/);k&&(x+=k[0].length);break}case"deleteContentBackward":g===v&&(w-=1);break;case"deleteContentForward":g===v&&(x+=1);break}p.preventDefault(),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,change:m||"",willCommit:!1,selStart:w,selEnd:x}})}),this._setEventListeners(r,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(h&&r.addEventListener("blur",h),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Gj extends Nl{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class qj extends Nl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Al.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=up,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,r)){const d=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class PT extends Nl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(Al.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=up,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:u=>{const d=o===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=d&&h.id===r;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Xj extends kT{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class Kj extends Nl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Al.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=up;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,r.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),i.append(h)}let o=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),o=()=>{d.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=d=>{const h=d?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,m=>m.selected).map(m=>m[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let l=a(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const h={value(f){o==null||o();const p=f.detail.value,m=new Set(Array.isArray(p)?p:[p]);for(const y of i.options)y.selected=m.has(y.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,m=f.detail.remove;p[m].selected=!1,i.remove(m),p.length>0&&Array.prototype.findIndex.call(p,_=>_.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(f){const{index:p,displayValue:m,exportValue:y}=f.detail.insert,_=i.children[p],g=document.createElement("option");g.textContent=m,g.value=y,_?_.before(g):i.append(g),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const m of p){const{displayValue:y,exportValue:_}=m,g=document.createElement("option");g.textContent=y,g.value=_,i.append(g)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const m of f.target.options)m.selected=p.has(m.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("input",d=>{var p;const h=a(!0),f=a(!1);e.setValue(t,{value:h}),d.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Nw extends xt{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:xt._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Yj({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${Lk}${r}`).join(",")),this.container}}var qu,Gg,qg,Xu,Ua,wt,as,Ha,uf,cf,Ku,ls,Br,us,df,cs,hf,$a,Va,Ke,mm,Iw,LT,MT,OT,DT,gm,ym,Fw;class Yj{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:u,parentRect:d,open:h}){S(this,Ke);S(this,qu,E(this,Ke,OT).bind(this));S(this,Gg,E(this,Ke,Fw).bind(this));S(this,qg,E(this,Ke,ym).bind(this));S(this,Xu,E(this,Ke,gm).bind(this));S(this,Ua,null);S(this,wt,null);S(this,as,null);S(this,Ha,null);S(this,uf,null);S(this,cf,null);S(this,Ku,null);S(this,ls,!1);S(this,Br,null);S(this,us,null);S(this,df,null);S(this,cs,null);S(this,hf,null);S(this,$a,null);S(this,Va,!1);var f;b(this,wt,e),b(this,hf,i),b(this,as,o),b(this,cs,a),b(this,cf,l),b(this,Ua,t),b(this,df,u),b(this,Ku,d),b(this,uf,r),b(this,Ha,Ik.toDateObject(s)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",c(this,Xu)),p.addEventListener("mouseenter",c(this,qg)),p.addEventListener("mouseleave",c(this,Gg)),p.classList.add("popupTriggerArea");for(const p of r)(f=p.container)==null||f.addEventListener("keydown",c(this,qu));c(this,wt).hidden=!0,h&&E(this,Ke,gm).call(this)}render(){if(c(this,Br))return;const e=b(this,Br,document.createElement("div"));if(e.className="popup",c(this,Ua)){const s=e.style.outlineColor=te.makeHexColor(...c(this,Ua));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=te.makeHexColor(...c(this,Ua).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=c(this,hf),e.append(t),c(this,Ha)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:c(this,Ha).toLocaleDateString(),time:c(this,Ha).toLocaleTimeString()})),t.append(s)}const i=c(this,Ke,mm);if(i)CT.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(c(this,as));e.append(s)}c(this,wt).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;c(this,$a)||b(this,$a,{contentsObj:c(this,as),richText:c(this,cs)}),e&&b(this,us,null),t&&(b(this,cs,E(this,Ke,MT).call(this,t)),b(this,as,null)),(r=c(this,Br))==null||r.remove(),b(this,Br,null)}resetEdited(){var e;c(this,$a)&&({contentsObj:$n(this,as)._,richText:$n(this,cs)._}=c(this,$a),b(this,$a,null),(e=c(this,Br))==null||e.remove(),b(this,Br,null),b(this,us,null))}forceHide(){b(this,Va,this.isVisible),c(this,Va)&&(c(this,wt).hidden=!0)}maybeShow(){c(this,Va)&&(c(this,Br)||E(this,Ke,ym).call(this),b(this,Va,!1),c(this,wt).hidden=!1)}get isVisible(){return c(this,wt).hidden===!1}}qu=new WeakMap,Gg=new WeakMap,qg=new WeakMap,Xu=new WeakMap,Ua=new WeakMap,wt=new WeakMap,as=new WeakMap,Ha=new WeakMap,uf=new WeakMap,cf=new WeakMap,Ku=new WeakMap,ls=new WeakMap,Br=new WeakMap,us=new WeakMap,df=new WeakMap,cs=new WeakMap,hf=new WeakMap,$a=new WeakMap,Va=new WeakMap,Ke=new WeakSet,mm=function(){const e=c(this,cs),t=c(this,as);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&c(this,cs).html||null},Iw=function(){var e,t,r;return((r=(t=(e=c(this,Ke,mm))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},LT=function(){var e,t,r;return((r=(t=(e=c(this,Ke,mm))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},MT=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:c(this,Ke,LT),fontSize:c(this,Ke,Iw)?`calc(${c(this,Ke,Iw)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},OT=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,ls))&&E(this,Ke,gm).call(this)},DT=function(){if(c(this,us)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=c(this,cf);let o=!!c(this,Ku),a=o?c(this,Ku):c(this,df);for(const m of c(this,uf))if(!a||te.intersect(m.data.rect,a)!==null){a=m.data.rect,o=!0;break}const l=te.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),d=o?a[2]-a[0]+5:0,h=l[0]+d,f=l[1];b(this,us,[100*(h-i)/t,100*(f-s)/r]);const{style:p}=c(this,wt);p.left=`${c(this,us)[0]}%`,p.top=`${c(this,us)[1]}%`},gm=function(){b(this,ls,!c(this,ls)),c(this,ls)?(E(this,Ke,ym).call(this),c(this,wt).addEventListener("click",c(this,Xu)),c(this,wt).addEventListener("keydown",c(this,qu))):(E(this,Ke,Fw).call(this),c(this,wt).removeEventListener("click",c(this,Xu)),c(this,wt).removeEventListener("keydown",c(this,qu)))},ym=function(){c(this,Br)||this.render(),this.isVisible?c(this,ls)&&c(this,wt).classList.add("focused"):(E(this,Ke,DT).call(this),c(this,wt).hidden=!1,c(this,wt).style.zIndex=parseInt(c(this,wt).style.zIndex)+1e3)},Fw=function(){c(this,wt).classList.remove("focused"),!(c(this,ls)||!this.isVisible)&&(c(this,wt).hidden=!0,c(this,wt).style.zIndex=parseInt(c(this,wt).style.zIndex)-1e3)};class NT extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Me.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var ff;class Zj extends xt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,ff,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:i}=Cs(t.rect),s=this.svgFactory.create(r,i,!0),o=b(this,ff,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,ff)}addHighlightArea(){this.container.classList.add("highlightArea")}}ff=new WeakMap;var pf;class Qj extends xt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,pf,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:i}=Cs(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=b(this,pf,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,pf)}addHighlightArea(){this.container.classList.add("highlightArea")}}pf=new WeakMap;var mf;class Jj extends xt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,mf,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:i}=Cs(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=b(this,mf,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,mf)}addHighlightArea(){this.container.classList.add("highlightArea")}}mf=new WeakMap;var gf;class IT extends xt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,gf,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s}}=this;if(!r)return this.container;const{width:o,height:a}=Cs(t),l=this.svgFactory.create(o,a,!0);let u=[];for(let h=0,f=r.length;h<f;h+=2){const p=r[h]-t[0],m=t[3]-r[h+1];u.push(`${p},${m}`)}u=u.join(" ");const d=b(this,gf,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,gf)}addHighlightArea(){this.container.classList.add("highlightArea")}}gf=new WeakMap;class ez extends IT{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class tz extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var yf;class FT extends xt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,yf,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Me.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:r,borderStyle:i,popupRef:s}}=this,{width:o,height:a}=Cs(t),l=this.svgFactory.create(o,a,!0);for(const u of r){let d=[];for(let f=0,p=u.length;f<p;f+=2){const m=u[f]-t[0],y=t[3]-u[f+1];d.push(`${m},${y}`)}d=d.join(" ");const h=this.svgFactory.createElement(this.svgElementName);c(this,yf).push(h),h.setAttribute("points",d),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),!s&&this.hasPopupData&&this._createPopup(),l.append(h)}return this.container.append(l),this.container}getElementsToTriggerPopup(){return c(this,yf)}addHighlightArea(){this.container.classList.add("highlightArea")}}yf=new WeakMap;class nz extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class rz extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class iz extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class sz extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class jT extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var vf,wf,jw;class oz extends xt{constructor(t){var i;super(t,{isRenderable:!0});S(this,wf);S(this,vf,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",E(this,wf,jw).bind(this)),b(this,vf,i);const{isMac:s}=Dn.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&E(this,wf,jw).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return c(this,vf)}addHighlightArea(){this.container.classList.add("highlightArea")}}vf=new WeakMap,wf=new WeakSet,jw=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var _f,Wa,Yu,kl,zT,zw,Kx;let az=(Kx=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o}){S(this,kl);S(this,_f,null);S(this,Wa,null);S(this,Yu,new Map);this.div=e,b(this,_f,t),b(this,Wa,r),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var o;const{annotations:t}=e,r=this.div;Sl(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Db,annotationStorage:e.annotationStorage||new zb,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===Lt.POPUP;if(l){const h=i.get(a.id);if(!h)continue;s.elements=h}else{const{width:h,height:f}=Cs(a.rect);if(h<=0||f<=0)continue}s.data=a;const u=$j.create(s);if(!u.isRenderable)continue;if(!l&&a.popupRef){const h=i.get(a.popupRef);h?h.push(u):i.set(a.popupRef,[u])}const d=u.render();a.hidden&&(d.style.visibility="hidden"),E(this,kl,zT).call(this,d,a.id),u.annotationEditorType>0&&(c(this,Yu).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}E(this,kl,zw).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Sl(t,{rotation:e.rotation}),E(this,kl,zw).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(c(this,Yu).values())}getEditableAnnotation(e){return c(this,Yu).get(e)}},_f=new WeakMap,Wa=new WeakMap,Yu=new WeakMap,kl=new WeakSet,zT=function(e,t){var i;const r=e.firstChild||e;r.id=`${Lk}${t}`,this.div.append(e),(i=c(this,_f))==null||i.moveElementInDOM(this.div,e,r,!1)},zw=function(){if(!c(this,Wa))return;const e=this.div;for(const[t,r]of c(this,Wa)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}c(this,Wa).clear()},Kx);const Hp=/\r\n?|\n/g;var bf,Ef,Sf,xf,Af,Ur,Kn,Cf,Yn,Zu,Rt,BT,UT,HT,vm,Ts,wm,_m,$T,Uw,VT;const nt=class nt extends He{constructor(t){super({...t,name:"freeTextEditor"});S(this,Rt);S(this,bf,this.editorDivBlur.bind(this));S(this,Ef,this.editorDivFocus.bind(this));S(this,Sf,this.editorDivInput.bind(this));S(this,xf,this.editorDivKeydown.bind(this));S(this,Af,this.editorDivPaste.bind(this));S(this,Ur);S(this,Kn,"");S(this,Cf,`${this.id}-editor`);S(this,Yn);S(this,Zu,null);b(this,Ur,t.color||nt._defaultColor||He._defaultLineColor),b(this,Yn,t.fontSize||nt._defaultFontSize)}static get _keyboardManager(){const t=nt.prototype,r=o=>o.isEmpty(),i=xl.TRANSLATE_SMALL,s=xl.TRANSLATE_BIG;return Ne(this,"_keyboardManager",new ap([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){He.initialize(t,r,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case fe.FREETEXT_SIZE:nt._defaultFontSize=r;break;case fe.FREETEXT_COLOR:nt._defaultColor=r;break}}updateParams(t,r){switch(t){case fe.FREETEXT_SIZE:E(this,Rt,BT).call(this,r);break;case fe.FREETEXT_COLOR:E(this,Rt,UT).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[fe.FREETEXT_SIZE,nt._defaultFontSize],[fe.FREETEXT_COLOR,nt._defaultColor||He._defaultLineColor]]}get propertiesToUpdate(){return[[fe.FREETEXT_SIZE,c(this,Yn)],[fe.FREETEXT_COLOR,c(this,Ur)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-nt._internalPadding*t,-(nt._internalPadding+c(this,Yn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Me.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",c(this,xf),{signal:t}),this.editorDiv.addEventListener("focus",c(this,Ef),{signal:t}),this.editorDiv.addEventListener("blur",c(this,bf),{signal:t}),this.editorDiv.addEventListener("input",c(this,Sf),{signal:t}),this.editorDiv.addEventListener("paste",c(this,Af),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,Cf)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",c(this,xf)),this.editorDiv.removeEventListener("focus",c(this,Ef)),this.editorDiv.removeEventListener("blur",c(this,bf)),this.editorDiv.removeEventListener("input",c(this,Sf)),this.editorDiv.removeEventListener("paste",c(this,Af)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=c(this,Kn),r=b(this,Kn,E(this,Rt,HT).call(this).trimEnd());if(t===r)return;const i=s=>{if(b(this,Kn,s),!s){this.remove();return}E(this,Rt,_m).call(this),this._uiManager.rebuild(this),E(this,Rt,vm).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),E(this,Rt,vm).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){nt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,Cf)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),He._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var o;return(o=this.editorDiv)==null?void 0:o.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${c(this,Yn)}px * var(--scale-factor))`,i.color=c(this,Ur),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Ag(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=c(this,Zu);let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,h]=this.pageDimensions,[f,p]=this.pageTranslation;let m,y;switch(this.rotation){case 0:m=t+(a[0]-f)/d,y=r+this.height-(a[1]-p)/h;break;case 90:m=t+(a[0]-f)/d,y=r-(a[1]-p)/h,[l,u]=[u,-l];break;case 180:m=t-this.width+(a[0]-f)/d,y=r-(a[1]-p)/h,[l,u]=[-l,-u];break;case 270:m=t+(a[0]-f-this.height*h)/d,y=r+(a[1]-p-this.width*d)/h,[l,u]=[-u,l];break}this.setAt(m*s,y*o,l,u)}else this.setAt(t*s,r*o,this.width*s,this.height*o);E(this,Rt,_m).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var m,y,_;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=E(m=nt,Ts,Uw).call(m,r.getData("text")||"").replaceAll(Hp,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:u}=a,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const g=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(Hp,"")),g!==this.editorDiv){let v=d;for(const w of this.editorDiv.childNodes){if(w===g){v=h;continue}v.push(E(y=nt,Ts,wm).call(y,w))}}d.push(l.nodeValue.slice(0,u).replaceAll(Hp,""))}else if(l===this.editorDiv){let g=d,v=0;for(const w of this.editorDiv.childNodes)v++===u&&(g=h),g.push(E(_=nt,Ts,wm).call(_,w))}b(this,Kn,`${d.join(`
`)}${s}${h.join(`
`)}`),E(this,Rt,_m).call(this);const f=new Range;let p=d.reduce((g,v)=>g+v.length,0);for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const v=g.nodeValue.length;if(p<=v){f.setStart(g,p),f.setEnd(g,p);break}p-=v}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static deserialize(t,r,i){var a;let s=null;if(t instanceof NT){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:h,id:f},textContent:p,textPosition:m,parent:{page:{pageNumber:y}}}=t;if(!p||p.length===0)return null;s=t={annotationType:Me.FREETEXT,color:Array.from(u),fontSize:l,value:p.join(`
`),position:m,pageIndex:y-1,rect:d.slice(0),rotation:h,id:f,deleted:!1}}const o=super.deserialize(t,r,i);return b(o,Yn,t.fontSize),b(o,Ur,te.makeHexColor(...t.color)),b(o,Kn,E(a=nt,Ts,Uw).call(a,t.value)),o.annotationElementId=t.id||null,b(o,Zu,s),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const r=nt._internalPadding*this.parentScale,i=this.getRect(r,r),s=He._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,Ur)),o={annotationType:Me.FREETEXT,color:s,fontSize:c(this,Yn),value:E(this,Rt,$T).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!E(this,Rt,VT).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${c(this,Yn)}px * var(--scale-factor))`,i.color=c(this,Ur),r.replaceChildren();for(const o of c(this,Kn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}const s=nt._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:c(this,Kn)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};bf=new WeakMap,Ef=new WeakMap,Sf=new WeakMap,xf=new WeakMap,Af=new WeakMap,Ur=new WeakMap,Kn=new WeakMap,Cf=new WeakMap,Yn=new WeakMap,Zu=new WeakMap,Rt=new WeakSet,BT=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-c(this,Yn))*this.parentScale),b(this,Yn,s),E(this,Rt,vm).call(this)},i=c(this,Yn);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},UT=function(t){const r=s=>{b(this,Ur,this.editorDiv.style.color=s)},i=c(this,Ur);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},HT=function(){var r;const t=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)t.push(E(r=nt,Ts,wm).call(r,i));return t.join(`
`)},vm=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},Ts=new WeakSet,wm=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Hp,"")},_m=function(){if(this.editorDiv.replaceChildren(),!!c(this,Kn))for(const t of c(this,Kn).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},$T=function(){return c(this,Kn).replaceAll(" "," ")},Uw=function(t){return t.replaceAll(" "," ")},VT=function(t){const{value:r,fontSize:i,color:s,pageIndex:o}=c(this,Zu);return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},S(nt,Ts),me(nt,"_freeTextDefaultContent",""),me(nt,"_internalPadding",0),me(nt,"_defaultColor",null),me(nt,"_defaultFontSize",10),me(nt,"_type","freetext"),me(nt,"_editorType",Me.FREETEXT);let Bw=nt;var kf,ho,Hr,xn,WT,bm,GT,qT,$w;class Hw{constructor(e,t=0,r=0,i=!0){S(this,xn);S(this,kf);S(this,ho,[]);S(this,Hr,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const d=10**-4;for(const{x:g,y:v,width:w,height:x}of e){const C=Math.floor((g-t)/d)*d,k=Math.ceil((g+w+t)/d)*d,P=Math.floor((v-t)/d)*d,A=Math.ceil((v+x+t)/d)*d,D=[C,P,A,!0],I=[k,P,A,!1];c(this,ho).push(D,I),s=Math.min(s,C),o=Math.max(o,k),a=Math.min(a,P),l=Math.max(l,A)}const h=o-s+2*r,f=l-a+2*r,p=s-r,m=a-r,y=c(this,ho).at(i?-1:-2),_=[y[0],y[2]];for(const g of c(this,ho)){const[v,w,x]=g;g[0]=(v-p)/h,g[1]=(w-m)/f,g[2]=(x-m)/f}b(this,kf,{x:p,y:m,width:h,height:f,lastPoint:_})}getOutlines(){c(this,ho).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of c(this,ho))t[3]?(e.push(...E(this,xn,$w).call(this,t)),E(this,xn,GT).call(this,t)):(E(this,xn,qT).call(this,t),e.push(...E(this,xn,$w).call(this,t)));return E(this,xn,WT).call(this,e)}}kf=new WeakMap,ho=new WeakMap,Hr=new WeakMap,xn=new WeakSet,WT=function(e){const t=[],r=new Set;for(const o of e){const[a,l,u]=o;t.push([a,l,o],[a,u,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],u=t[o+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,l,u,d,h]=o;r.delete(o);let f=a,p=l;for(s=[a,u],i.push(s);;){let m;if(r.has(d))m=d;else if(r.has(h))m=h;else break;r.delete(m),[a,l,u,d,h]=m,f!==a&&(s.push(f,p,a,p===l?l:u),f=a),p=p===l?u:l}s.push(f,p)}return new lz(i,c(this,kf))},bm=function(e){const t=c(this,Hr);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,o=t[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},GT=function([,e,t]){const r=E(this,xn,bm).call(this,e);c(this,Hr).splice(r,0,[e,t])},qT=function([,e,t]){const r=E(this,xn,bm).call(this,e);for(let i=r;i<c(this,Hr).length;i++){const[s,o]=c(this,Hr)[i];if(s!==e)break;if(s===e&&o===t){c(this,Hr).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=c(this,Hr)[i];if(s!==e)break;if(s===e&&o===t){c(this,Hr).splice(i,1);return}}},$w=function(e){const[t,r,i]=e,s=[[t,r,i]],o=E(this,xn,bm).call(this,i);for(let a=0;a<o;a++){const[l,u]=c(this,Hr)[a];for(let d=0,h=s.length;d<h;d++){const[,f,p]=s[d];if(!(u<=f||p<=l)){if(f>=l){if(p>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,p>u&&s.push([t,u,p])}}}return s};class XT{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof Ww}}var Tf,Qu;class lz extends XT{constructor(t,r){super();S(this,Tf);S(this,Qu);b(this,Qu,t),b(this,Tf,r)}toSVGPath(){const t=[];for(const r of c(this,Qu)){let[i,s]=r;t.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const a=r[o],l=r[o+1];a===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],o){const a=[],l=i-t,u=s-r;for(const d of c(this,Qu)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=t+d[f]*l,h[f+1]=s-d[f+1]*u;a.push(h)}return a}get box(){return c(this,Tf)}}Tf=new WeakMap,Qu=new WeakMap;var vi,ds,Ju,ec,wi,Le,Ga,qa,Rf,Pf,tc,nc,fo,Lf,Xg,Kg,Mf,Vw;const Gi=class Gi{constructor({x:e,y:t},r,i,s,o,a=0){S(this,Mf);S(this,vi);S(this,ds,[]);S(this,Ju);S(this,ec);S(this,wi,[]);S(this,Le,new Float64Array(18));S(this,Ga);S(this,qa);S(this,Rf);S(this,Pf);S(this,tc);S(this,nc);S(this,fo,[]);b(this,vi,r),b(this,nc,s*i),b(this,ec,o),c(this,Le).set([NaN,NaN,NaN,NaN,e,t],6),b(this,Ju,a),b(this,Pf,c(Gi,Lf)*i),b(this,Rf,c(Gi,Kg)*i),b(this,tc,i),c(this,fo).push(e,t)}get free(){return!0}isEmpty(){return isNaN(c(this,Le)[8])}add({x:e,y:t}){var D;b(this,Ga,e),b(this,qa,t);const[r,i,s,o]=c(this,vi);let[a,l,u,d]=c(this,Le).subarray(8,12);const h=e-u,f=t-d,p=Math.hypot(h,f);if(p<c(this,Rf))return!1;const m=p-c(this,Pf),y=m/p,_=y*h,g=y*f;let v=a,w=l;a=u,l=d,u+=_,d+=g,(D=c(this,fo))==null||D.push(e,t);const x=-g/m,C=_/m,k=x*c(this,nc),P=C*c(this,nc);return c(this,Le).set(c(this,Le).subarray(2,8),0),c(this,Le).set([u+k,d+P],4),c(this,Le).set(c(this,Le).subarray(14,18),12),c(this,Le).set([u-k,d-P],16),isNaN(c(this,Le)[6])?(c(this,wi).length===0&&(c(this,Le).set([a+k,l+P],2),c(this,wi).push(NaN,NaN,NaN,NaN,(a+k-r)/s,(l+P-i)/o),c(this,Le).set([a-k,l-P],14),c(this,ds).push(NaN,NaN,NaN,NaN,(a-k-r)/s,(l-P-i)/o)),c(this,Le).set([v,w,a,l,u,d],6),!this.isEmpty()):(c(this,Le).set([v,w,a,l,u,d],6),Math.abs(Math.atan2(w-l,v-a)-Math.atan2(g,_))<Math.PI/2?([a,l,u,d]=c(this,Le).subarray(2,6),c(this,wi).push(NaN,NaN,NaN,NaN,((a+u)/2-r)/s,((l+d)/2-i)/o),[a,l,v,w]=c(this,Le).subarray(14,18),c(this,ds).push(NaN,NaN,NaN,NaN,((v+a)/2-r)/s,((w+l)/2-i)/o),!0):([v,w,a,l,u,d]=c(this,Le).subarray(0,6),c(this,wi).push(((v+5*a)/6-r)/s,((w+5*l)/6-i)/o,((5*a+u)/6-r)/s,((5*l+d)/6-i)/o,((a+u)/2-r)/s,((l+d)/2-i)/o),[u,d,a,l,v,w]=c(this,Le).subarray(12,18),c(this,ds).push(((v+5*a)/6-r)/s,((w+5*l)/6-i)/o,((5*a+u)/6-r)/s,((5*l+d)/6-i)/o,((a+u)/2-r)/s,((l+d)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,wi),t=c(this,ds),r=c(this,Le).subarray(4,6),i=c(this,Le).subarray(16,18),[s,o,a,l]=c(this,vi),[u,d,h,f]=E(this,Mf,Vw).call(this);if(isNaN(c(this,Le)[6])&&!this.isEmpty())return`M${(c(this,Le)[2]-s)/a} ${(c(this,Le)[3]-o)/l} L${(c(this,Le)[4]-s)/a} ${(c(this,Le)[5]-o)/l} L${u} ${d} L${h} ${f} L${(c(this,Le)[16]-s)/a} ${(c(this,Le)[17]-o)/l} L${(c(this,Le)[14]-s)/a} ${(c(this,Le)[15]-o)/l} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let m=6;m<e.length;m+=6)isNaN(e[m])?p.push(`L${e[m+4]} ${e[m+5]}`):p.push(`C${e[m]} ${e[m+1]} ${e[m+2]} ${e[m+3]} ${e[m+4]} ${e[m+5]}`);p.push(`L${(r[0]-s)/a} ${(r[1]-o)/l} L${u} ${d} L${h} ${f} L${(i[0]-s)/a} ${(i[1]-o)/l}`);for(let m=t.length-6;m>=6;m-=6)isNaN(t[m])?p.push(`L${t[m+4]} ${t[m+5]}`):p.push(`C${t[m]} ${t[m+1]} ${t[m+2]} ${t[m+3]} ${t[m+4]} ${t[m+5]}`);return p.push(`L${t[4]} ${t[5]} Z`),p.join(" ")}getOutlines(){var g;const e=c(this,wi),t=c(this,ds),r=c(this,Le),i=r.subarray(4,6),s=r.subarray(16,18),[o,a,l,u]=c(this,vi),d=new Float64Array((((g=c(this,fo))==null?void 0:g.length)??0)+2);for(let v=0,w=d.length-2;v<w;v+=2)d[v]=(c(this,fo)[v]-o)/l,d[v+1]=(c(this,fo)[v+1]-a)/u;d[d.length-2]=(c(this,Ga)-o)/l,d[d.length-1]=(c(this,qa)-a)/u;const[h,f,p,m]=E(this,Mf,Vw).call(this);if(isNaN(r[6])&&!this.isEmpty()){const v=new Float64Array(36);return v.set([NaN,NaN,NaN,NaN,(r[2]-o)/l,(r[3]-a)/u,NaN,NaN,NaN,NaN,(r[4]-o)/l,(r[5]-a)/u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(r[16]-o)/l,(r[17]-a)/u,NaN,NaN,NaN,NaN,(r[14]-o)/l,(r[15]-a)/u],0),new Ww(v,d,c(this,vi),c(this,tc),c(this,Ju),c(this,ec))}const y=new Float64Array(c(this,wi).length+24+c(this,ds).length);let _=e.length;for(let v=0;v<_;v+=2){if(isNaN(e[v])){y[v]=y[v+1]=NaN;continue}y[v]=e[v],y[v+1]=e[v+1]}y.set([NaN,NaN,NaN,NaN,(i[0]-o)/l,(i[1]-a)/u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(s[0]-o)/l,(s[1]-a)/u],_),_+=24;for(let v=t.length-6;v>=6;v-=6)for(let w=0;w<6;w+=2){if(isNaN(t[v+w])){y[_]=y[_+1]=NaN,_+=2;continue}y[_]=t[v+w],y[_+1]=t[v+w+1],_+=2}return y.set([NaN,NaN,NaN,NaN,t[4],t[5]],_),new Ww(y,d,c(this,vi),c(this,tc),c(this,Ju),c(this,ec))}};vi=new WeakMap,ds=new WeakMap,Ju=new WeakMap,ec=new WeakMap,wi=new WeakMap,Le=new WeakMap,Ga=new WeakMap,qa=new WeakMap,Rf=new WeakMap,Pf=new WeakMap,tc=new WeakMap,nc=new WeakMap,fo=new WeakMap,Lf=new WeakMap,Xg=new WeakMap,Kg=new WeakMap,Mf=new WeakSet,Vw=function(){const e=c(this,Le).subarray(4,6),t=c(this,Le).subarray(16,18),[r,i,s,o]=c(this,vi);return[(c(this,Ga)+(e[0]-t[0])/2-r)/s,(c(this,qa)+(e[1]-t[1])/2-i)/o,(c(this,Ga)+(t[0]-e[0])/2-r)/s,(c(this,qa)+(t[1]-e[1])/2-i)/o]},S(Gi,Lf,8),S(Gi,Xg,2),S(Gi,Kg,c(Gi,Lf)+c(Gi,Xg));let Rg=Gi;var rc,Xa,hs,Of,Zn,Df,Et,Nn,pd,md,KT;class Ww extends XT{constructor(t,r,i,s,o,a){super();S(this,Nn);S(this,rc);S(this,Xa,null);S(this,hs);S(this,Of);S(this,Zn);S(this,Df);S(this,Et);b(this,Et,t),b(this,Zn,r),b(this,rc,i),b(this,Df,s),b(this,hs,o),b(this,Of,a),E(this,Nn,KT).call(this,a);const{x:l,y:u,width:d,height:h}=c(this,Xa);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-l)/d,t[f+1]=(t[f+1]-u)/h;for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-l)/d,r[f+1]=(r[f+1]-u)/h}toSVGPath(){const t=[`M${c(this,Et)[4]} ${c(this,Et)[5]}`];for(let r=6,i=c(this,Et).length;r<i;r+=6){if(isNaN(c(this,Et)[r])){t.push(`L${c(this,Et)[r+4]} ${c(this,Et)[r+5]}`);continue}t.push(`C${c(this,Et)[r]} ${c(this,Et)[r+1]} ${c(this,Et)[r+2]} ${c(this,Et)[r+3]} ${c(this,Et)[r+4]} ${c(this,Et)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],o){const a=i-t,l=s-r;let u,d;switch(o){case 0:u=E(this,Nn,pd).call(this,c(this,Et),t,s,a,-l),d=E(this,Nn,pd).call(this,c(this,Zn),t,s,a,-l);break;case 90:u=E(this,Nn,md).call(this,c(this,Et),t,r,a,l),d=E(this,Nn,md).call(this,c(this,Zn),t,r,a,l);break;case 180:u=E(this,Nn,pd).call(this,c(this,Et),i,r,-a,l),d=E(this,Nn,pd).call(this,c(this,Zn),i,r,-a,l);break;case 270:u=E(this,Nn,md).call(this,c(this,Et),i,s,-a,-l),d=E(this,Nn,md).call(this,c(this,Zn),i,s,-a,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return c(this,Xa)}getNewOutline(t,r){const{x:i,y:s,width:o,height:a}=c(this,Xa),[l,u,d,h]=c(this,rc),f=o*d,p=a*h,m=i*d+l,y=s*h+u,_=new Rg({x:c(this,Zn)[0]*f+m,y:c(this,Zn)[1]*p+y},c(this,rc),c(this,Df),t,c(this,Of),r??c(this,hs));for(let g=2;g<c(this,Zn).length;g+=2)_.add({x:c(this,Zn)[g]*f+m,y:c(this,Zn)[g+1]*p+y});return _.getOutlines()}}rc=new WeakMap,Xa=new WeakMap,hs=new WeakMap,Of=new WeakMap,Zn=new WeakMap,Df=new WeakMap,Et=new WeakMap,Nn=new WeakSet,pd=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)a[l]=r+t[l]*s,a[l+1]=i+t[l+1]*o;return a},md=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)a[l]=r+t[l+1]*s,a[l+1]=i+t[l]*o;return a},KT=function(t){const r=c(this,Et);let i=r[4],s=r[5],o=i,a=s,l=i,u=s,d=i,h=s;const f=t?Math.max:Math.min;for(let g=6,v=r.length;g<v;g+=6){if(isNaN(r[g]))o=Math.min(o,r[g+4]),a=Math.min(a,r[g+5]),l=Math.max(l,r[g+4]),u=Math.max(u,r[g+5]),h<r[g+5]?(d=r[g+4],h=r[g+5]):h===r[g+5]&&(d=f(d,r[g+4]));else{const w=te.bezierBoundingBox(i,s,...r.slice(g,g+6));o=Math.min(o,w[0]),a=Math.min(a,w[1]),l=Math.max(l,w[2]),u=Math.max(u,w[3]),h<w[3]?(d=w[2],h=w[3]):h===w[3]&&(d=f(d,w[2]))}i=r[g+4],s=r[g+5]}const p=o-c(this,hs),m=a-c(this,hs),y=l-o+2*c(this,hs),_=u-a+2*c(this,hs);b(this,Xa,{x:p,y:m,width:y,height:_,lastPoint:[d,h]})};var Nf,If,$r,Ka,ic,Ot,Ff,sc,jf,zf,Vr,oc,et,Gw,qw,YT,na,ZT,Gs;const qi=class qi{constructor({editor:e=null,uiManager:t=null}){S(this,et);S(this,Nf,E(this,et,YT).bind(this));S(this,If,E(this,et,ZT).bind(this));S(this,$r,null);S(this,Ka,null);S(this,ic);S(this,Ot,null);S(this,Ff,!1);S(this,sc,!1);S(this,jf,null);S(this,zf);S(this,Vr,null);S(this,oc);var r;e?(b(this,sc,!1),b(this,oc,fe.HIGHLIGHT_COLOR),b(this,jf,e)):(b(this,sc,!0),b(this,oc,fe.HIGHLIGHT_DEFAULT_COLOR)),b(this,Vr,(e==null?void 0:e._uiManager)||t),b(this,zf,c(this,Vr)._eventBus),b(this,ic,(e==null?void 0:e.color)||((r=c(this,Vr))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Ne(this,"_keyboardManager",new ap([[["Escape","mac+Escape"],qi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],qi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],qi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],qi.prototype._moveToPrevious],[["Home","mac+Home"],qi.prototype._moveToBeginning],[["End","mac+End"],qi.prototype._moveToEnd]]))}renderButton(){const e=b(this,$r,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=c(this,Vr)._signal;e.addEventListener("click",E(this,et,na).bind(this),{signal:t}),e.addEventListener("keydown",c(this,Nf),{signal:t});const r=b(this,Ka,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=c(this,ic),e.append(r),e}renderMainDropdown(){const e=b(this,Ot,E(this,et,Gw).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===c(this,$r)){E(this,et,na).call(this,e);return}const t=e.target.getAttribute("data-color");t&&E(this,et,qw).call(this,t,e)}_moveToNext(e){var t,r;if(!c(this,et,Gs)){E(this,et,na).call(this,e);return}if(e.target===c(this,$r)){(t=c(this,Ot).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=c(this,Ot))==null?void 0:t.firstChild)||e.target===c(this,$r)){c(this,et,Gs)&&this._hideDropdownFromKeyboard();return}c(this,et,Gs)||E(this,et,na).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!c(this,et,Gs)){E(this,et,na).call(this,e);return}(t=c(this,Ot).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!c(this,et,Gs)){E(this,et,na).call(this,e);return}(t=c(this,Ot).lastChild)==null||t.focus()}hideDropdown(){var e;(e=c(this,Ot))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",c(this,If))}_hideDropdownFromKeyboard(){var e;if(!c(this,sc)){if(!c(this,et,Gs)){(e=c(this,jf))==null||e.unselect();return}this.hideDropdown(),c(this,$r).focus({preventScroll:!0,focusVisible:c(this,Ff)})}}updateColor(e){if(c(this,Ka)&&(c(this,Ka).style.backgroundColor=e),!c(this,Ot))return;const t=c(this,Vr).highlightColors.values();for(const r of c(this,Ot).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=c(this,$r))==null||e.remove(),b(this,$r,null),b(this,Ka,null),(t=c(this,Ot))==null||t.remove(),b(this,Ot,null)}};Nf=new WeakMap,If=new WeakMap,$r=new WeakMap,Ka=new WeakMap,ic=new WeakMap,Ot=new WeakMap,Ff=new WeakMap,sc=new WeakMap,jf=new WeakMap,zf=new WeakMap,Vr=new WeakMap,oc=new WeakMap,et=new WeakSet,Gw=function(){const e=document.createElement("div"),t=c(this,Vr)._signal;e.addEventListener("contextmenu",Un,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of c(this,Vr).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${r}`);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.setAttribute("aria-selected",i===c(this,ic)),s.addEventListener("click",E(this,et,qw).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",c(this,Nf),{signal:t}),e},qw=function(e,t){t.stopPropagation(),c(this,zf).dispatch("switchannotationeditorparams",{source:this,type:c(this,oc),value:e})},YT=function(e){qi._keyboardManager.exec(this,e)},na=function(e){if(c(this,et,Gs)){this.hideDropdown();return}if(b(this,Ff,e.detail===0),window.addEventListener("pointerdown",c(this,If),{signal:c(this,Vr)._signal}),c(this,Ot)){c(this,Ot).classList.remove("hidden");return}const t=b(this,Ot,E(this,et,Gw).call(this));c(this,$r).append(t)},ZT=function(e){var t;(t=c(this,Ot))!=null&&t.contains(e.target)||this.hideDropdown()},Gs=function(){return c(this,Ot)&&!c(this,Ot).classList.contains("hidden")};let Pg=qi;var ac,Bf,po,Ya,lc,wr,Uf,Hf,Za,Wr,yn,Qn,Yg,uc,Qa,Dt,cc,_i,$f,ke,Xw,Kw,QT,JT,eR,Yw,gd,Ar,Gl,tR,Em,yd,nR,rR,iR,sR;const je=class je extends He{constructor(t){super({...t,name:"highlightEditor"});S(this,ke);S(this,ac,null);S(this,Bf,0);S(this,po);S(this,Ya,null);S(this,lc,null);S(this,wr,null);S(this,Uf,null);S(this,Hf,0);S(this,Za,null);S(this,Wr,null);S(this,yn,null);S(this,Qn,!1);S(this,Yg,E(this,ke,tR).bind(this));S(this,uc,null);S(this,Qa);S(this,Dt,null);S(this,cc,"");S(this,_i);S(this,$f,"");this.color=t.color||je._defaultColor,b(this,_i,t.thickness||je._defaultThickness),b(this,Qa,t.opacity||je._defaultOpacity),b(this,po,t.boxes||null),b(this,$f,t.methodOfCreation||""),b(this,cc,t.text||""),this._isDraggable=!1,t.highlightId>-1?(b(this,Qn,!0),E(this,ke,Kw).call(this,t),E(this,ke,gd).call(this)):(b(this,ac,t.anchorNode),b(this,Bf,t.anchorOffset),b(this,Uf,t.focusNode),b(this,Hf,t.focusOffset),E(this,ke,Xw).call(this),E(this,ke,gd).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=je.prototype;return Ne(this,"_keyboardManager",new ap([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,Qn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,_i),methodOfCreation:c(this,$f)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;He.initialize(t,r),je._defaultColor||(je._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case fe.HIGHLIGHT_DEFAULT_COLOR:je._defaultColor=r;break;case fe.HIGHLIGHT_THICKNESS:je._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return c(this,uc)}updateParams(t,r){switch(t){case fe.HIGHLIGHT_COLOR:E(this,ke,QT).call(this,r);break;case fe.HIGHLIGHT_THICKNESS:E(this,ke,JT).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[fe.HIGHLIGHT_DEFAULT_COLOR,je._defaultColor],[fe.HIGHLIGHT_THICKNESS,je._defaultThickness]]}get propertiesToUpdate(){return[[fe.HIGHLIGHT_COLOR,this.color||je._defaultColor],[fe.HIGHLIGHT_THICKNESS,c(this,_i)||je._defaultThickness],[fe.HIGHLIGHT_FREE,c(this,Qn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(b(this,lc,new Pg({editor:this})),t.addColorPicker(c(this,lc))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(E(this,ke,yd).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,E(this,ke,yd).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){E(this,ke,Yw).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(E(this,ke,gd).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?E(this,ke,Yw).call(this):t&&(E(this,ke,gd).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,o,a;const{drawLayer:r}=this.parent;let i;c(this,Qn)?(t=(t-this.rotation+360)%360,i=E(s=je,Ar,Gl).call(s,c(this,Wr).box,t)):i=E(o=je,Ar,Gl).call(o,this,t),r.rotate(c(this,yn),t),r.rotate(c(this,Dt),t),r.updateBox(c(this,yn),i),r.updateBox(c(this,Dt),E(a=je,Ar,Gl).call(a,c(this,wr).box,t))}render(){if(this.div)return this.div;const t=super.render();c(this,cc)&&(t.setAttribute("aria-label",c(this,cc)),t.setAttribute("role","mark")),c(this,Qn)?t.classList.add("free"):this.div.addEventListener("keydown",c(this,Yg),{signal:this._uiManager._signal});const r=b(this,Za,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=c(this,Ya);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),Ag(this,c(this,Za),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(c(this,Dt),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(c(this,Dt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:E(this,ke,Em).call(this,!0);break;case 1:case 3:E(this,ke,Em).call(this,!1);break}}select(){var t,r;super.select(),c(this,Dt)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,Dt),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(c(this,Dt),"selected"))}unselect(){var t;super.unselect(),c(this,Dt)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,Dt),"selected"),c(this,Qn)||E(this,ke,Em).call(this,!1))}get _mustFixPosition(){return!c(this,Qn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(c(this,yn),t),this.parent.drawLayer.show(c(this,Dt),t))}static startHighlighting(t,r,{target:i,x:s,y:o}){const{x:a,y:l,width:u,height:d}=i.getBoundingClientRect(),h=_=>{E(this,Ar,iR).call(this,t,_)},f=t._signal,p={capture:!0,passive:!1,signal:f},m=_=>{_.preventDefault(),_.stopPropagation()},y=_=>{i.removeEventListener("pointermove",h),window.removeEventListener("blur",y),window.removeEventListener("pointerup",y),window.removeEventListener("pointerdown",m,p),window.removeEventListener("contextmenu",Un),E(this,Ar,sR).call(this,t,_)};window.addEventListener("blur",y,{signal:f}),window.addEventListener("pointerup",y,{signal:f}),window.addEventListener("pointerdown",m,p),window.addEventListener("contextmenu",Un,{signal:f}),i.addEventListener("pointermove",h,{signal:f}),this._freeHighlight=new Rg({x:s,y:o},[a,l,u,d],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,r,i){var y;const s=super.deserialize(t,r,i),{rect:[o,a,l,u],color:d,quadPoints:h}=t;s.color=te.makeHexColor(...d),b(s,Qa,t.opacity);const[f,p]=s.pageDimensions;s.width=(l-o)/f,s.height=(u-a)/p;const m=b(s,po,[]);for(let _=0;_<h.length;_+=8)m.push({x:(h[4]-l)/f,y:(u-(1-h[_+5]))/p,width:(h[_+2]-h[_])/f,height:(h[_+5]-h[_+1])/p});return E(y=s,ke,Xw).call(y),s}serialize(t=!1){if(this.isEmpty()||t)return null;const r=this.getRect(0,0),i=He._colorManager.convert(this.color);return{annotationType:Me.HIGHLIGHT,color:i,opacity:c(this,Qa),thickness:c(this,_i),quadPoints:E(this,ke,nR).call(this),outlines:E(this,ke,rR).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:E(this,ke,yd).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};ac=new WeakMap,Bf=new WeakMap,po=new WeakMap,Ya=new WeakMap,lc=new WeakMap,wr=new WeakMap,Uf=new WeakMap,Hf=new WeakMap,Za=new WeakMap,Wr=new WeakMap,yn=new WeakMap,Qn=new WeakMap,Yg=new WeakMap,uc=new WeakMap,Qa=new WeakMap,Dt=new WeakMap,cc=new WeakMap,_i=new WeakMap,$f=new WeakMap,ke=new WeakSet,Xw=function(){const t=new Hw(c(this,po),.001);b(this,Wr,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=c(this,Wr).box;const r=new Hw(c(this,po),.0025,.001,this._uiManager.direction==="ltr");b(this,wr,r.getOutlines());const{lastPoint:i}=c(this,wr).box;b(this,uc,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Kw=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var h,f;if(b(this,Wr,t),b(this,wr,t.getNewOutline(c(this,_i)/2+1.5,.0025)),r>=0)b(this,yn,r),b(this,Ya,i),this.parent.drawLayer.finalizeLine(r,t),b(this,Dt,this.parent.drawLayer.highlightOutline(c(this,wr)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(c(this,yn),t),this.parent.drawLayer.updateBox(c(this,yn),E(h=je,Ar,Gl).call(h,c(this,Wr).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(c(this,Dt),c(this,wr)),this.parent.drawLayer.updateBox(c(this,Dt),E(f=je,Ar,Gl).call(f,c(this,wr).box,p))}const{x:o,y:a,width:l,height:u}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=u;break;case 90:{const[p,m]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*m/p,this.height=u*p/m;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=u;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*m/p,this.height=u*p/m;break}}const{lastPoint:d}=c(this,wr).box;b(this,uc,[(d[0]-o)/l,(d[1]-a)/u])},QT=function(t){const r=s=>{var o,a;this.color=s,(o=this.parent)==null||o.drawLayer.changeColor(c(this,yn),s),(a=c(this,lc))==null||a.updateColor(s)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},JT=function(t){const r=c(this,_i),i=s=>{b(this,_i,s),E(this,ke,eR).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},eR=function(t){if(!c(this,Qn))return;E(this,ke,Kw).call(this,{highlightOutlines:c(this,Wr).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},Yw=function(){c(this,yn)===null||!this.parent||(this.parent.drawLayer.remove(c(this,yn)),b(this,yn,null),this.parent.drawLayer.remove(c(this,Dt)),b(this,Dt,null))},gd=function(t=this.parent){c(this,yn)===null&&({id:$n(this,yn)._,clipPathId:$n(this,Ya)._}=t.drawLayer.highlight(c(this,Wr),this.color,c(this,Qa)),b(this,Dt,t.drawLayer.highlightOutline(c(this,wr))),c(this,Za)&&(c(this,Za).style.clipPath=c(this,Ya)))},Ar=new WeakSet,Gl=function({x:t,y:r,width:i,height:s},o){switch(o){case 90:return{x:1-r-s,y:t,width:s,height:i};case 180:return{x:1-t-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-t-i,width:s,height:i}}return{x:t,y:r,width:i,height:s}},tR=function(t){je._keyboardManager.exec(this,t)},Em=function(t){if(!c(this,ac))return;const r=window.getSelection();t?r.setPosition(c(this,ac),c(this,Bf)):r.setPosition(c(this,Uf),c(this,Hf))},yd=function(){return c(this,Qn)?this.rotation:0},nR=function(){if(c(this,Qn))return null;const[t,r]=this.pageDimensions,i=c(this,po),s=new Float32Array(i.length*8);let o=0;for(const{x:a,y:l,width:u,height:d}of i){const h=a*t,f=(1-l-d)*r;s[o]=s[o+4]=h,s[o+1]=s[o+3]=f,s[o+2]=s[o+6]=h+u*t,s[o+5]=s[o+7]=f+d*r,o+=8}return s},rR=function(t){return c(this,Wr).serialize(t,E(this,ke,yd).call(this))},iR=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},sR=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},S(je,Ar),me(je,"_defaultColor",null),me(je,"_defaultOpacity",1),me(je,"_defaultThickness",12),me(je,"_l10nPromise"),me(je,"_type","highlight"),me(je,"_editorType",Me.HIGHLIGHT),me(je,"_freeHighlightId",-1),me(je,"_freeHighlight",null),me(je,"_freeHighlightClipId","");let Lg=je;var Ja,el,Vf,Wf,Gf,tl,bi,fs,_r,nl,rl,ps,il,sl,mo,G,oR,aR,lR,uR,Qw,cR,Jw,dR,hR,fR,pR,mR,ra,e_,Sm,xm,ql,t_,Am,Is,gR,n_,yR,vR,r_,Cm,vd;const ct=class ct extends He{constructor(t){super({...t,name:"inkEditor"});S(this,G);S(this,Ja,0);S(this,el,0);S(this,Vf,this.canvasPointermove.bind(this));S(this,Wf,this.canvasPointerleave.bind(this));S(this,Gf,this.canvasPointerup.bind(this));S(this,tl,this.canvasPointerdown.bind(this));S(this,bi,null);S(this,fs,new Path2D);S(this,_r,!1);S(this,nl,!1);S(this,rl,!1);S(this,ps,null);S(this,il,0);S(this,sl,0);S(this,mo,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,r){He.initialize(t,r)}static updateDefaultParams(t,r){switch(t){case fe.INK_THICKNESS:ct._defaultThickness=r;break;case fe.INK_COLOR:ct._defaultColor=r;break;case fe.INK_OPACITY:ct._defaultOpacity=r/100;break}}updateParams(t,r){switch(t){case fe.INK_THICKNESS:E(this,G,oR).call(this,r);break;case fe.INK_COLOR:E(this,G,aR).call(this,r);break;case fe.INK_OPACITY:E(this,G,lR).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[fe.INK_THICKNESS,ct._defaultThickness],[fe.INK_COLOR,ct._defaultColor||He._defaultLineColor],[fe.INK_OPACITY,Math.round(ct._defaultOpacity*100)]]}get propertiesToUpdate(){return[[fe.INK_THICKNESS,this.thickness||ct._defaultThickness],[fe.INK_COLOR,this.color||ct._defaultColor||He._defaultLineColor],[fe.INK_OPACITY,Math.round(100*(this.opacity??ct._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(E(this,G,Sm).call(this),E(this,G,xm).call(this)),this.isAttachedToDOM||(this.parent.add(this),E(this,G,ql).call(this)),E(this,G,vd).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(this,bi)&&(clearTimeout(c(this,bi)),b(this,bi,null)),(t=c(this,ps))==null||t.disconnect(),b(this,ps,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,r]=this.parentDimensions,i=this.width*t,s=this.height*r;this.setDimensions(i,s)}enableEditMode(){c(this,_r)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",c(this,tl),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",c(this,tl)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){c(this,_r)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),b(this,_r,!0),this.div.classList.add("disabled"),E(this,G,vd).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||c(this,_r)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),E(this,G,cR).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),E(this,G,Jw).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),E(this,G,e_).call(this,t)}canvasPointerleave(t){E(this,G,e_).call(this,t)}get isResizable(){return!this.isEmpty()&&c(this,_r)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,o,a]=E(this,G,uR).call(this);if(this.setAt(i,s,0,0),this.setDims(o,a),E(this,G,Sm).call(this),this.width){const[l,u]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*u),this.setAt(t*l,r*u,this.width*l,this.height*u),b(this,rl,!0),E(this,G,ql).call(this),this.setDims(this.width*l,this.height*u),E(this,G,ra).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return E(this,G,xm).call(this),this.div}setDimensions(t,r){const i=Math.round(t),s=Math.round(r);if(c(this,il)===i&&c(this,sl)===s)return;b(this,il,i),b(this,sl,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=r/a,this.fixAndSetPosition(),c(this,_r)&&E(this,G,t_).call(this,t,r),E(this,G,ql).call(this),E(this,G,ra).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,r,i){var _,g,v;if(t instanceof FT)return null;const s=super.deserialize(t,r,i);s.thickness=t.thickness,s.color=te.makeHexColor(...t.color),s.opacity=t.opacity;const[o,a]=s.pageDimensions,l=s.width*o,u=s.height*a,d=s.parentScale,h=t.thickness/2;b(s,_r,!0),b(s,il,Math.round(l)),b(s,sl,Math.round(u));const{paths:f,rect:p,rotation:m}=t;for(let{bezier:w}of f){w=E(_=ct,Is,yR).call(_,w,p,m);const x=[];s.paths.push(x);let C=d*(w[0]-h),k=d*(w[1]-h);for(let A=2,D=w.length;A<D;A+=6){const I=d*(w[A]-h),j=d*(w[A+1]-h),ne=d*(w[A+2]-h),J=d*(w[A+3]-h),X=d*(w[A+4]-h),he=d*(w[A+5]-h);x.push([[C,k],[I,j],[ne,J],[X,he]]),C=X,k=he}const P=E(this,Is,gR).call(this,x);s.bezierPath2D.push(P)}const y=E(g=s,G,r_).call(g);return b(s,el,Math.max(He.MIN_SIZE,y[2]-y[0])),b(s,Ja,Math.max(He.MIN_SIZE,y[3]-y[1])),E(v=s,G,t_).call(v,l,u),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),r=He._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Me.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:E(this,G,vR).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Ja=new WeakMap,el=new WeakMap,Vf=new WeakMap,Wf=new WeakMap,Gf=new WeakMap,tl=new WeakMap,bi=new WeakMap,fs=new WeakMap,_r=new WeakMap,nl=new WeakMap,rl=new WeakMap,ps=new WeakMap,il=new WeakMap,sl=new WeakMap,mo=new WeakMap,G=new WeakSet,oR=function(t){const r=s=>{this.thickness=s,E(this,G,vd).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},aR=function(t){const r=s=>{this.color=s,E(this,G,ra).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fe.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},lR=function(t){const r=s=>{this.opacity=s,E(this,G,ra).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fe.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},uR=function(){const{parentRotation:t,parentDimensions:[r,i]}=this;switch(t){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},Qw=function(){const{ctx:t,color:r,opacity:i,thickness:s,parentScale:o,scaleFactor:a}=this;t.lineWidth=s*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${r}${M2(i)}`},cR=function(t,r){const i=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Un,{signal:i}),this.canvas.addEventListener("pointerleave",c(this,Wf),{signal:i}),this.canvas.addEventListener("pointermove",c(this,Vf),{signal:i}),this.canvas.addEventListener("pointerup",c(this,Gf),{signal:i}),this.canvas.removeEventListener("pointerdown",c(this,tl)),this.isEditing=!0,c(this,rl)||(b(this,rl,!0),E(this,G,ql).call(this),this.thickness||(this.thickness=ct._defaultThickness),this.color||(this.color=ct._defaultColor||He._defaultLineColor),this.opacity??(this.opacity=ct._defaultOpacity)),this.currentPath.push([t,r]),b(this,nl,!1),E(this,G,Qw).call(this),b(this,mo,()=>{E(this,G,fR).call(this),c(this,mo)&&window.requestAnimationFrame(c(this,mo))}),window.requestAnimationFrame(c(this,mo))},Jw=function(t,r){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&r===s)return;const o=this.currentPath;let a=c(this,fs);if(o.push([t,r]),b(this,nl,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,r);return}o.length===3&&(b(this,fs,a=new Path2D),a.moveTo(...o[0])),E(this,G,pR).call(this,a,...o.at(-3),...o.at(-2),t,r)},dR=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);c(this,fs).lineTo(...t)},hR=function(t,r){b(this,mo,null),t=Math.min(Math.max(t,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),E(this,G,Jw).call(this,t,r),E(this,G,dR).call(this);let i;if(this.currentPath.length!==1)i=E(this,G,mR).call(this);else{const u=[t,r];i=[[u,u.slice(),u.slice(),u]]}const s=c(this,fs),o=this.currentPath;this.currentPath=[],b(this,fs,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(E(this,G,Sm).call(this),E(this,G,xm).call(this)),E(this,G,vd).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},fR=function(){if(!c(this,nl))return;b(this,nl,!1);const t=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(a=>a[0]),s=r.map(a=>a[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(c(this,fs)),o.restore()},pR=function(t,r,i,s,o,a,l){const u=(r+s)/2,d=(i+o)/2,h=(s+a)/2,f=(o+l)/2;t.bezierCurveTo(u+2*(s-u)/3,d+2*(o-d)/3,h+2*(s-h)/3,f+2*(o-f)/3,h,f)},mR=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const r=[];let i,[s,o]=t[0];for(i=1;i<t.length-2;i++){const[p,m]=t[i],[y,_]=t[i+1],g=(p+y)/2,v=(m+_)/2,w=[s+2*(p-s)/3,o+2*(m-o)/3],x=[g+2*(p-g)/3,v+2*(m-v)/3];r.push([[s,o],w,x,[g,v]]),[s,o]=[g,v]}const[a,l]=t[i],[u,d]=t[i+1],h=[s+2*(a-s)/3,o+2*(l-o)/3],f=[u+2*(a-u)/3,d+2*(l-d)/3];return r.push([[s,o],h,f,[u,d]]),r},ra=function(){if(this.isEmpty()){E(this,G,Am).call(this);return}E(this,G,Qw).call(this);const{canvas:t,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),E(this,G,Am).call(this);for(const i of this.bezierPath2D)r.stroke(i)},e_=function(t){this.canvas.removeEventListener("pointerleave",c(this,Wf)),this.canvas.removeEventListener("pointermove",c(this,Vf)),this.canvas.removeEventListener("pointerup",c(this,Gf)),this.canvas.addEventListener("pointerdown",c(this,tl),{signal:this._uiManager._signal}),c(this,bi)&&clearTimeout(c(this,bi)),b(this,bi,setTimeout(()=>{b(this,bi,null),this.canvas.removeEventListener("contextmenu",Un)},10)),E(this,G,hR).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Sm=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},xm=function(){b(this,ps,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),c(this,ps).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=c(this,ps))==null||t.disconnect(),b(this,ps,null)},{once:!0})},ql=function(){if(!c(this,rl))return;const[t,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*r),E(this,G,Am).call(this)},t_=function(t,r){const i=E(this,G,Cm).call(this),s=(t-i)/c(this,el),o=(r-i)/c(this,Ja);this.scaleFactor=Math.min(s,o)},Am=function(){const t=E(this,G,Cm).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Is=new WeakSet,gR=function(t){const r=new Path2D;for(let i=0,s=t.length;i<s;i++){const[o,a,l,u]=t[i];i===0&&r.moveTo(...o),r.bezierCurveTo(a[0],a[1],l[0],l[1],u[0],u[1])}return r},n_=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]+=s,t[u+1]=l-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=t[u+1]+s,t[u+1]=h+o}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=a-t[u],t[u+1]+=o;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=a-t[u+1],t[u+1]=l-h}break;default:throw new Error("Invalid rotation")}return t},yR=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]-=s,t[u+1]=l-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=t[u+1]-o,t[u+1]=h-s}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=a-t[u],t[u+1]-=o;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=l-t[u+1],t[u+1]=a-h}break;default:throw new Error("Invalid rotation")}return t},vR=function(t,r,i,s){var d,h;const o=[],a=this.thickness/2,l=t*r+a,u=t*i+a;for(const f of this.paths){const p=[],m=[];for(let y=0,_=f.length;y<_;y++){const[g,v,w,x]=f[y];if(g[0]===x[0]&&g[1]===x[1]&&_===1){const J=t*g[0]+l,X=t*g[1]+u;p.push(J,X),m.push(J,X);break}const C=t*g[0]+l,k=t*g[1]+u,P=t*v[0]+l,A=t*v[1]+u,D=t*w[0]+l,I=t*w[1]+u,j=t*x[0]+l,ne=t*x[1]+u;y===0&&(p.push(C,k),m.push(C,k)),p.push(P,A,D,I,j,ne),m.push(P,A),y===_-1&&m.push(j,ne)}o.push({bezier:E(d=ct,Is,n_).call(d,p,s,this.rotation),points:E(h=ct,Is,n_).call(h,m,s,this.rotation)})}return o},r_=function(){let t=1/0,r=-1/0,i=1/0,s=-1/0;for(const o of this.paths)for(const[a,l,u,d]of o){const h=te.bezierBoundingBox(...a,...l,...u,...d);t=Math.min(t,h[0]),i=Math.min(i,h[1]),r=Math.max(r,h[2]),s=Math.max(s,h[3])}return[t,i,r,s]},Cm=function(){return c(this,_r)?Math.ceil(this.thickness*this.parentScale):0},vd=function(t=!1){if(this.isEmpty())return;if(!c(this,_r)){E(this,G,ra).call(this);return}const r=E(this,G,r_).call(this),i=E(this,G,Cm).call(this);b(this,el,Math.max(He.MIN_SIZE,r[2]-r[0])),b(this,Ja,Math.max(He.MIN_SIZE,r[3]-r[1]));const s=Math.ceil(i+c(this,el)*this.scaleFactor),o=Math.ceil(i+c(this,Ja)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=s/a,this.height=o/l,this.setAspectRatio(s,o);const u=this.translationX,d=this.translationY;this.translationX=-r[0],this.translationY=-r[1],E(this,G,ql).call(this),E(this,G,ra).call(this),b(this,il,s),b(this,sl,o),this.setDims(s,o);const h=t?i/this.scaleFactor/2:0;this.translate(u-this.translationX-h,d-this.translationY-h)},S(ct,Is),me(ct,"_defaultColor",null),me(ct,"_defaultOpacity",1),me(ct,"_defaultThickness",1),me(ct,"_type","ink"),me(ct,"_editorType",Me.INK);let Zw=ct;var Zt,Qt,go,ms,yo,dc,Ei,gs,Si,Gr,qf,Fe,wd,_d,km,s_,wR,_R,o_,Tm,bR;const Md=class Md extends He{constructor(t){super({...t,name:"stampEditor"});S(this,Fe);S(this,Zt,null);S(this,Qt,null);S(this,go,null);S(this,ms,null);S(this,yo,null);S(this,dc,"");S(this,Ei,null);S(this,gs,null);S(this,Si,null);S(this,Gr,!1);S(this,qf,!1);b(this,ms,t.bitmapUrl),b(this,yo,t.bitmapFile)}static initialize(t,r){He.initialize(t,r)}static get supportedTypes(){return Ne(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return Ne(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(Me.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,r;c(this,Qt)&&(b(this,Zt,null),this._uiManager.imageManager.deleteId(c(this,Qt)),(t=c(this,Ei))==null||t.remove(),b(this,Ei,null),(r=c(this,gs))==null||r.disconnect(),b(this,gs,null),c(this,Si)&&(clearTimeout(c(this,Si)),b(this,Si,null))),super.remove()}rebuild(){if(!this.parent){c(this,Qt)&&E(this,Fe,km).call(this);return}super.rebuild(),this.div!==null&&(c(this,Qt)&&c(this,Ei)===null&&E(this,Fe,km).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(this,go)||c(this,Zt)||c(this,ms)||c(this,yo)||c(this,Qt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),c(this,Zt)?E(this,Fe,s_).call(this):E(this,Fe,km).call(this),this.width){const[i,s]=this.parentDimensions;this.setAt(t*i,r*s,this.width*i,this.height*s)}return this.div}getImageForAltText(){return c(this,Ei)}static deserialize(t,r,i){if(t instanceof jT)return null;const s=super.deserialize(t,r,i),{rect:o,bitmapUrl:a,bitmapId:l,isSvg:u,accessibilityData:d}=t;l&&i.imageManager.isValidId(l)?b(s,Qt,l):b(s,ms,a),b(s,Gr,u);const[h,f]=s.pageDimensions;return s.width=(o[2]-o[0])/h,s.height=(o[3]-o[1])/f,d&&(s.altTextData=d),s}serialize(t=!1,r=null){if(this.isEmpty())return null;const i={annotationType:Me.STAMP,bitmapId:c(this,Qt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,Gr),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=E(this,Fe,Tm).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:s,altText:o}=this.altTextData;if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),r===null)return i;r.stamps||(r.stamps=new Map);const a=c(this,Gr)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(c(this,Qt)))r.stamps.set(c(this,Qt),{area:a,serialized:i}),i.bitmap=E(this,Fe,Tm).call(this,!1);else if(c(this,Gr)){const l=r.stamps.get(c(this,Qt));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=E(this,Fe,Tm).call(this,!1))}return i}};Zt=new WeakMap,Qt=new WeakMap,go=new WeakMap,ms=new WeakMap,yo=new WeakMap,dc=new WeakMap,Ei=new WeakMap,gs=new WeakMap,Si=new WeakMap,Gr=new WeakMap,qf=new WeakMap,Fe=new WeakSet,wd=function(t,r=!1){if(!t){this.remove();return}b(this,Zt,t.bitmap),r||(b(this,Qt,t.id),b(this,Gr,t.isSvg)),t.file&&b(this,dc,t.file.name),E(this,Fe,s_).call(this)},_d=function(){b(this,go,null),this._uiManager.enableWaiting(!1),c(this,Ei)&&this.div.focus()},km=function(){if(c(this,Qt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,Qt)).then(i=>E(this,Fe,wd).call(this,i,!0)).finally(()=>E(this,Fe,_d).call(this));return}if(c(this,ms)){const i=c(this,ms);b(this,ms,null),this._uiManager.enableWaiting(!0),b(this,go,this._uiManager.imageManager.getFromUrl(i).then(s=>E(this,Fe,wd).call(this,s)).finally(()=>E(this,Fe,_d).call(this)));return}if(c(this,yo)){const i=c(this,yo);b(this,yo,null),this._uiManager.enableWaiting(!0),b(this,go,this._uiManager.imageManager.getFromFile(i).then(s=>E(this,Fe,wd).call(this,s)).finally(()=>E(this,Fe,_d).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Md.supportedTypesStr;const r=this._uiManager._signal;b(this,go,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);E(this,Fe,wd).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>E(this,Fe,_d).call(this))),t.click()},s_=function(){const{div:t}=this;let{width:r,height:i}=c(this,Zt);const[s,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>a*s||i>a*o){const h=Math.min(a*s/r,a*o/i);r*=h,i*=h}const[l,u]=this.parentDimensions;this.setDims(r*l/s,i*u/o),this._uiManager.enableWaiting(!1);const d=b(this,Ei,document.createElement("canvas"));t.append(d),t.hidden=!1,E(this,Fe,o_).call(this,r,i),E(this,Fe,bR).call(this),c(this,qf)||(this.parent.addUndoableEditor(this),b(this,qf,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,dc)&&d.setAttribute("aria-label",c(this,dc))},wR=function(t,r){var a;const[i,s]=this.parentDimensions;this.width=t/i,this.height=r/s,this.setDims(t,r),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,c(this,Si)!==null&&clearTimeout(c(this,Si)),b(this,Si,setTimeout(()=>{b(this,Si,null),E(this,Fe,o_).call(this,t,r)},200))},_R=function(t,r){const{width:i,height:s}=c(this,Zt);let o=i,a=s,l=c(this,Zt);for(;o>2*t||a>2*r;){const u=o,d=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(o,a);h.getContext("2d").drawImage(l,0,0,u,d,0,0,o,a),l=h.transferToImageBitmap()}return l},o_=function(t,r){t=Math.ceil(t),r=Math.ceil(r);const i=c(this,Ei);if(!i||i.width===t&&i.height===r)return;i.width=t,i.height=r;const s=c(this,Gr)?c(this,Zt):E(this,Fe,_R).call(this,t,r);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(t,r).getContext("2d");l.drawImage(s,0,0,s.width,s.height,0,0,t,r),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,t,r).data,width:t,height:r,channels:4}}).then(u=>{const d=(u==null?void 0:u.output)||"";this.parent&&d&&!this.hasAltText()&&(this.altTextData={altText:d,decorative:!1})})}const o=i.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(s,0,0,s.width,s.height,0,0,t,r)},Tm=function(t){if(t){if(c(this,Gr)){const s=this._uiManager.imageManager.getSvgUrl(c(this,Qt));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=c(this,Zt),r.getContext("2d").drawImage(c(this,Zt),0,0),r.toDataURL()}if(c(this,Gr)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*jo.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*jo.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(c(this,Zt),0,0,c(this,Zt).width,c(this,Zt).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(c(this,Zt))},bR=function(){this._uiManager._signal&&(b(this,gs,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&E(this,Fe,wR).call(this,r.width,r.height)})),c(this,gs).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=c(this,gs))==null||t.disconnect(),b(this,gs,null)},{once:!0}))},me(Md,"_type","stamp"),me(Md,"_editorType",Me.STAMP);let i_=Md;var ol,hc,xi,al,ys,vs,ws,Jn,vo,fc,pc,vn,se,wo,nn,ER,l_,u_,c_,Rm;const Lr=class Lr{constructor({uiManager:e,pageIndex:t,div:r,accessibilityManager:i,annotationLayer:s,drawLayer:o,textLayer:a,viewport:l,l10n:u}){S(this,nn);S(this,ol);S(this,hc,!1);S(this,xi,null);S(this,al,null);S(this,ys,null);S(this,vs,null);S(this,ws,null);S(this,Jn,new Map);S(this,vo,!1);S(this,fc,!1);S(this,pc,!1);S(this,vn,null);S(this,se);const d=[...c(Lr,wo).values()];if(!Lr._initialized){Lr._initialized=!0;for(const h of d)h.initialize(u,e)}e.registerEditorTypes(d),b(this,se,e),this.pageIndex=t,this.div=r,b(this,ol,i),b(this,xi,s),this.viewport=l,b(this,vn,a),this.drawLayer=o,c(this,se).addLayer(this)}get isEmpty(){return c(this,Jn).size===0}get isInvisible(){return this.isEmpty&&c(this,se).getMode()===Me.NONE}updateToolbar(e){c(this,se).updateToolbar(e)}updateMode(e=c(this,se).getMode()){switch(E(this,nn,Rm).call(this),e){case Me.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Me.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Me.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of c(Lr,wo).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=c(this,vn))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(c(this,se).getMode()!==Me.INK)return;if(!e){for(const r of c(this,Jn).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){c(this,se).setEditingState(e)}addCommands(e){c(this,se).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=c(this,xi))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of c(this,Jn).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(c(this,se).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!c(this,xi))return;const t=c(this,xi).getEditableAnnotations();for(const r of t){if(r.hide(),c(this,se).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;b(this,pc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of c(this,Jn).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(c(this,xi)){const s=c(this,xi).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(c(this,se).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(c(this,se).addChangedExistingAnnotation(l),l.renderAnnotationElement(o),l.show(!1)),o.show()}}E(this,nn,Rm).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of c(Lr,wo).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),b(this,pc,!1)}getEditableAnnotation(e){var t;return((t=c(this,xi))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,se).getActive()!==e&&c(this,se).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=c(this,vn))!=null&&e.div&&!c(this,vs)&&(b(this,vs,E(this,nn,ER).bind(this)),c(this,vn).div.addEventListener("pointerdown",c(this,vs),{signal:c(this,se)._signal}),c(this,vn).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,vn))!=null&&e.div&&c(this,vs)&&(c(this,vn).div.removeEventListener("pointerdown",c(this,vs)),b(this,vs,null),c(this,vn).div.classList.remove("highlighting"))}enableClick(){if(c(this,ys))return;const e=c(this,se)._signal;b(this,ys,this.pointerdown.bind(this)),b(this,al,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",c(this,ys),{signal:e}),this.div.addEventListener("pointerup",c(this,al),{signal:e})}disableClick(){c(this,ys)&&(this.div.removeEventListener("pointerdown",c(this,ys)),this.div.removeEventListener("pointerup",c(this,al)),b(this,ys,null),b(this,al,null))}attach(e){c(this,Jn).set(e.id,e);const{annotationElementId:t}=e;t&&c(this,se).isDeletedAnnotationElement(t)&&c(this,se).removeDeletedAnnotationElement(e)}detach(e){var t;c(this,Jn).delete(e.id),(t=c(this,ol))==null||t.removePointerInTextLayer(e.contentDiv),!c(this,pc)&&e.annotationElementId&&c(this,se).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,se).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,c(this,fc)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,se).addDeletedAnnotationElement(e.annotationElementId),He.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,se).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),c(this,se).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!c(this,ws)&&(e._focusEventsAllowed=!1,b(this,ws,setTimeout(()=>{b(this,ws,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:c(this,se)._signal}),t.focus())},0))),e._structTreeParentId=(r=c(this,ol))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return c(this,se).getId()}get _signal(){return c(this,se)._signal}canCreateNewEmptyEditor(){var e;return(e=c(this,nn,l_))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){c(this,se).updateToolbar(e),c(this,se).updateMode(e);const{offsetX:r,offsetY:i}=E(this,nn,c_).call(this),s=this.getNextId(),o=E(this,nn,u_).call(this,{parent:this,id:s,x:r,y:i,uiManager:c(this,se),isCentered:!0,...t});o&&this.add(o)}deserialize(e){var t;return((t=c(Lr,wo).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,c(this,se)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=E(this,nn,u_).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:c(this,se),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(E(this,nn,c_).call(this),!0)}setSelected(e){c(this,se).setSelected(e)}toggleSelected(e){c(this,se).toggleSelected(e)}isSelected(e){return c(this,se).isSelected(e)}unselect(e){c(this,se).unselect(e)}pointerup(e){const{isMac:t}=Dn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&c(this,vo)){if(b(this,vo,!1),!c(this,hc)){b(this,hc,!0);return}if(c(this,se).getMode()===Me.STAMP){c(this,se).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(c(this,se).getMode()===Me.HIGHLIGHT&&this.enableTextSelection(),c(this,vo)){b(this,vo,!1);return}const{isMac:t}=Dn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;b(this,vo,!0);const r=c(this,se).getActive();b(this,hc,!r||r.isEmpty())}findNewParent(e,t,r){const i=c(this,se).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=c(this,se).getActive())==null?void 0:e.parent)===this&&(c(this,se).commitOrRemove(),c(this,se).setActiveEditor(null)),c(this,ws)&&(clearTimeout(c(this,ws)),b(this,ws,null));for(const r of c(this,Jn).values())(t=c(this,ol))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,c(this,Jn).clear(),c(this,se).removeLayer(this)}render({viewport:e}){this.viewport=e,Sl(this.div,e);for(const t of c(this,se).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){c(this,se).commitOrRemove(),E(this,nn,Rm).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Sl(this.div,{rotation:r}),t!==r)for(const i of c(this,Jn).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return c(this,se).viewParameters.realScale}};ol=new WeakMap,hc=new WeakMap,xi=new WeakMap,al=new WeakMap,ys=new WeakMap,vs=new WeakMap,ws=new WeakMap,Jn=new WeakMap,vo=new WeakMap,fc=new WeakMap,pc=new WeakMap,vn=new WeakMap,se=new WeakMap,wo=new WeakMap,nn=new WeakSet,ER=function(e){if(c(this,se).unselectAll(),e.target===c(this,vn).div){const{isMac:t}=Dn.platform;if(e.button!==0||e.ctrlKey&&t)return;c(this,se).showAllEditors("highlight",!0,!0),c(this,vn).div.classList.add("free"),Lg.startHighlighting(this,c(this,se).direction==="ltr",e),c(this,vn).div.addEventListener("pointerup",()=>{c(this,vn).div.classList.remove("free")},{once:!0,signal:c(this,se)._signal}),e.preventDefault()}},l_=function(){return c(Lr,wo).get(c(this,se).getMode())},u_=function(e){const t=c(this,nn,l_);return t?new t.prototype.constructor(e):null},c_=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),u=(s+a)/2-e,d=(o+l)/2-t,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}},Rm=function(){b(this,fc,!0);for(const e of c(this,Jn).values())e.isEmpty()&&e.remove();b(this,fc,!1)},me(Lr,"_initialized",!1),S(Lr,wo,new Map([Bw,Zw,i_,Lg].map(e=>[e._editorType,e])));let a_=Lr;var Ai,Xf,Nt,_o,Kf,h_,Tl,f_,SR;const Gt=class Gt{constructor({pageIndex:e}){S(this,Tl);S(this,Ai,null);S(this,Xf,0);S(this,Nt,new Map);S(this,_o,new Map);this.pageIndex=e}setParent(e){if(!c(this,Ai)){b(this,Ai,e);return}if(c(this,Ai)!==e){if(c(this,Nt).size>0)for(const t of c(this,Nt).values())t.remove(),e.append(t);b(this,Ai,e)}}static get _svgFactory(){return Ne(this,"_svgFactory",new Db)}highlight(e,t,r,i=!1){const s=$n(this,Xf)._++,o=E(this,Tl,f_).call(this,e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const a=Gt._svgFactory.createElement("defs");o.append(a);const l=Gt._svgFactory.createElement("path");a.append(l);const u=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",u),l.setAttribute("d",e.toSVGPath()),i&&c(this,_o).set(s,l);const d=E(this,Tl,SR).call(this,a,u),h=Gt._svgFactory.createElement("use");return o.append(h),o.setAttribute("fill",t),o.setAttribute("fill-opacity",r),h.setAttribute("href",`#${u}`),c(this,Nt).set(s,o),{id:s,clipPathId:`url(#${d})`}}highlightOutline(e){const t=$n(this,Xf)._++,r=E(this,Tl,f_).call(this,e.box);r.classList.add("highlightOutline");const i=Gt._svgFactory.createElement("defs");r.append(i);const s=Gt._svgFactory.createElement("path");i.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){r.classList.add("free");const d=Gt._svgFactory.createElement("mask");i.append(d),a=`mask_p${this.pageIndex}_${t}`,d.setAttribute("id",a),d.setAttribute("maskUnits","objectBoundingBox");const h=Gt._svgFactory.createElement("rect");d.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const f=Gt._svgFactory.createElement("use");d.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=Gt._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const u=l.cloneNode();return r.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),c(this,Nt).set(t,r),t}finalizeLine(e,t){const r=c(this,_o).get(e);c(this,_o).delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){c(this,Nt).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),c(this,_o).delete(e)}updatePath(e,t){c(this,_o).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var r;E(r=Gt,Kf,h_).call(r,c(this,Nt).get(e),t)}show(e,t){c(this,Nt).get(e).classList.toggle("hidden",!t)}rotate(e,t){c(this,Nt).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){c(this,Nt).get(e).setAttribute("fill",t)}changeOpacity(e,t){c(this,Nt).get(e).setAttribute("fill-opacity",t)}addClass(e,t){c(this,Nt).get(e).classList.add(t)}removeClass(e,t){c(this,Nt).get(e).classList.remove(t)}remove(e){c(this,Ai)!==null&&(c(this,Nt).get(e).remove(),c(this,Nt).delete(e))}destroy(){b(this,Ai,null);for(const e of c(this,Nt).values())e.remove();c(this,Nt).clear()}};Ai=new WeakMap,Xf=new WeakMap,Nt=new WeakMap,_o=new WeakMap,Kf=new WeakSet,h_=function(e,{x:t=0,y:r=0,width:i=1,height:s=1}={}){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},Tl=new WeakSet,f_=function(e){var r;const t=Gt._svgFactory.create(1,1,!0);return c(this,Ai).append(t),t.setAttribute("aria-hidden",!0),E(r=Gt,Kf,h_).call(r,t,e),t},SR=function(e,t){const r=Gt._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Gt._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},S(Gt,Kf);let d_=Gt;var uz=de.AbortException,cz=de.AnnotationEditorLayer,dz=de.AnnotationEditorParamsType,hz=de.AnnotationEditorType,fz=de.AnnotationEditorUIManager,xR=de.AnnotationLayer,AR=de.AnnotationMode,pz=de.CMapCompressionType,mz=de.ColorPicker,gz=de.DOMSVGFactory,yz=de.DrawLayer,vz=de.FeatureTest,Hb=de.GlobalWorkerOptions,wz=de.ImageKind,_z=de.InvalidPDFException,bz=de.MissingPDFException,Ez=de.OPS,Sz=de.Outliner,xz=de.PDFDataRangeTransport,Az=de.PDFDateString,Cz=de.PDFWorker,kz=de.PasswordResponses,Tz=de.PermissionFlag,Rz=de.PixelsPerInch,Pz=de.RenderingCancelledException,CR=de.TextLayer,Lz=de.UnexpectedResponseException,Mz=de.Util,Oz=de.VerbosityLevel,Dz=de.XfaLayer,Nz=de.build,Iz=de.createValidAbsoluteUrl,Fz=de.fetchData,kR=de.getDocument,jz=de.getFilenameFromUrl,zz=de.getPdfFilenameFromUrl,Bz=de.getXfaPageViewport,Uz=de.isDataScheme,Hz=de.isPdfFile,$z=de.noContextMenu,Vz=de.normalizeUnicode,Wz=de.renderTextLayer,Gz=de.setLayerDimensions,qz=de.shadow,Xz=de.updateTextLayer,Kz=de.version;const Yz=Object.freeze(Object.defineProperty({__proto__:null,AbortException:uz,AnnotationEditorLayer:cz,AnnotationEditorParamsType:dz,AnnotationEditorType:hz,AnnotationEditorUIManager:fz,AnnotationLayer:xR,AnnotationMode:AR,CMapCompressionType:pz,ColorPicker:mz,DOMSVGFactory:gz,DrawLayer:yz,FeatureTest:vz,GlobalWorkerOptions:Hb,ImageKind:wz,InvalidPDFException:_z,MissingPDFException:bz,OPS:Ez,Outliner:Sz,PDFDataRangeTransport:xz,PDFDateString:Az,PDFWorker:Cz,PasswordResponses:kz,PermissionFlag:Tz,PixelsPerInch:Rz,RenderingCancelledException:Pz,TextLayer:CR,UnexpectedResponseException:Lz,Util:Mz,VerbosityLevel:Oz,XfaLayer:Dz,build:Nz,createValidAbsoluteUrl:Iz,fetchData:Fz,getDocument:kR,getFilenameFromUrl:jz,getPdfFilenameFromUrl:zz,getXfaPageViewport:Bz,isDataScheme:Uz,isPdfFile:Hz,noContextMenu:$z,normalizeUnicode:Vz,renderTextLayer:Wz,setLayerDimensions:Gz,shadow:qz,updateTextLayer:Xz,version:Kz},Symbol.toStringTag,{value:"Module"}));var Bt=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},Zz=["onCopy","onCut","onPaste"],Qz=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Jz=["onFocus","onBlur"],e3=["onInput","onInvalid","onReset","onSubmit"],t3=["onLoad","onError"],n3=["onKeyDown","onKeyPress","onKeyUp"],r3=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],i3=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],s3=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],o3=["onSelect"],a3=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],l3=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],u3=["onScroll"],c3=["onWheel"],d3=["onAnimationStart","onAnimationEnd","onAnimationIteration"],h3=["onTransitionEnd"],f3=["onToggle"],p3=["onChange"],m3=Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt([],Zz,!0),Qz,!0),Jz,!0),e3,!0),t3,!0),n3,!0),r3,!0),i3,!0),s3,!0),o3,!0),a3,!0),l3,!0),u3,!0),c3,!0),d3,!0),h3,!0),p3,!0),f3,!0);function TR(n,e){var t={};return m3.forEach(function(r){var i=n[r];i&&(e?t[r]=function(s){return i(s,e(r))}:t[r]=i)}),t}function cp(n){var e=!1,t=new Promise(function(r,i){n.then(function(s){return!e&&r(s)}).catch(function(s){return!e&&i(s)})});return{promise:t,cancel:function(){e=!0}}}function RR(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=RR(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Fy(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=RR(n))&&(r&&(r+=" "),r+=e);return r}var g3="Invariant failed";function Je(n,e){if(!n)throw new Error(g3)}var y3=function(){},v3=y3;const hn=w_(v3);var Nx=Object.prototype.hasOwnProperty;function Ix(n,e,t){for(t of n.keys())if(vu(t,e))return t}function vu(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&vu(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=Ix(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=Ix(e,i),!i)||!vu(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(Nx.call(n,t)&&++r&&!Nx.call(e,t)||!(t in e)||!vu(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}const PR=L.createContext(null);function wu({children:n,type:e}){return M.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const w3="noopener noreferrer nofollow";class _3{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Je(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Je(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Je(this.pdfDocument),Je(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Je(Array.isArray(t));const r=t[0];new Promise(i=>{Je(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(s=>{i(s)}).catch(()=>{Je(!1)}):typeof r=="number"?i(r):Je(!1)}).then(i=>{const s=i+1;Je(this.pdfViewer),Je(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Je(this.pdfViewer),Je(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||w3,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Fx={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},jy=typeof document<"u",LR=jy&&window.location.protocol==="file:";function b3(n){return typeof n<"u"}function Zo(n){return b3(n)&&n!==null}function E3(n){return typeof n=="string"}function S3(n){return n instanceof ArrayBuffer}function x3(n){return Je(jy),n instanceof Blob}function p_(n){return E3(n)&&/^data:/.test(n)}function jx(n){Je(p_(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function A3(){return jy&&window.devicePixelRatio||1}const MR="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function zx(){hn(!LR,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${MR}`)}function C3(){hn(!LR,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${MR}`)}function Cl(n){n!=null&&n.cancel&&n.cancel()}function m_(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function k3(n){return n.name==="RenderingCancelledException"}function T3(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}function R3(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Tc(){return L.useReducer(R3,{value:void 0,error:void 0})}var P3=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(n,e||[])).next())})},Bx=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const{PDFDataRangeTransport:L3}=Yz,M3=(n,e)=>{switch(e){case Fx.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case Fx.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function Ux(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const O3=L.forwardRef(function(e,t){var{children:r,className:i,error:s="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:a,file:l,inputRef:u,imageResourcesPath:d,loading:h="Loading PDF…",noData:f="No PDF file specified.",onItemClick:p,onLoadError:m,onLoadProgress:y,onLoadSuccess:_,onPassword:g=M3,onSourceError:v,onSourceSuccess:w,options:x,renderMode:C,rotate:k}=e,P=Bx(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[A,D]=Tc(),{value:I,error:j}=A,[ne,J]=Tc(),{value:X,error:he}=ne,pe=L.useRef(new _3),V=L.useRef([]),F=L.useRef(void 0),$=L.useRef(void 0);l&&l!==F.current&&Ux(l)&&(hn(!vu(l,F.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),F.current=l),x&&x!==$.current&&(hn(!vu(x,$.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),$.current=x);const ie=L.useRef({scrollPageIntoView:Ve=>{const{dest:Pe,pageNumber:ut,pageIndex:bt=ut-1}=Ve;if(p){p({dest:Pe,pageIndex:bt,pageNumber:ut});return}const si=V.current[bt];if(si){si.scrollIntoView();return}hn(!1,`An internal link leading to page ${ut} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});L.useImperativeHandle(t,()=>({linkService:pe,pages:V,viewer:ie}),[]);function Re(){w&&w()}function ue(){j&&(hn(!1,j.toString()),v&&v(j))}function Ee(){D({type:"RESET"})}L.useEffect(Ee,[l,D]);const Ye=L.useCallback(()=>P3(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return p_(l)?{data:jx(l)}:(zx(),{url:l});if(l instanceof L3)return{range:l};if(S3(l))return{data:l};if(jy&&x3(l))return{data:yield T3(l)};if(Je(typeof l=="object"),Je(Ux(l)),"url"in l&&typeof l.url=="string"){if(p_(l.url)){const{url:Ve}=l,Pe=Bx(l,["url"]),ut=jx(Ve);return Object.assign({data:ut},Pe)}zx()}return l}),[l]);L.useEffect(()=>{const Ve=cp(Ye());return Ve.promise.then(Pe=>{D({type:"RESOLVE",value:Pe})}).catch(Pe=>{D({type:"REJECT",error:Pe})}),()=>{Cl(Ve)}},[Ye,D]),L.useEffect(()=>{if(!(typeof I>"u")){if(I===!1){ue();return}Re()}},[I]);function lt(){X&&(_&&_(X),V.current=new Array(X.numPages),pe.current.setDocument(X))}function De(){he&&(hn(!1,he.toString()),m&&m(he))}L.useEffect(function(){J({type:"RESET"})},[J,I]),L.useEffect(function(){if(!I)return;const Pe=Object.assign(Object.assign({},I),x),ut=kR(Pe);y&&(ut.onProgress=y),g&&(ut.onPassword=g);const bt=ut;return bt.promise.then(si=>{J({type:"RESOLVE",value:si})}).catch(si=>{bt.destroyed||J({type:"REJECT",error:si})}),()=>{bt.destroy()}},[x,J,I]),L.useEffect(()=>{if(!(typeof X>"u")){if(X===!1){De();return}lt()}},[X]),L.useEffect(function(){pe.current.setViewer(ie.current),pe.current.setExternalLinkRel(o),pe.current.setExternalLinkTarget(a)},[o,a]);const Se=L.useCallback((Ve,Pe)=>{V.current[Ve]=Pe},[]),yt=L.useCallback(Ve=>{delete V.current[Ve]},[]),fr=L.useMemo(()=>({imageResourcesPath:d,linkService:pe.current,onItemClick:p,pdf:X,registerPage:Se,renderMode:C,rotate:k,unregisterPage:yt}),[d,p,X,Se,C,k,yt]),tt=L.useMemo(()=>TR(P,()=>X),[P,X]);function Go(){return M.jsx(PR.Provider,{value:fr,children:r})}function qo(){return l?X==null?M.jsx(wu,{type:"loading",children:typeof h=="function"?h():h}):X===!1?M.jsx(wu,{type:"error",children:typeof s=="function"?s():s}):Go():M.jsx(wu,{type:"no-data",children:typeof f=="function"?f():f})}return M.jsx("div",Object.assign({className:Fy("react-pdf__Document",i),ref:u,style:{"--scale-factor":"1"}},tt,{children:qo()}))});function OR(){return L.useContext(PR)}function DR(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(s){t.forEach(function(o){typeof o=="function"?o(s):o&&(o.current=s)})}}const NR=L.createContext(null),IR={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},D3=/^H(\d+)$/;function N3(n){return n in IR}function zy(n){return"children"in n}function FR(n){return zy(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function I3(n){const e={};if(zy(n)){const{role:t}=n,r=t.match(D3);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(N3(t)){const i=IR[t];i&&(e.role=i)}}return e}function jR(n){const e={};if(zy(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),FR(n)){const[t]=n.children;if(t){const r=jR(t);return Object.assign(Object.assign({},e),r)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function F3(n){return n?Object.assign(Object.assign({},I3(n)),jR(n)):null}function zR({className:n,node:e}){const t=L.useMemo(()=>F3(e),[e]),r=L.useMemo(()=>!zy(e)||FR(e)?null:e.children.map((i,s)=>M.jsx(zR,{node:i},s)),[e]);return M.jsx("span",Object.assign({className:n},t,{children:r}))}function By(){return L.useContext(NR)}function j3(){const n=By();Je(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,i]=Tc(),{value:s,error:o}=r,{customTextRenderer:a,page:l}=n;function u(){s&&t&&t(s)}function d(){o&&(hn(!1,o.toString()),e&&e(o))}return L.useEffect(function(){i({type:"RESET"})},[i,l]),L.useEffect(function(){if(a||!l)return;const f=cp(l.getStructTree()),p=f;return f.promise.then(m=>{i({type:"RESOLVE",value:m})}).catch(m=>{i({type:"REJECT",error:m})}),()=>Cl(p)},[a,l,i]),L.useEffect(()=>{if(s!==void 0){if(s===!1){d();return}u()}},[s]),s?M.jsx(zR,{className:"react-pdf__Page__structTree structTree",node:s}):null}const Hx=AR;function z3(n){const e=By();Je(e);const t=Object.assign(Object.assign({},e),n),{_className:r,canvasBackground:i,devicePixelRatio:s=A3(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:u,renderTextLayer:d,rotate:h,scale:f}=t,{canvasRef:p}=n;Je(l);const m=L.useRef(null);function y(){l&&a&&a(m_(l,f))}function _(x){k3(x)||(hn(!1,x.toString()),o&&o(x))}const g=L.useMemo(()=>l.getViewport({scale:f*s,rotation:h}),[s,l,h,f]),v=L.useMemo(()=>l.getViewport({scale:f,rotation:h}),[l,h,f]);L.useEffect(function(){if(!l)return;l.cleanup();const{current:C}=m;if(!C)return;C.width=g.width,C.height=g.height,C.style.width=`${Math.floor(v.width)}px`,C.style.height=`${Math.floor(v.height)}px`,C.style.visibility="hidden";const k={annotationMode:u?Hx.ENABLE_FORMS:Hx.ENABLE,canvasContext:C.getContext("2d",{alpha:!1}),viewport:g};i&&(k.background=i);const P=l.render(k),A=P;return P.promise.then(()=>{C.style.visibility="",y()}).catch(_),()=>Cl(A)},[i,l,u,g,v]);const w=L.useCallback(()=>{const{current:x}=m;x&&(x.width=0,x.height=0)},[]);return L.useEffect(()=>w,[w]),M.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:DR(p,m),style:{display:"block",userSelect:"none"},children:d?M.jsx(j3,{}):null})}function B3(n){return"str"in n}function U3(){const n=By();Je(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:l,rotate:u,scale:d}=n;Je(o);const[h,f]=Tc(),{value:p,error:m}=h,y=L.useRef(null),_=L.useRef(void 0);hn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function g(){p&&r&&r(p)}function v(){m&&(hn(!1,m.toString()),t&&t(m))}L.useEffect(function(){f({type:"RESET"})},[o,f]),L.useEffect(function(){if(!o)return;const D=cp(o.getTextContent()),I=D;return D.promise.then(j=>{f({type:"RESOLVE",value:j})}).catch(j=>{f({type:"REJECT",error:j})}),()=>Cl(I)},[o,f]),L.useEffect(()=>{if(p!==void 0){if(p===!1){v();return}g()}},[p]);const w=L.useCallback(()=>{s&&s()},[s]),x=L.useCallback(A=>{hn(!1,A.toString()),i&&i(A)},[i]);function C(){const A=_.current;A&&A.classList.add("active")}function k(){const A=_.current;A&&A.classList.remove("active")}const P=L.useMemo(()=>o.getViewport({scale:d,rotation:u}),[o,u,d]);return L.useLayoutEffect(function(){if(!o||!p)return;const{current:D}=y;if(!D)return;D.innerHTML="";const I=o.streamTextContent({includeMarkedContent:!0}),j={container:D,textContentSource:I,viewport:P},ne=new CR(j),J=ne;return ne.render().then(()=>{const X=document.createElement("div");X.className="endOfContent",D.append(X),_.current=X;const he=D.querySelectorAll('[role="presentation"]');if(e){let pe=0;p.items.forEach((V,F)=>{if(!B3(V))return;const $=he[pe];if(!$)return;const ie=e(Object.assign({pageIndex:a,pageNumber:l,itemIndex:F},V));$.innerHTML=ie,pe+=V.str&&V.hasEOL?2:1})}w()}).catch(x),()=>Cl(J)},[e,x,w,o,a,l,p,P]),M.jsx("div",{className:Fy("react-pdf__Page__textContent","textLayer"),onMouseUp:k,onMouseDown:C,ref:y})}function H3(){const n=OR(),e=By();Je(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:r,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:u,pdf:d,renderForms:h,rotate:f,scale:p=1}=t;Je(d),Je(u),Je(i);const[m,y]=Tc(),{value:_,error:g}=m,v=L.useRef(null);hn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function w(){_&&o&&o(_)}function x(){g&&(hn(!1,g.toString()),s&&s(g))}L.useEffect(function(){y({type:"RESET"})},[y,u]),L.useEffect(function(){if(!u)return;const D=cp(u.getAnnotations()),I=D;return D.promise.then(j=>{y({type:"RESOLVE",value:j})}).catch(j=>{y({type:"REJECT",error:j})}),()=>{Cl(I)}},[y,u]),L.useEffect(()=>{if(_!==void 0){if(_===!1){x();return}w()}},[_]);function C(){l&&l()}function k(A){hn(!1,`${A}`),a&&a(A)}const P=L.useMemo(()=>u.getViewport({scale:p,rotation:f}),[u,f,p]);return L.useEffect(function(){if(!d||!u||!i||!_)return;const{current:D}=v;if(!D)return;const I=P.clone({dontFlip:!0}),j={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:D,l10n:null,page:u,viewport:I},ne={annotations:_,annotationStorage:d.annotationStorage,div:D,imageResourcesPath:r,linkService:i,page:u,renderForms:h,viewport:I};D.innerHTML="";try{new xR(j).render(ne),C()}catch(J){k(J)}return()=>{}},[_,r,i,u,d,h,P]),M.jsx("div",{className:Fy("react-pdf__Page__annotations","annotationLayer"),ref:v})}var $3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const $x=1;function V3(n){const e=OR(),t=Object.assign(Object.assign({},e),n),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:o,children:a,className:l,customRenderer:u,customTextRenderer:d,devicePixelRatio:h,error:f="Failed to load the page.",height:p,inputRef:m,loading:y="Loading page…",noData:_="No page specified.",onGetAnnotationsError:g,onGetAnnotationsSuccess:v,onGetStructTreeError:w,onGetStructTreeSuccess:x,onGetTextError:C,onGetTextSuccess:k,onLoadError:P,onLoadSuccess:A,onRenderAnnotationLayerError:D,onRenderAnnotationLayerSuccess:I,onRenderError:j,onRenderSuccess:ne,onRenderTextLayerError:J,onRenderTextLayerSuccess:X,pageIndex:he,pageNumber:pe,pdf:V,registerPage:F,renderAnnotationLayer:$=!0,renderForms:ie=!1,renderMode:Re="canvas",renderTextLayer:ue=!0,rotate:Ee,scale:Ye=$x,unregisterPage:lt,width:De}=t,Se=$3(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[yt,fr]=Tc(),{value:tt,error:Go}=yt,qo=L.useRef(null);Je(V);const Ve=Zo(pe)?pe-1:he??null,Pe=pe??(Zo(he)?he+1:null),ut=Ee??(tt?tt.rotate:null),bt=L.useMemo(()=>{if(!tt)return null;let pr=1;const Yo=Ye??$x;if(De||p){const js=tt.getViewport({scale:1,rotation:ut});De?pr=De/js.width:p&&(pr=p/js.height)}return Yo*pr},[p,tt,ut,Ye,De]);L.useEffect(function(){return()=>{Zo(Ve)&&i&&lt&&lt(Ve)}},[i,V,Ve,lt]);function si(){if(A){if(!tt||!bt)return;A(m_(tt,bt))}if(i&&F){if(!Zo(Ve)||!qo.current)return;F(Ve,qo.current)}}function Ii(){Go&&(hn(!1,Go.toString()),P&&P(Go))}L.useEffect(function(){fr({type:"RESET"})},[fr,V,Ve]),L.useEffect(function(){if(!V||!Pe)return;const Yo=cp(V.getPage(Pe)),js=Yo;return Yo.promise.then(mr=>{fr({type:"RESOLVE",value:mr})}).catch(mr=>{fr({type:"REJECT",error:mr})}),()=>Cl(js)},[fr,V,Pe]),L.useEffect(()=>{if(tt!==void 0){if(tt===!1){Ii();return}si()}},[tt,bt]);const Uy=L.useMemo(()=>tt&&Zo(Ve)&&Pe&&Zo(ut)&&Zo(bt)?{_className:r,canvasBackground:s,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:g,onGetAnnotationsSuccess:v,onGetStructTreeError:w,onGetStructTreeSuccess:x,onGetTextError:C,onGetTextSuccess:k,onRenderAnnotationLayerError:D,onRenderAnnotationLayerSuccess:I,onRenderError:j,onRenderSuccess:ne,onRenderTextLayerError:J,onRenderTextLayerSuccess:X,page:tt,pageIndex:Ve,pageNumber:Pe,renderForms:ie,renderTextLayer:ue,rotate:ut,scale:bt}:null,[r,s,d,h,g,v,w,x,C,k,D,I,j,ne,J,X,tt,Ve,Pe,ie,ue,ut,bt]),Hy=L.useMemo(()=>TR(Se,()=>tt&&(bt?m_(tt,bt):void 0)),[Se,tt,bt]),Xo=`${Ve}@${bt}/${ut}`;function $y(){switch(Re){case"custom":return Je(u),M.jsx(u,{},`${Xo}_custom`);case"none":return null;case"canvas":default:return M.jsx(z3,{canvasRef:o},`${Xo}_canvas`)}}function Vy(){return ue?M.jsx(U3,{},`${Xo}_text`):null}function Wy(){return $?M.jsx(H3,{},`${Xo}_annotations`):null}function Gy(){return M.jsxs(NR.Provider,{value:Uy,children:[$y(),Vy(),Wy(),a]})}function Ko(){return Pe?V===null||tt===void 0||tt===null?M.jsx(wu,{type:"loading",children:typeof y=="function"?y():y}):V===!1||tt===!1?M.jsx(wu,{type:"error",children:typeof f=="function"?f():f}):Gy():M.jsx(wu,{type:"no-data",children:typeof _=="function"?_():_})}return M.jsx("div",Object.assign({className:Fy(r,l),"data-page-number":Pe,ref:DR(m,qo),style:{"--scale-factor":`${bt}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Hy,{children:Ko()}))}C3();Hb.workerSrc="pdf.worker.mjs";function W3(n){return gy({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},child:[]}]})(n)}function G3(n){return gy({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"},child:[]}]})(n)}Hb.workerSrc=new URL("/assets/pdf.worker.min-DGf6LXVo.mjs",import.meta.url).toString();function q3({fileName:n,setOutputFile:e,setLoading:t}){const[r,i]=L.useState(null),[s,o]=L.useState(1),[a,l]=L.useState(),[u,d]=L.useState([]),[h,f]=L.useState(null);L.useEffect(()=>{Cc.get(`/api/pdf/pdfname/${n}`,{responseType:"blob"}).then(v=>{const w=URL.createObjectURL(v.data);i(w),console.log(w)}).catch(v=>{console.log(v)})},[]);const p=({numPages:v})=>{l(v)},m=()=>{o(v=>v<a?v+1:v)},y=()=>{o(v=>v>1?v-1:v)},_=()=>{u.includes(s)?d(v=>v.filter(w=>w!=s)):d(v=>[...v,s])},g=()=>{u.length>0?(t(!0),f(null),console.log(u),Cc.post("/api/pdf/extract",{pageNumbers:u,fileName:n},{responseType:"blob"}).then(v=>{const w=URL.createObjectURL(v.data);t(!1),e(w)})):f("Select atleast 1 page")};return M.jsxs("div",{children:[M.jsx("p",{className:"mt-5 text-center text-2xl font-bold",children:"PDF preview"}),M.jsxs("div",{className:"mx-auto w-fit border border-gray-300 my-5",children:[M.jsx("nav",{className:"flex justify-center items-center",children:M.jsxs("div",{children:[s>1&&M.jsx("button",{type:"button",className:"text-gray-900 hover:text-blue-600  border-gray-800   focus:outline-none  font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2  ",onClick:y,children:M.jsx(W3,{})}),s<a&&M.jsx("button",{type:"button",className:"text-gray-900 hover:text-blue-600  border-gray-800   focus:outline-none  font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2  ",onClick:m,children:M.jsx(G3,{})})]})}),M.jsxs("div",{children:[M.jsxs("div",{className:"mx-2 flex gap-4 items-center",children:[M.jsx("input",{id:"link-checkbox",type:"checkbox",checked:u.includes(s),onChange:_,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),M.jsx("div",{children:u.includes(s)&&u.indexOf(s)+1})]}),M.jsx(O3,{file:r,onLoadSuccess:p,className:"mx-auto w-fit",children:M.jsx(V3,{className:"mx-auto",pageNumber:s,height:400,renderAnnotationLayer:!1})})]}),M.jsxs("p",{className:"text-center",children:["Page ",s," of ",a]})]}),M.jsxs("div",{className:"text-center my-2",children:[M.jsx("div",{className:"my-2",children:h&&M.jsx("p",{className:"text-red-700",children:h})}),M.jsx("button",{type:"button",onClick:g,className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800",children:"Extract and Create New Pdf"})]})]})}function X3(n){return gy({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(n)}function K3({outputFile:n}){const e=()=>{const t=document.createElement("a");t.href=n,t.download="extract-pdf.pdf",document.body.appendChild(t),t.click(),t.remove(),window.URL.revokeObjectURL(n)};return M.jsxs("div",{className:"h-screen w-screen flex flex-col justify-center items-center",children:[M.jsx("p",{className:"text-2xl font-semibold mb-10",children:"Your PDF is ready to download"}),M.jsxs("button",{type:"button",onClick:e,className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:["Download New PDF",M.jsx(X3,{})]})]})}function Y3(){const[n,e]=L.useState(!0),[t,r]=L.useState(null),[i,s]=L.useState(null),[o,a]=L.useState(!1),{status:l}=kb(d=>d.user),u=Oc();return L.useEffect(()=>{l?e(!1):u("/login")},[l,u]),M.jsx(M.Fragment,{children:M.jsxs("div",{children:[M.jsx(a2,{}),n&&M.jsx(YI,{}),!o&&M.jsx(KI,{setLoading:e,setFileName:r,setIsPdfPreview:a}),o&&t&&!i&&M.jsx(q3,{fileName:t,setOutputFile:s,setLoading:e}),i&&M.jsx(K3,{outputFile:i})]})})}const Z3=ki.object({email:ki.string().email({message:"Invalid email address"}),password:ki.string().min(6,{message:"Password must be at least 6 characters long"})});function Q3(){const[n,e]=L.useState({email:"",password:""}),[t,r]=L.useState({}),[i,s]=L.useState(null),o=pk(),a=Oc(),l=d=>{const{name:h,value:f}=d.target;e(p=>({...p,[h]:f}))},u=d=>{d.preventDefault();const h=Z3.safeParse(n);if(h.success)r({}),console.log("Form data is valid:",h.data),Cc.post("/api/user/login",n).then(()=>{o(i2()),a("/")}).catch(f=>{console.log(f),s(f.response.data.message)});else{const f={};h.error.errors.forEach(p=>{p.path.length>0&&(f[p.path[0]]=p.message)}),r(f)}};return M.jsxs("div",{className:"flex min-h-full flex-col justify-center px-6 py-12 lg:px-8",children:[M.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[M.jsx("img",{className:"mx-auto h-10 w-auto",src:"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600",alt:"Your Company"}),M.jsx("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Login to your account"}),i&&M.jsx("p",{className:"text-red-600 text-center",children:i})]}),M.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[M.jsxs("form",{className:"space-y-6",onSubmit:u,children:[M.jsxs("div",{children:[M.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email address"}),M.jsxs("div",{className:"mt-2",children:[M.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:n.email,onChange:l,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 px-2"}),t.email&&M.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.email})]})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"}),M.jsxs("div",{className:"mt-2",children:[M.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",value:n.password,onChange:l,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 px-2"}),t.password&&M.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.password})]})]}),M.jsx("div",{children:M.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Login"})})]}),M.jsxs("p",{className:"mt-10 text-center text-sm text-gray-500",children:["Don't have an account?"," ",M.jsx(CC,{to:"/signup",className:"font-semibold leading-6 text-indigo-600 hover:text-indigo-500",children:"Sign up here"})]})]})]})}function J3(){const[n,e]=L.useState(!0),{status:t}=kb(i=>i.user),r=Oc();return L.useEffect(()=>{t?r("/"):e(!1)},[t,r]),M.jsx(M.Fragment,{children:n?M.jsx("p",{children:"Loading..."}):M.jsx(Q3,{})})}const eB=ki.object({email:ki.string().email("Invalid email address"),password:ki.string().min(6,"Password must be at least 6 characters long"),confirmPassword:ki.string().min(6,"Password must be at least 6 characters long")}).refine(n=>n.password===n.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),tB=()=>{const[n,e]=L.useState({email:"",password:"",confirmPassword:""}),[t,r]=L.useState({}),i=o=>{e({...n,[o.target.name]:o.target.value})},s=o=>{o.preventDefault();try{eB.parse(n),console.log("Form is valid:",n),Cc.post("/api/user/signup",n).then(a=>{console.log(a)}).catch(a=>{console.log(a)})}catch(a){if(a instanceof ki.ZodError){const l=a.errors.reduce((u,d)=>(u[d.path[0]]=d.message,u),{});r(l)}}};return M.jsxs("div",{className:"flex min-h-full flex-col justify-center px-6 py-12 lg:px-8",children:[M.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[M.jsx("img",{className:"mx-auto h-10 w-auto",src:"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600",alt:"Your Company"}),M.jsx("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Sign up for your account"})]}),M.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[M.jsxs("form",{className:"space-y-6",onSubmit:s,children:[M.jsxs("div",{children:[M.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email address"}),M.jsxs("div",{className:"mt-2",children:[M.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:n.email,onChange:i,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 px-2"}),t.email&&M.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.email})]})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"}),M.jsxs("div",{className:"mt-2",children:[M.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",value:n.password,onChange:i,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 px-2"}),t.password&&M.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.password})]})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium leading-6 text-gray-900",children:"Confirm Password"}),M.jsxs("div",{className:"mt-2",children:[M.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"current-password",value:n.confirmPassword,onChange:i,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 px-2"}),t.confirmPassword&&M.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.confirmPassword})]})]}),M.jsx("div",{children:M.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Sign up"})})]}),M.jsxs("p",{className:"mt-10 text-center text-sm text-gray-500",children:["Already have an account?"," ",M.jsx(CC,{to:"/login",className:"font-semibold leading-6 text-indigo-600 hover:text-indigo-500",children:"Login here"})]})]})]})};function nB(){const[n,e]=L.useState(!0),{status:t}=kb(i=>i.user),r=Oc();return L.useEffect(()=>{t?r("/"):e(!1)},[t,r]),M.jsx(M.Fragment,{children:n?M.jsx("p",{children:"Loading..."}):M.jsx(tB,{})})}function rB(){const n=XO([{path:"/signup",element:M.jsx(nB,{})},{path:"/login",element:M.jsx(J3,{})},{path:"/",element:M.jsx(Y3,{})}]);return M.jsx(rD,{router:n})}function Pm(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pm=function(t){return typeof t}:Pm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(n)}function iB(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function sB(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function oB(n,e,t){return e&&sB(n.prototype,e),n}function aB(n,e){return e&&(Pm(e)==="object"||typeof e=="function")?e:Lm(n)}function g_(n){return g_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g_(n)}function Lm(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function lB(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&y_(n,e)}function y_(n,e){return y_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},y_(n,e)}function Mm(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var BR=function(n){lB(e,n);function e(){var t,r;iB(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=aB(this,(t=g_(e)).call.apply(t,[this].concat(s))),Mm(Lm(r),"state",{bootstrapped:!1}),Mm(Lm(r),"_unsubscribe",void 0),Mm(Lm(r),"handlePersistorState",function(){var a=r.props.persistor,l=a.getState(),u=l.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return oB(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(L.PureComponent);Mm(BR,"defaultProps",{children:null,loading:null});var $b="persist:",UR="persist/FLUSH",Vb="persist/REHYDRATE",HR="persist/PAUSE",$R="persist/PERSIST",VR="persist/PURGE",WR="persist/REGISTER",uB=-1;function Om(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Om=function(t){return typeof t}:Om=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(n)}function Vx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function cB(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Vx(t,!0).forEach(function(r){dB(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Vx(t).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function dB(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hB(n,e,t,r){r.debug;var i=cB({},t);return n&&Om(n)==="object"&&Object.keys(n).forEach(function(s){s!=="_persist"&&e[s]===t[s]&&(i[s]=n[s])}),i}function fB(n){var e=n.blacklist||null,t=n.whitelist||null,r=n.transforms||[],i=n.throttle||0,s="".concat(n.keyPrefix!==void 0?n.keyPrefix:$b).concat(n.key),o=n.storage,a;n.serialize===!1?a=function(C){return C}:typeof n.serialize=="function"?a=n.serialize:a=pB;var l=n.writeFailHandler||null,u={},d={},h=[],f=null,p=null,m=function(C){Object.keys(C).forEach(function(k){g(k)&&u[k]!==C[k]&&h.indexOf(k)===-1&&h.push(k)}),Object.keys(u).forEach(function(k){C[k]===void 0&&g(k)&&h.indexOf(k)===-1&&u[k]!==void 0&&h.push(k)}),f===null&&(f=setInterval(y,i)),u=C};function y(){if(h.length===0){f&&clearInterval(f),f=null;return}var x=h.shift(),C=r.reduce(function(k,P){return P.in(k,x,u)},u[x]);if(C!==void 0)try{d[x]=a(C)}catch(k){console.error("redux-persist/createPersistoid: error serializing state",k)}else delete d[x];h.length===0&&_()}function _(){Object.keys(d).forEach(function(x){u[x]===void 0&&delete d[x]}),p=o.setItem(s,a(d)).catch(v)}function g(x){return!(t&&t.indexOf(x)===-1&&x!=="_persist"||e&&e.indexOf(x)!==-1)}function v(x){l&&l(x)}var w=function(){for(;h.length!==0;)y();return p||Promise.resolve()};return{update:m,flush:w}}function pB(n){return JSON.stringify(n)}function mB(n){var e=n.transforms||[],t="".concat(n.keyPrefix!==void 0?n.keyPrefix:$b).concat(n.key),r=n.storage;n.debug;var i;return n.deserialize===!1?i=function(o){return o}:typeof n.deserialize=="function"?i=n.deserialize:i=gB,r.getItem(t).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(l){o[l]=e.reduceRight(function(u,d){return d.out(u,l,a)},i(a[l]))}),o}catch(l){throw l}else return})}function gB(n){return JSON.parse(n)}function yB(n){var e=n.storage,t="".concat(n.keyPrefix!==void 0?n.keyPrefix:$b).concat(n.key);return e.removeItem(t,vB)}function vB(n){}function Wx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ui(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wx(t,!0).forEach(function(r){wB(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Wx(t).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function wB(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _B(n,e){if(n==null)return{};var t=bB(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function bB(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var EB=5e3;function SB(n,e){var t=n.version!==void 0?n.version:uB;n.debug;var r=n.stateReconciler===void 0?hB:n.stateReconciler,i=n.getStoredState||mB,s=n.timeout!==void 0?n.timeout:EB,o=null,a=!1,l=!0,u=function(h){return h._persist.rehydrated&&o&&!l&&o.update(h),h};return function(d,h){var f=d||{},p=f._persist,m=_B(f,["_persist"]),y=m;if(h.type===$R){var _=!1,g=function(A,D){_||(h.rehydrate(n.key,A,D),_=!0)};if(s&&setTimeout(function(){!_&&g(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(n.key,'"')))},s),l=!1,o||(o=fB(n)),p)return Ui({},e(y,h),{_persist:p});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(n.key),i(n).then(function(P){var A=n.migrate||function(D,I){return Promise.resolve(D)};A(P,t).then(function(D){g(D)},function(D){g(void 0,D)})},function(P){g(void 0,P)}),Ui({},e(y,h),{_persist:{version:t,rehydrated:!1}})}else{if(h.type===VR)return a=!0,h.result(yB(n)),Ui({},e(y,h),{_persist:p});if(h.type===UR)return h.result(o&&o.flush()),Ui({},e(y,h),{_persist:p});if(h.type===HR)l=!0;else if(h.type===Vb){if(a)return Ui({},y,{_persist:Ui({},p,{rehydrated:!0})});if(h.key===n.key){var v=e(y,h),w=h.payload,x=r!==!1&&w!==void 0?r(w,d,v,n):v,C=Ui({},x,{_persist:Ui({},p,{rehydrated:!0})});return u(C)}}}if(!p)return e(d,h);var k=e(y,h);return k===y?d:u(Ui({},k,{_persist:p}))}}function Gx(n){return CB(n)||AB(n)||xB()}function xB(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function AB(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function CB(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}function qx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function v_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qx(t,!0).forEach(function(r){kB(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qx(t).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function kB(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var GR={registry:[],bootstrapped:!1},TB=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:GR,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case WR:return v_({},e,{registry:[].concat(Gx(e.registry),[t.key])});case Vb:var r=e.registry.indexOf(t.key),i=Gx(e.registry);return i.splice(r,1),v_({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function RB(n,e,t){var r=Rb(TB,GR,void 0),i=function(l){r.dispatch({type:WR,key:l})},s=function(l,u,d){var h={type:Vb,payload:u,err:d,key:l};n.dispatch(h),r.dispatch(h)},o=v_({},r,{purge:function(){var l=[];return n.dispatch({type:VR,result:function(d){l.push(d)}}),Promise.all(l)},flush:function(){var l=[];return n.dispatch({type:UR,result:function(d){l.push(d)}}),Promise.all(l)},pause:function(){n.dispatch({type:HR})},persist:function(){n.dispatch({type:$R,register:i,rehydrate:s})}});return o.persist(),o}var Wb={},Gb={};Gb.__esModule=!0;Gb.default=MB;function Dm(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dm=function(t){return typeof t}:Dm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(n)}function zv(){}var PB={getItem:zv,setItem:zv,removeItem:zv};function LB(n){if((typeof self>"u"?"undefined":Dm(self))!=="object"||!(n in self))return!1;try{var e=self[n],t="redux-persist ".concat(n," test");e.setItem(t,"test"),e.getItem(t),e.removeItem(t)}catch{return!1}return!0}function MB(n){var e="".concat(n,"Storage");return LB(e)?self[e]:PB}Wb.__esModule=!0;Wb.default=NB;var OB=DB(Gb);function DB(n){return n&&n.__esModule?n:{default:n}}function NB(n){var e=(0,OB.default)(n);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var qR=void 0,IB=FB(Wb);function FB(n){return n&&n.__esModule?n:{default:n}}var jB=(0,IB.default)("local");qR=jB;const zB=mk({user:o2}),BB={key:"root",storage:qR},UB=SB(BB,zB),XR=VF({reducer:UB}),HB=RB(XR),$B=({children:n})=>M.jsx(yF,{store:XR,children:M.jsx(BR,{loading:null,persistor:HB,children:n})});uC(document.getElementById("root")).render(M.jsx(L.StrictMode,{children:M.jsx($B,{children:M.jsx(rB,{})})}));
