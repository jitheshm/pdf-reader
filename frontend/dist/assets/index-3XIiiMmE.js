var eP=Object.defineProperty;var iE=n=>{throw TypeError(n)};var tP=(n,e,t)=>e in n?eP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var me=(n,e,t)=>tP(n,typeof e!="symbol"?e+"":e,t),Xy=(n,e,t)=>e.has(n)||iE("Cannot "+t);var c=(n,e,t)=>(Xy(n,e,"read from private field"),t?t.call(n):e.get(n)),S=(n,e,t)=>e.has(n)?iE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),b=(n,e,t,r)=>(Xy(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),E=(n,e,t)=>(Xy(n,e,"access private method"),t);var $n=(n,e,t,r)=>({set _(i){b(n,e,i,t)},get _(){return c(n,e,r)}});function qx(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function v_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Xx={exports:{}},Kg={},Kx={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf=Symbol.for("react.element"),nP=Symbol.for("react.portal"),rP=Symbol.for("react.fragment"),iP=Symbol.for("react.strict_mode"),sP=Symbol.for("react.profiler"),oP=Symbol.for("react.provider"),aP=Symbol.for("react.context"),lP=Symbol.for("react.forward_ref"),uP=Symbol.for("react.suspense"),cP=Symbol.for("react.memo"),dP=Symbol.for("react.lazy"),sE=Symbol.iterator;function hP(n){return n===null||typeof n!="object"?null:(n=sE&&n[sE]||n["@@iterator"],typeof n=="function"?n:null)}var Yx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zx=Object.assign,Qx={};function Cc(n,e,t){this.props=n,this.context=e,this.refs=Qx,this.updater=t||Yx}Cc.prototype.isReactComponent={};Cc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Cc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Jx(){}Jx.prototype=Cc.prototype;function w_(n,e,t){this.props=n,this.context=e,this.refs=Qx,this.updater=t||Yx}var __=w_.prototype=new Jx;__.constructor=w_;Zx(__,Cc.prototype);__.isPureReactComponent=!0;var oE=Array.isArray,eA=Object.prototype.hasOwnProperty,b_={current:null},tA={key:!0,ref:!0,__self:!0,__source:!0};function nA(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)eA.call(e,r)&&!tA.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Wf,type:n,key:s,ref:o,props:i,_owner:b_.current}}function fP(n,e){return{$$typeof:Wf,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function E_(n){return typeof n=="object"&&n!==null&&n.$$typeof===Wf}function pP(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var aE=/\/+/g;function Ky(n,e){return typeof n=="object"&&n!==null&&n.key!=null?pP(""+n.key):e.toString(36)}function Bp(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Wf:case nP:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+Ky(o,0):r,oE(i)?(t="",n!=null&&(t=n.replace(aE,"$&/")+"/"),Bp(i,e,t,"",function(u){return u})):i!=null&&(E_(i)&&(i=fP(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(aE,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",oE(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+Ky(s,a);o+=Bp(s,e,t,l,i)}else if(l=hP(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+Ky(s,a++),o+=Bp(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gp(n,e,t){if(n==null)return n;var r=[],i=0;return Bp(n,r,"","",function(s){return e.call(t,s,i++)}),r}function mP(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Cn={current:null},Up={transition:null},gP={ReactCurrentDispatcher:Cn,ReactCurrentBatchConfig:Up,ReactCurrentOwner:b_};function rA(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:gp,forEach:function(n,e,t){gp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return gp(n,function(){e++}),e},toArray:function(n){return gp(n,function(e){return e})||[]},only:function(n){if(!E_(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Te.Component=Cc;Te.Fragment=rP;Te.Profiler=sP;Te.PureComponent=w_;Te.StrictMode=iP;Te.Suspense=uP;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gP;Te.act=rA;Te.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=Zx({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=b_.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)eA.call(e,l)&&!tA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Wf,type:n.type,key:i,ref:s,props:r,_owner:o}};Te.createContext=function(n){return n={$$typeof:aP,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:oP,_context:n},n.Consumer=n};Te.createElement=nA;Te.createFactory=function(n){var e=nA.bind(null,n);return e.type=n,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(n){return{$$typeof:lP,render:n}};Te.isValidElement=E_;Te.lazy=function(n){return{$$typeof:dP,_payload:{_status:-1,_result:n},_init:mP}};Te.memo=function(n,e){return{$$typeof:cP,type:n,compare:e===void 0?null:e}};Te.startTransition=function(n){var e=Up.transition;Up.transition={};try{n()}finally{Up.transition=e}};Te.unstable_act=rA;Te.useCallback=function(n,e){return Cn.current.useCallback(n,e)};Te.useContext=function(n){return Cn.current.useContext(n)};Te.useDebugValue=function(){};Te.useDeferredValue=function(n){return Cn.current.useDeferredValue(n)};Te.useEffect=function(n,e){return Cn.current.useEffect(n,e)};Te.useId=function(){return Cn.current.useId()};Te.useImperativeHandle=function(n,e,t){return Cn.current.useImperativeHandle(n,e,t)};Te.useInsertionEffect=function(n,e){return Cn.current.useInsertionEffect(n,e)};Te.useLayoutEffect=function(n,e){return Cn.current.useLayoutEffect(n,e)};Te.useMemo=function(n,e){return Cn.current.useMemo(n,e)};Te.useReducer=function(n,e,t){return Cn.current.useReducer(n,e,t)};Te.useRef=function(n){return Cn.current.useRef(n)};Te.useState=function(n){return Cn.current.useState(n)};Te.useSyncExternalStore=function(n,e,t){return Cn.current.useSyncExternalStore(n,e,t)};Te.useTransition=function(){return Cn.current.useTransition()};Te.version="18.3.1";Kx.exports=Te;var L=Kx.exports;const Es=v_(L),zv=qx({__proto__:null,default:Es},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yP=L,vP=Symbol.for("react.element"),wP=Symbol.for("react.fragment"),_P=Object.prototype.hasOwnProperty,bP=yP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EP={key:!0,ref:!0,__self:!0,__source:!0};function iA(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)_P.call(e,r)&&!EP.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vP,type:n,key:s,ref:o,props:i,_owner:bP.current}}Kg.Fragment=wP;Kg.jsx=iA;Kg.jsxs=iA;Xx.exports=Kg;var M=Xx.exports,sA={exports:{}},dr={},oA={exports:{}},aA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,$){var ie=F.length;F.push($);e:for(;0<ie;){var Re=ie-1>>>1,ue=F[Re];if(0<i(ue,$))F[Re]=$,F[ie]=ue,ie=Re;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var $=F[0],ie=F.pop();if(ie!==$){F[0]=ie;e:for(var Re=0,ue=F.length,Ee=ue>>>1;Re<Ee;){var Ye=2*(Re+1)-1,lt=F[Ye],De=Ye+1,Se=F[De];if(0>i(lt,ie))De<ue&&0>i(Se,lt)?(F[Re]=Se,F[De]=ie,Re=De):(F[Re]=lt,F[Ye]=ie,Re=Ye);else if(De<ue&&0>i(Se,ie))F[Re]=Se,F[De]=ie,Re=De;else break e}}return $}function i(F,$){var ie=F.sortIndex-$.sortIndex;return ie!==0?ie:F.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,m=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(F){for(var $=t(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=F)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=t(u)}}function x(F){if(y=!1,_(F),!m)if(t(l)!==null)m=!0,pe(C);else{var $=t(u);$!==null&&V(x,$.startTime-F)}}function C(F,$){m=!1,y&&(y=!1,g(A),A=-1),p=!0;var ie=f;try{for(_($),h=t(l);h!==null&&(!(h.expirationTime>$)||F&&!j());){var Re=h.callback;if(typeof Re=="function"){h.callback=null,f=h.priorityLevel;var ue=Re(h.expirationTime<=$);$=n.unstable_now(),typeof ue=="function"?h.callback=ue:h===t(l)&&r(l),_($)}else r(l);h=t(l)}if(h!==null)var Ee=!0;else{var Ye=t(u);Ye!==null&&V(x,Ye.startTime-$),Ee=!1}return Ee}finally{h=null,f=ie,p=!1}}var k=!1,P=null,A=-1,D=5,I=-1;function j(){return!(n.unstable_now()-I<D)}function ne(){if(P!==null){var F=n.unstable_now();I=F;var $=!0;try{$=P(!0,F)}finally{$?J():(k=!1,P=null)}}else k=!1}var J;if(typeof v=="function")J=function(){v(ne)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,he=X.port2;X.port1.onmessage=ne,J=function(){he.postMessage(null)}}else J=function(){w(ne,0)};function pe(F){P=F,k||(k=!0,J())}function V(F,$){A=w(function(){F(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){m||p||(m=!0,pe(C))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var ie=f;f=$;try{return F()}finally{f=ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ie=f;f=F;try{return $()}finally{f=ie}},n.unstable_scheduleCallback=function(F,$,ie){var Re=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Re+ie:Re):ie=Re,F){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ie+ue,F={id:d++,callback:$,priorityLevel:F,startTime:ie,expirationTime:ue,sortIndex:-1},ie>Re?(F.sortIndex=ie,e(u,F),t(l)===null&&F===t(u)&&(y?(g(A),A=-1):y=!0,V(x,ie-Re))):(F.sortIndex=ue,e(l,F),m||p||(m=!0,pe(C))),F},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(F){var $=f;return function(){var ie=f;f=$;try{return F.apply(this,arguments)}finally{f=ie}}}})(aA);oA.exports=aA;var SP=oA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP=L,lr=SP;function B(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lA=new Set,Rd={};function Tl(n,e){hc(n,e),hc(n+"Capture",e)}function hc(n,e){for(Rd[n]=e,n=0;n<e.length;n++)lA.add(e[n])}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bv=Object.prototype.hasOwnProperty,AP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lE={},uE={};function CP(n){return Bv.call(uE,n)?!0:Bv.call(lE,n)?!1:AP.test(n)?uE[n]=!0:(lE[n]=!0,!1)}function kP(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function TP(n,e,t,r){if(e===null||typeof e>"u"||kP(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kn(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){rn[n]=new kn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];rn[e]=new kn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){rn[n]=new kn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){rn[n]=new kn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){rn[n]=new kn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){rn[n]=new kn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){rn[n]=new kn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){rn[n]=new kn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){rn[n]=new kn(n,5,!1,n.toLowerCase(),null,!1,!1)});var S_=/[\-:]([a-z])/g;function x_(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(S_,x_);rn[e]=new kn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(S_,x_);rn[e]=new kn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(S_,x_);rn[e]=new kn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){rn[n]=new kn(n,1,!1,n.toLowerCase(),null,!1,!1)});rn.xlinkHref=new kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){rn[n]=new kn(n,1,!1,n.toLowerCase(),null,!0,!0)});function A_(n,e,t,r){var i=rn.hasOwnProperty(e)?rn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(TP(e,t,i,r)&&(t=null),r||i===null?CP(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Is=xP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yp=Symbol.for("react.element"),Wl=Symbol.for("react.portal"),Gl=Symbol.for("react.fragment"),C_=Symbol.for("react.strict_mode"),Uv=Symbol.for("react.profiler"),uA=Symbol.for("react.provider"),cA=Symbol.for("react.context"),k_=Symbol.for("react.forward_ref"),Hv=Symbol.for("react.suspense"),$v=Symbol.for("react.suspense_list"),T_=Symbol.for("react.memo"),Gs=Symbol.for("react.lazy"),dA=Symbol.for("react.offscreen"),cE=Symbol.iterator;function Oc(n){return n===null||typeof n!="object"?null:(n=cE&&n[cE]||n["@@iterator"],typeof n=="function"?n:null)}var gt=Object.assign,Yy;function Xc(n){if(Yy===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Yy=e&&e[1]||""}return`
`+Yy+n}var Zy=!1;function Qy(n,e){if(!n||Zy)return"";Zy=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Zy=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Xc(n):""}function RP(n){switch(n.tag){case 5:return Xc(n.type);case 16:return Xc("Lazy");case 13:return Xc("Suspense");case 19:return Xc("SuspenseList");case 0:case 2:case 15:return n=Qy(n.type,!1),n;case 11:return n=Qy(n.type.render,!1),n;case 1:return n=Qy(n.type,!0),n;default:return""}}function Vv(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Gl:return"Fragment";case Wl:return"Portal";case Uv:return"Profiler";case C_:return"StrictMode";case Hv:return"Suspense";case $v:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case cA:return(n.displayName||"Context")+".Consumer";case uA:return(n._context.displayName||"Context")+".Provider";case k_:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case T_:return e=n.displayName||null,e!==null?e:Vv(n.type)||"Memo";case Gs:e=n._payload,n=n._init;try{return Vv(n(e))}catch{}}return null}function PP(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vv(e);case 8:return e===C_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function hA(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LP(n){var e=hA(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function vp(n){n._valueTracker||(n._valueTracker=LP(n))}function fA(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=hA(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Mm(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Wv(n,e){var t=e.checked;return gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function dE(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Lo(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pA(n,e){e=e.checked,e!=null&&A_(n,"checked",e,!1)}function Gv(n,e){pA(n,e);var t=Lo(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?qv(n,e.type,t):e.hasOwnProperty("defaultValue")&&qv(n,e.type,Lo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function hE(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function qv(n,e,t){(e!=="number"||Mm(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Kc=Array.isArray;function ou(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Lo(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Xv(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return gt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function fE(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(B(92));if(Kc(t)){if(1<t.length)throw Error(B(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Lo(t)}}function mA(n,e){var t=Lo(e.value),r=Lo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function pE(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function gA(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kv(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?gA(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var wp,yA=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(wp=wp||document.createElement("div"),wp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wp.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Pd(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var yd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MP=["Webkit","ms","Moz","O"];Object.keys(yd).forEach(function(n){MP.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),yd[e]=yd[n]})});function vA(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||yd.hasOwnProperty(n)&&yd[n]?(""+e).trim():e+"px"}function wA(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=vA(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var OP=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yv(n,e){if(e){if(OP[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Zv(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qv=null;function R_(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Jv=null,au=null,lu=null;function mE(n){if(n=Xf(n)){if(typeof Jv!="function")throw Error(B(280));var e=n.stateNode;e&&(e=ey(e),Jv(n.stateNode,n.type,e))}}function _A(n){au?lu?lu.push(n):lu=[n]:au=n}function bA(){if(au){var n=au,e=lu;if(lu=au=null,mE(n),e)for(n=0;n<e.length;n++)mE(e[n])}}function EA(n,e){return n(e)}function SA(){}var Jy=!1;function xA(n,e,t){if(Jy)return n(e,t);Jy=!0;try{return EA(n,e,t)}finally{Jy=!1,(au!==null||lu!==null)&&(SA(),bA())}}function Ld(n,e){var t=n.stateNode;if(t===null)return null;var r=ey(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(B(231,e,typeof t));return t}var e0=!1;if(Ts)try{var Dc={};Object.defineProperty(Dc,"passive",{get:function(){e0=!0}}),window.addEventListener("test",Dc,Dc),window.removeEventListener("test",Dc,Dc)}catch{e0=!1}function DP(n,e,t,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var vd=!1,Om=null,Dm=!1,t0=null,NP={onError:function(n){vd=!0,Om=n}};function IP(n,e,t,r,i,s,o,a,l){vd=!1,Om=null,DP.apply(NP,arguments)}function FP(n,e,t,r,i,s,o,a,l){if(IP.apply(this,arguments),vd){if(vd){var u=Om;vd=!1,Om=null}else throw Error(B(198));Dm||(Dm=!0,t0=u)}}function Rl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function AA(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function gE(n){if(Rl(n)!==n)throw Error(B(188))}function jP(n){var e=n.alternate;if(!e){if(e=Rl(n),e===null)throw Error(B(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return gE(i),n;if(s===r)return gE(i),e;s=s.sibling}throw Error(B(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(t.alternate!==r)throw Error(B(190))}if(t.tag!==3)throw Error(B(188));return t.stateNode.current===t?n:e}function CA(n){return n=jP(n),n!==null?kA(n):null}function kA(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=kA(n);if(e!==null)return e;n=n.sibling}return null}var TA=lr.unstable_scheduleCallback,yE=lr.unstable_cancelCallback,zP=lr.unstable_shouldYield,BP=lr.unstable_requestPaint,St=lr.unstable_now,UP=lr.unstable_getCurrentPriorityLevel,P_=lr.unstable_ImmediatePriority,RA=lr.unstable_UserBlockingPriority,Nm=lr.unstable_NormalPriority,HP=lr.unstable_LowPriority,PA=lr.unstable_IdlePriority,Yg=null,Ti=null;function $P(n){if(Ti&&typeof Ti.onCommitFiberRoot=="function")try{Ti.onCommitFiberRoot(Yg,n,void 0,(n.current.flags&128)===128)}catch{}}var Qr=Math.clz32?Math.clz32:GP,VP=Math.log,WP=Math.LN2;function GP(n){return n>>>=0,n===0?32:31-(VP(n)/WP|0)|0}var _p=64,bp=4194304;function Yc(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Im(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Yc(a):(s&=o,s!==0&&(r=Yc(s)))}else o=t&~i,o!==0?r=Yc(o):s!==0&&(r=Yc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Qr(e),i=1<<t,r|=n[t],e&=~i;return r}function qP(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XP(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Qr(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=qP(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function n0(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function LA(){var n=_p;return _p<<=1,!(_p&4194240)&&(_p=64),n}function ev(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Gf(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Qr(e),n[e]=t}function KP(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Qr(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function L_(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Qr(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var $e=0;function MA(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var OA,M_,DA,NA,IA,r0=!1,Ep=[],Eo=null,So=null,xo=null,Md=new Map,Od=new Map,Xs=[],YP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vE(n,e){switch(n){case"focusin":case"focusout":Eo=null;break;case"dragenter":case"dragleave":So=null;break;case"mouseover":case"mouseout":xo=null;break;case"pointerover":case"pointerout":Md.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Od.delete(e.pointerId)}}function Nc(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xf(e),e!==null&&M_(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function ZP(n,e,t,r,i){switch(e){case"focusin":return Eo=Nc(Eo,n,e,t,r,i),!0;case"dragenter":return So=Nc(So,n,e,t,r,i),!0;case"mouseover":return xo=Nc(xo,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Md.set(s,Nc(Md.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Od.set(s,Nc(Od.get(s)||null,n,e,t,r,i)),!0}return!1}function FA(n){var e=aa(n.target);if(e!==null){var t=Rl(e);if(t!==null){if(e=t.tag,e===13){if(e=AA(t),e!==null){n.blockedOn=e,IA(n.priority,function(){DA(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Hp(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=i0(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Qv=r,t.target.dispatchEvent(r),Qv=null}else return e=Xf(t),e!==null&&M_(e),n.blockedOn=t,!1;e.shift()}return!0}function wE(n,e,t){Hp(n)&&t.delete(e)}function QP(){r0=!1,Eo!==null&&Hp(Eo)&&(Eo=null),So!==null&&Hp(So)&&(So=null),xo!==null&&Hp(xo)&&(xo=null),Md.forEach(wE),Od.forEach(wE)}function Ic(n,e){n.blockedOn===e&&(n.blockedOn=null,r0||(r0=!0,lr.unstable_scheduleCallback(lr.unstable_NormalPriority,QP)))}function Dd(n){function e(i){return Ic(i,n)}if(0<Ep.length){Ic(Ep[0],n);for(var t=1;t<Ep.length;t++){var r=Ep[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Eo!==null&&Ic(Eo,n),So!==null&&Ic(So,n),xo!==null&&Ic(xo,n),Md.forEach(e),Od.forEach(e),t=0;t<Xs.length;t++)r=Xs[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Xs.length&&(t=Xs[0],t.blockedOn===null);)FA(t),t.blockedOn===null&&Xs.shift()}var uu=Is.ReactCurrentBatchConfig,Fm=!0;function JP(n,e,t,r){var i=$e,s=uu.transition;uu.transition=null;try{$e=1,O_(n,e,t,r)}finally{$e=i,uu.transition=s}}function eL(n,e,t,r){var i=$e,s=uu.transition;uu.transition=null;try{$e=4,O_(n,e,t,r)}finally{$e=i,uu.transition=s}}function O_(n,e,t,r){if(Fm){var i=i0(n,e,t,r);if(i===null)cv(n,e,r,jm,t),vE(n,r);else if(ZP(i,n,e,t,r))r.stopPropagation();else if(vE(n,r),e&4&&-1<YP.indexOf(n)){for(;i!==null;){var s=Xf(i);if(s!==null&&OA(s),s=i0(n,e,t,r),s===null&&cv(n,e,r,jm,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else cv(n,e,r,null,t)}}var jm=null;function i0(n,e,t,r){if(jm=null,n=R_(r),n=aa(n),n!==null)if(e=Rl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=AA(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return jm=n,null}function jA(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UP()){case P_:return 1;case RA:return 4;case Nm:case HP:return 16;case PA:return 536870912;default:return 16}default:return 16}}var _o=null,D_=null,$p=null;function zA(){if($p)return $p;var n,e=D_,t=e.length,r,i="value"in _o?_o.value:_o.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return $p=i.slice(n,1<r?1-r:void 0)}function Vp(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Sp(){return!0}function _E(){return!1}function hr(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Sp:_E,this.isPropagationStopped=_E,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Sp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Sp)},persist:function(){},isPersistent:Sp}),e}var kc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},N_=hr(kc),qf=gt({},kc,{view:0,detail:0}),tL=hr(qf),tv,nv,Fc,Zg=gt({},qf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I_,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Fc&&(Fc&&n.type==="mousemove"?(tv=n.screenX-Fc.screenX,nv=n.screenY-Fc.screenY):nv=tv=0,Fc=n),tv)},movementY:function(n){return"movementY"in n?n.movementY:nv}}),bE=hr(Zg),nL=gt({},Zg,{dataTransfer:0}),rL=hr(nL),iL=gt({},qf,{relatedTarget:0}),rv=hr(iL),sL=gt({},kc,{animationName:0,elapsedTime:0,pseudoElement:0}),oL=hr(sL),aL=gt({},kc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),lL=hr(aL),uL=gt({},kc,{data:0}),EE=hr(uL),cL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fL(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=hL[n])?!!e[n]:!1}function I_(){return fL}var pL=gt({},qf,{key:function(n){if(n.key){var e=cL[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Vp(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?dL[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I_,charCode:function(n){return n.type==="keypress"?Vp(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Vp(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),mL=hr(pL),gL=gt({},Zg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SE=hr(gL),yL=gt({},qf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I_}),vL=hr(yL),wL=gt({},kc,{propertyName:0,elapsedTime:0,pseudoElement:0}),_L=hr(wL),bL=gt({},Zg,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),EL=hr(bL),SL=[9,13,27,32],F_=Ts&&"CompositionEvent"in window,wd=null;Ts&&"documentMode"in document&&(wd=document.documentMode);var xL=Ts&&"TextEvent"in window&&!wd,BA=Ts&&(!F_||wd&&8<wd&&11>=wd),xE=" ",AE=!1;function UA(n,e){switch(n){case"keyup":return SL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HA(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ql=!1;function AL(n,e){switch(n){case"compositionend":return HA(e);case"keypress":return e.which!==32?null:(AE=!0,xE);case"textInput":return n=e.data,n===xE&&AE?null:n;default:return null}}function CL(n,e){if(ql)return n==="compositionend"||!F_&&UA(n,e)?(n=zA(),$p=D_=_o=null,ql=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return BA&&e.locale!=="ko"?null:e.data;default:return null}}var kL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CE(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!kL[n.type]:e==="textarea"}function $A(n,e,t,r){_A(r),e=zm(e,"onChange"),0<e.length&&(t=new N_("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var _d=null,Nd=null;function TL(n){e1(n,0)}function Qg(n){var e=Yl(n);if(fA(e))return n}function RL(n,e){if(n==="change")return e}var VA=!1;if(Ts){var iv;if(Ts){var sv="oninput"in document;if(!sv){var kE=document.createElement("div");kE.setAttribute("oninput","return;"),sv=typeof kE.oninput=="function"}iv=sv}else iv=!1;VA=iv&&(!document.documentMode||9<document.documentMode)}function TE(){_d&&(_d.detachEvent("onpropertychange",WA),Nd=_d=null)}function WA(n){if(n.propertyName==="value"&&Qg(Nd)){var e=[];$A(e,Nd,n,R_(n)),xA(TL,e)}}function PL(n,e,t){n==="focusin"?(TE(),_d=e,Nd=t,_d.attachEvent("onpropertychange",WA)):n==="focusout"&&TE()}function LL(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Qg(Nd)}function ML(n,e){if(n==="click")return Qg(e)}function OL(n,e){if(n==="input"||n==="change")return Qg(e)}function DL(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ni=typeof Object.is=="function"?Object.is:DL;function Id(n,e){if(ni(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!Bv.call(e,i)||!ni(n[i],e[i]))return!1}return!0}function RE(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function PE(n,e){var t=RE(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=RE(t)}}function GA(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?GA(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function qA(){for(var n=window,e=Mm();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Mm(n.document)}return e}function j_(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function NL(n){var e=qA(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&GA(t.ownerDocument.documentElement,t)){if(r!==null&&j_(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=PE(t,s);var o=PE(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var IL=Ts&&"documentMode"in document&&11>=document.documentMode,Xl=null,s0=null,bd=null,o0=!1;function LE(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;o0||Xl==null||Xl!==Mm(r)||(r=Xl,"selectionStart"in r&&j_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bd&&Id(bd,r)||(bd=r,r=zm(s0,"onSelect"),0<r.length&&(e=new N_("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Xl)))}function xp(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Kl={animationend:xp("Animation","AnimationEnd"),animationiteration:xp("Animation","AnimationIteration"),animationstart:xp("Animation","AnimationStart"),transitionend:xp("Transition","TransitionEnd")},ov={},XA={};Ts&&(XA=document.createElement("div").style,"AnimationEvent"in window||(delete Kl.animationend.animation,delete Kl.animationiteration.animation,delete Kl.animationstart.animation),"TransitionEvent"in window||delete Kl.transitionend.transition);function Jg(n){if(ov[n])return ov[n];if(!Kl[n])return n;var e=Kl[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in XA)return ov[n]=e[t];return n}var KA=Jg("animationend"),YA=Jg("animationiteration"),ZA=Jg("animationstart"),QA=Jg("transitionend"),JA=new Map,ME="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Uo(n,e){JA.set(n,e),Tl(e,[n])}for(var av=0;av<ME.length;av++){var lv=ME[av],FL=lv.toLowerCase(),jL=lv[0].toUpperCase()+lv.slice(1);Uo(FL,"on"+jL)}Uo(KA,"onAnimationEnd");Uo(YA,"onAnimationIteration");Uo(ZA,"onAnimationStart");Uo("dblclick","onDoubleClick");Uo("focusin","onFocus");Uo("focusout","onBlur");Uo(QA,"onTransitionEnd");hc("onMouseEnter",["mouseout","mouseover"]);hc("onMouseLeave",["mouseout","mouseover"]);hc("onPointerEnter",["pointerout","pointerover"]);hc("onPointerLeave",["pointerout","pointerover"]);Tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zc));function OE(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,FP(r,e,void 0,n),n.currentTarget=null}function e1(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;OE(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;OE(i,a,u),s=l}}}if(Dm)throw n=t0,Dm=!1,t0=null,n}function it(n,e){var t=e[d0];t===void 0&&(t=e[d0]=new Set);var r=n+"__bubble";t.has(r)||(t1(e,n,2,!1),t.add(r))}function uv(n,e,t){var r=0;e&&(r|=4),t1(t,n,r,e)}var Ap="_reactListening"+Math.random().toString(36).slice(2);function Fd(n){if(!n[Ap]){n[Ap]=!0,lA.forEach(function(t){t!=="selectionchange"&&(zL.has(t)||uv(t,!1,n),uv(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Ap]||(e[Ap]=!0,uv("selectionchange",!1,e))}}function t1(n,e,t,r){switch(jA(e)){case 1:var i=JP;break;case 4:i=eL;break;default:i=O_}t=i.bind(null,e,t,n),i=void 0,!e0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function cv(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=aa(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}xA(function(){var u=s,d=R_(t),h=[];e:{var f=JA.get(n);if(f!==void 0){var p=N_,m=n;switch(n){case"keypress":if(Vp(t)===0)break e;case"keydown":case"keyup":p=mL;break;case"focusin":m="focus",p=rv;break;case"focusout":m="blur",p=rv;break;case"beforeblur":case"afterblur":p=rv;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=bE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=rL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=vL;break;case KA:case YA:case ZA:p=oL;break;case QA:p=_L;break;case"scroll":p=tL;break;case"wheel":p=EL;break;case"copy":case"cut":case"paste":p=lL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=SE}var y=(e&4)!==0,w=!y&&n==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=u,_;v!==null;){_=v;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,g!==null&&(x=Ld(v,g),x!=null&&y.push(jd(v,x,_)))),w)break;v=v.return}0<y.length&&(f=new p(f,m,null,t,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==Qv&&(m=t.relatedTarget||t.fromElement)&&(aa(m)||m[Rs]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=t.relatedTarget||t.toElement,p=u,m=m?aa(m):null,m!==null&&(w=Rl(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(y=bE,x="onMouseLeave",g="onMouseEnter",v="mouse",(n==="pointerout"||n==="pointerover")&&(y=SE,x="onPointerLeave",g="onPointerEnter",v="pointer"),w=p==null?f:Yl(p),_=m==null?f:Yl(m),f=new y(x,v+"leave",p,t,d),f.target=w,f.relatedTarget=_,x=null,aa(d)===u&&(y=new y(g,v+"enter",m,t,d),y.target=_,y.relatedTarget=w,x=y),w=x,p&&m)t:{for(y=p,g=m,v=0,_=y;_;_=Il(_))v++;for(_=0,x=g;x;x=Il(x))_++;for(;0<v-_;)y=Il(y),v--;for(;0<_-v;)g=Il(g),_--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=Il(y),g=Il(g)}y=null}else y=null;p!==null&&DE(h,f,p,y,!1),m!==null&&w!==null&&DE(h,w,m,y,!0)}}e:{if(f=u?Yl(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=RL;else if(CE(f))if(VA)C=OL;else{C=LL;var k=PL}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=ML);if(C&&(C=C(n,u))){$A(h,C,t,d);break e}k&&k(n,f,u),n==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&qv(f,"number",f.value)}switch(k=u?Yl(u):window,n){case"focusin":(CE(k)||k.contentEditable==="true")&&(Xl=k,s0=u,bd=null);break;case"focusout":bd=s0=Xl=null;break;case"mousedown":o0=!0;break;case"contextmenu":case"mouseup":case"dragend":o0=!1,LE(h,t,d);break;case"selectionchange":if(IL)break;case"keydown":case"keyup":LE(h,t,d)}var P;if(F_)e:{switch(n){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ql?UA(n,t)&&(A="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(A="onCompositionStart");A&&(BA&&t.locale!=="ko"&&(ql||A!=="onCompositionStart"?A==="onCompositionEnd"&&ql&&(P=zA()):(_o=d,D_="value"in _o?_o.value:_o.textContent,ql=!0)),k=zm(u,A),0<k.length&&(A=new EE(A,n,null,t,d),h.push({event:A,listeners:k}),P?A.data=P:(P=HA(t),P!==null&&(A.data=P)))),(P=xL?AL(n,t):CL(n,t))&&(u=zm(u,"onBeforeInput"),0<u.length&&(d=new EE("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=P))}e1(h,e)})}function jd(n,e,t){return{instance:n,listener:e,currentTarget:t}}function zm(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ld(n,t),s!=null&&r.unshift(jd(n,s,i)),s=Ld(n,e),s!=null&&r.push(jd(n,s,i))),n=n.return}return r}function Il(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function DE(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ld(t,s),l!=null&&o.unshift(jd(t,l,a))):i||(l=Ld(t,s),l!=null&&o.push(jd(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var BL=/\r\n?/g,UL=/\u0000|\uFFFD/g;function NE(n){return(typeof n=="string"?n:""+n).replace(BL,`
`).replace(UL,"")}function Cp(n,e,t){if(e=NE(e),NE(n)!==e&&t)throw Error(B(425))}function Bm(){}var a0=null,l0=null;function u0(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var c0=typeof setTimeout=="function"?setTimeout:void 0,HL=typeof clearTimeout=="function"?clearTimeout:void 0,IE=typeof Promise=="function"?Promise:void 0,$L=typeof queueMicrotask=="function"?queueMicrotask:typeof IE<"u"?function(n){return IE.resolve(null).then(n).catch(VL)}:c0;function VL(n){setTimeout(function(){throw n})}function dv(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Dd(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Dd(e)}function Ao(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function FE(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Tc=Math.random().toString(36).slice(2),Ci="__reactFiber$"+Tc,zd="__reactProps$"+Tc,Rs="__reactContainer$"+Tc,d0="__reactEvents$"+Tc,WL="__reactListeners$"+Tc,GL="__reactHandles$"+Tc;function aa(n){var e=n[Ci];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Rs]||t[Ci]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=FE(n);n!==null;){if(t=n[Ci])return t;n=FE(n)}return e}n=t,t=n.parentNode}return null}function Xf(n){return n=n[Ci]||n[Rs],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Yl(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(B(33))}function ey(n){return n[zd]||null}var h0=[],Zl=-1;function Ho(n){return{current:n}}function st(n){0>Zl||(n.current=h0[Zl],h0[Zl]=null,Zl--)}function rt(n,e){Zl++,h0[Zl]=n.current,n.current=e}var Mo={},pn=Ho(Mo),In=Ho(!1),hl=Mo;function fc(n,e){var t=n.type.contextTypes;if(!t)return Mo;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Fn(n){return n=n.childContextTypes,n!=null}function Um(){st(In),st(pn)}function jE(n,e,t){if(pn.current!==Mo)throw Error(B(168));rt(pn,e),rt(In,t)}function n1(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,PP(n)||"Unknown",i));return gt({},t,r)}function Hm(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Mo,hl=pn.current,rt(pn,n),rt(In,In.current),!0}function zE(n,e,t){var r=n.stateNode;if(!r)throw Error(B(169));t?(n=n1(n,e,hl),r.__reactInternalMemoizedMergedChildContext=n,st(In),st(pn),rt(pn,n)):st(In),rt(In,t)}var Xi=null,ty=!1,hv=!1;function r1(n){Xi===null?Xi=[n]:Xi.push(n)}function qL(n){ty=!0,r1(n)}function $o(){if(!hv&&Xi!==null){hv=!0;var n=0,e=$e;try{var t=Xi;for($e=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Xi=null,ty=!1}catch(i){throw Xi!==null&&(Xi=Xi.slice(n+1)),TA(P_,$o),i}finally{$e=e,hv=!1}}return null}var Ql=[],Jl=0,$m=null,Vm=0,Er=[],Sr=0,fl=null,_s=1,bs="";function Qo(n,e){Ql[Jl++]=Vm,Ql[Jl++]=$m,$m=n,Vm=e}function i1(n,e,t){Er[Sr++]=_s,Er[Sr++]=bs,Er[Sr++]=fl,fl=n;var r=_s;n=bs;var i=32-Qr(r)-1;r&=~(1<<i),t+=1;var s=32-Qr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_s=1<<32-Qr(e)+i|t<<i|r,bs=s+n}else _s=1<<s|t<<i|r,bs=n}function z_(n){n.return!==null&&(Qo(n,1),i1(n,1,0))}function B_(n){for(;n===$m;)$m=Ql[--Jl],Ql[Jl]=null,Vm=Ql[--Jl],Ql[Jl]=null;for(;n===fl;)fl=Er[--Sr],Er[Sr]=null,bs=Er[--Sr],Er[Sr]=null,_s=Er[--Sr],Er[Sr]=null}var sr=null,rr=null,at=!1,Kr=null;function s1(n,e){var t=Cr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function BE(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,sr=n,rr=Ao(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,sr=n,rr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=fl!==null?{id:_s,overflow:bs}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Cr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,sr=n,rr=null,!0):!1;default:return!1}}function f0(n){return(n.mode&1)!==0&&(n.flags&128)===0}function p0(n){if(at){var e=rr;if(e){var t=e;if(!BE(n,e)){if(f0(n))throw Error(B(418));e=Ao(t.nextSibling);var r=sr;e&&BE(n,e)?s1(r,t):(n.flags=n.flags&-4097|2,at=!1,sr=n)}}else{if(f0(n))throw Error(B(418));n.flags=n.flags&-4097|2,at=!1,sr=n}}}function UE(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;sr=n}function kp(n){if(n!==sr)return!1;if(!at)return UE(n),at=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!u0(n.type,n.memoizedProps)),e&&(e=rr)){if(f0(n))throw o1(),Error(B(418));for(;e;)s1(n,e),e=Ao(e.nextSibling)}if(UE(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(B(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){rr=Ao(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}rr=null}}else rr=sr?Ao(n.stateNode.nextSibling):null;return!0}function o1(){for(var n=rr;n;)n=Ao(n.nextSibling)}function pc(){rr=sr=null,at=!1}function U_(n){Kr===null?Kr=[n]:Kr.push(n)}var XL=Is.ReactCurrentBatchConfig;function jc(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(B(309));var r=t.stateNode}if(!r)throw Error(B(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(B(284));if(!t._owner)throw Error(B(290,n))}return n}function Tp(n,e){throw n=Object.prototype.toString.call(e),Error(B(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function HE(n){var e=n._init;return e(n._payload)}function a1(n){function e(g,v){if(n){var _=g.deletions;_===null?(g.deletions=[v],g.flags|=16):_.push(v)}}function t(g,v){if(!n)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Ro(g,v),g.index=0,g.sibling=null,g}function s(g,v,_){return g.index=_,n?(_=g.alternate,_!==null?(_=_.index,_<v?(g.flags|=2,v):_):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,v,_,x){return v===null||v.tag!==6?(v=wv(_,g.mode,x),v.return=g,v):(v=i(v,_),v.return=g,v)}function l(g,v,_,x){var C=_.type;return C===Gl?d(g,v,_.props.children,x,_.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Gs&&HE(C)===v.type)?(x=i(v,_.props),x.ref=jc(g,v,_),x.return=g,x):(x=Zp(_.type,_.key,_.props,null,g.mode,x),x.ref=jc(g,v,_),x.return=g,x)}function u(g,v,_,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=_v(_,g.mode,x),v.return=g,v):(v=i(v,_.children||[]),v.return=g,v)}function d(g,v,_,x,C){return v===null||v.tag!==7?(v=ul(_,g.mode,x,C),v.return=g,v):(v=i(v,_),v.return=g,v)}function h(g,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=wv(""+v,g.mode,_),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case yp:return _=Zp(v.type,v.key,v.props,null,g.mode,_),_.ref=jc(g,null,v),_.return=g,_;case Wl:return v=_v(v,g.mode,_),v.return=g,v;case Gs:var x=v._init;return h(g,x(v._payload),_)}if(Kc(v)||Oc(v))return v=ul(v,g.mode,_,null),v.return=g,v;Tp(g,v)}return null}function f(g,v,_,x){var C=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return C!==null?null:a(g,v,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yp:return _.key===C?l(g,v,_,x):null;case Wl:return _.key===C?u(g,v,_,x):null;case Gs:return C=_._init,f(g,v,C(_._payload),x)}if(Kc(_)||Oc(_))return C!==null?null:d(g,v,_,x,null);Tp(g,_)}return null}function p(g,v,_,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(_)||null,a(v,g,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yp:return g=g.get(x.key===null?_:x.key)||null,l(v,g,x,C);case Wl:return g=g.get(x.key===null?_:x.key)||null,u(v,g,x,C);case Gs:var k=x._init;return p(g,v,_,k(x._payload),C)}if(Kc(x)||Oc(x))return g=g.get(_)||null,d(v,g,x,C,null);Tp(v,x)}return null}function m(g,v,_,x){for(var C=null,k=null,P=v,A=v=0,D=null;P!==null&&A<_.length;A++){P.index>A?(D=P,P=null):D=P.sibling;var I=f(g,P,_[A],x);if(I===null){P===null&&(P=D);break}n&&P&&I.alternate===null&&e(g,P),v=s(I,v,A),k===null?C=I:k.sibling=I,k=I,P=D}if(A===_.length)return t(g,P),at&&Qo(g,A),C;if(P===null){for(;A<_.length;A++)P=h(g,_[A],x),P!==null&&(v=s(P,v,A),k===null?C=P:k.sibling=P,k=P);return at&&Qo(g,A),C}for(P=r(g,P);A<_.length;A++)D=p(P,g,A,_[A],x),D!==null&&(n&&D.alternate!==null&&P.delete(D.key===null?A:D.key),v=s(D,v,A),k===null?C=D:k.sibling=D,k=D);return n&&P.forEach(function(j){return e(g,j)}),at&&Qo(g,A),C}function y(g,v,_,x){var C=Oc(_);if(typeof C!="function")throw Error(B(150));if(_=C.call(_),_==null)throw Error(B(151));for(var k=C=null,P=v,A=v=0,D=null,I=_.next();P!==null&&!I.done;A++,I=_.next()){P.index>A?(D=P,P=null):D=P.sibling;var j=f(g,P,I.value,x);if(j===null){P===null&&(P=D);break}n&&P&&j.alternate===null&&e(g,P),v=s(j,v,A),k===null?C=j:k.sibling=j,k=j,P=D}if(I.done)return t(g,P),at&&Qo(g,A),C;if(P===null){for(;!I.done;A++,I=_.next())I=h(g,I.value,x),I!==null&&(v=s(I,v,A),k===null?C=I:k.sibling=I,k=I);return at&&Qo(g,A),C}for(P=r(g,P);!I.done;A++,I=_.next())I=p(P,g,A,I.value,x),I!==null&&(n&&I.alternate!==null&&P.delete(I.key===null?A:I.key),v=s(I,v,A),k===null?C=I:k.sibling=I,k=I);return n&&P.forEach(function(ne){return e(g,ne)}),at&&Qo(g,A),C}function w(g,v,_,x){if(typeof _=="object"&&_!==null&&_.type===Gl&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case yp:e:{for(var C=_.key,k=v;k!==null;){if(k.key===C){if(C=_.type,C===Gl){if(k.tag===7){t(g,k.sibling),v=i(k,_.props.children),v.return=g,g=v;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Gs&&HE(C)===k.type){t(g,k.sibling),v=i(k,_.props),v.ref=jc(g,k,_),v.return=g,g=v;break e}t(g,k);break}else e(g,k);k=k.sibling}_.type===Gl?(v=ul(_.props.children,g.mode,x,_.key),v.return=g,g=v):(x=Zp(_.type,_.key,_.props,null,g.mode,x),x.ref=jc(g,v,_),x.return=g,g=x)}return o(g);case Wl:e:{for(k=_.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){t(g,v.sibling),v=i(v,_.children||[]),v.return=g,g=v;break e}else{t(g,v);break}else e(g,v);v=v.sibling}v=_v(_,g.mode,x),v.return=g,g=v}return o(g);case Gs:return k=_._init,w(g,v,k(_._payload),x)}if(Kc(_))return m(g,v,_,x);if(Oc(_))return y(g,v,_,x);Tp(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(t(g,v.sibling),v=i(v,_),v.return=g,g=v):(t(g,v),v=wv(_,g.mode,x),v.return=g,g=v),o(g)):t(g,v)}return w}var mc=a1(!0),l1=a1(!1),Wm=Ho(null),Gm=null,eu=null,H_=null;function $_(){H_=eu=Gm=null}function V_(n){var e=Wm.current;st(Wm),n._currentValue=e}function m0(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function cu(n,e){Gm=n,H_=eu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(On=!0),n.firstContext=null)}function Tr(n){var e=n._currentValue;if(H_!==n)if(n={context:n,memoizedValue:e,next:null},eu===null){if(Gm===null)throw Error(B(308));eu=n,Gm.dependencies={lanes:0,firstContext:n}}else eu=eu.next=n;return e}var la=null;function W_(n){la===null?la=[n]:la.push(n)}function u1(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,W_(e)):(t.next=i.next,i.next=t),e.interleaved=t,Ps(n,r)}function Ps(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var qs=!1;function G_(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function c1(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ss(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Co(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ps(n,t)}return i=r.interleaved,i===null?(e.next=e,W_(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ps(n,t)}function Wp(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,L_(n,t)}}function $E(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function qm(n,e,t,r){var i=n.updateQueue;qs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=n,y=a;switch(f=e,p=t,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=gt({},h,f);break e;case 2:qs=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ml|=o,n.lanes=o,n.memoizedState=h}}function VE(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var Kf={},Ri=Ho(Kf),Bd=Ho(Kf),Ud=Ho(Kf);function ua(n){if(n===Kf)throw Error(B(174));return n}function q_(n,e){switch(rt(Ud,e),rt(Bd,n),rt(Ri,Kf),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kv(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Kv(e,n)}st(Ri),rt(Ri,e)}function gc(){st(Ri),st(Bd),st(Ud)}function d1(n){ua(Ud.current);var e=ua(Ri.current),t=Kv(e,n.type);e!==t&&(rt(Bd,n),rt(Ri,t))}function X_(n){Bd.current===n&&(st(Ri),st(Bd))}var pt=Ho(0);function Xm(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fv=[];function K_(){for(var n=0;n<fv.length;n++)fv[n]._workInProgressVersionPrimary=null;fv.length=0}var Gp=Is.ReactCurrentDispatcher,pv=Is.ReactCurrentBatchConfig,pl=0,mt=null,Ft=null,$t=null,Km=!1,Ed=!1,Hd=0,KL=0;function sn(){throw Error(B(321))}function Y_(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ni(n[t],e[t]))return!1;return!0}function Z_(n,e,t,r,i,s){if(pl=s,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gp.current=n===null||n.memoizedState===null?JL:eM,n=t(r,i),Ed){s=0;do{if(Ed=!1,Hd=0,25<=s)throw Error(B(301));s+=1,$t=Ft=null,e.updateQueue=null,Gp.current=tM,n=t(r,i)}while(Ed)}if(Gp.current=Ym,e=Ft!==null&&Ft.next!==null,pl=0,$t=Ft=mt=null,Km=!1,e)throw Error(B(300));return n}function Q_(){var n=Hd!==0;return Hd=0,n}function ui(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?mt.memoizedState=$t=n:$t=$t.next=n,$t}function Rr(){if(Ft===null){var n=mt.alternate;n=n!==null?n.memoizedState:null}else n=Ft.next;var e=$t===null?mt.memoizedState:$t.next;if(e!==null)$t=e,Ft=n;else{if(n===null)throw Error(B(310));Ft=n,n={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},$t===null?mt.memoizedState=$t=n:$t=$t.next=n}return $t}function $d(n,e){return typeof e=="function"?e(n):e}function mv(n){var e=Rr(),t=e.queue;if(t===null)throw Error(B(311));t.lastRenderedReducer=n;var r=Ft,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((pl&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,mt.lanes|=d,ml|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ni(r,e.memoizedState)||(On=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,mt.lanes|=s,ml|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function gv(n){var e=Rr(),t=e.queue;if(t===null)throw Error(B(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);ni(s,e.memoizedState)||(On=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function h1(){}function f1(n,e){var t=mt,r=Rr(),i=e(),s=!ni(r.memoizedState,i);if(s&&(r.memoizedState=i,On=!0),r=r.queue,J_(g1.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||$t!==null&&$t.memoizedState.tag&1){if(t.flags|=2048,Vd(9,m1.bind(null,t,r,i,e),void 0,null),Vt===null)throw Error(B(349));pl&30||p1(t,e,i)}return i}function p1(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function m1(n,e,t,r){e.value=t,e.getSnapshot=r,y1(e)&&v1(n)}function g1(n,e,t){return t(function(){y1(e)&&v1(n)})}function y1(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ni(n,t)}catch{return!0}}function v1(n){var e=Ps(n,1);e!==null&&Jr(e,n,1,-1)}function WE(n){var e=ui();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$d,lastRenderedState:n},e.queue=n,n=n.dispatch=QL.bind(null,mt,n),[e.memoizedState,n]}function Vd(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function w1(){return Rr().memoizedState}function qp(n,e,t,r){var i=ui();mt.flags|=n,i.memoizedState=Vd(1|e,t,void 0,r===void 0?null:r)}function ny(n,e,t,r){var i=Rr();r=r===void 0?null:r;var s=void 0;if(Ft!==null){var o=Ft.memoizedState;if(s=o.destroy,r!==null&&Y_(r,o.deps)){i.memoizedState=Vd(e,t,s,r);return}}mt.flags|=n,i.memoizedState=Vd(1|e,t,s,r)}function GE(n,e){return qp(8390656,8,n,e)}function J_(n,e){return ny(2048,8,n,e)}function _1(n,e){return ny(4,2,n,e)}function b1(n,e){return ny(4,4,n,e)}function E1(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function S1(n,e,t){return t=t!=null?t.concat([n]):null,ny(4,4,E1.bind(null,e,n),t)}function eb(){}function x1(n,e){var t=Rr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Y_(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function A1(n,e){var t=Rr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Y_(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function C1(n,e,t){return pl&21?(ni(t,e)||(t=LA(),mt.lanes|=t,ml|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,On=!0),n.memoizedState=t)}function YL(n,e){var t=$e;$e=t!==0&&4>t?t:4,n(!0);var r=pv.transition;pv.transition={};try{n(!1),e()}finally{$e=t,pv.transition=r}}function k1(){return Rr().memoizedState}function ZL(n,e,t){var r=To(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},T1(n))R1(e,t);else if(t=u1(n,e,t,r),t!==null){var i=En();Jr(t,n,r,i),P1(t,e,r)}}function QL(n,e,t){var r=To(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(T1(n))R1(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,ni(a,o)){var l=e.interleaved;l===null?(i.next=i,W_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=u1(n,e,i,r),t!==null&&(i=En(),Jr(t,n,r,i),P1(t,e,r))}}function T1(n){var e=n.alternate;return n===mt||e!==null&&e===mt}function R1(n,e){Ed=Km=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function P1(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,L_(n,t)}}var Ym={readContext:Tr,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},JL={readContext:Tr,useCallback:function(n,e){return ui().memoizedState=[n,e===void 0?null:e],n},useContext:Tr,useEffect:GE,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,qp(4194308,4,E1.bind(null,e,n),t)},useLayoutEffect:function(n,e){return qp(4194308,4,n,e)},useInsertionEffect:function(n,e){return qp(4,2,n,e)},useMemo:function(n,e){var t=ui();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=ui();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=ZL.bind(null,mt,n),[r.memoizedState,n]},useRef:function(n){var e=ui();return n={current:n},e.memoizedState=n},useState:WE,useDebugValue:eb,useDeferredValue:function(n){return ui().memoizedState=n},useTransition:function(){var n=WE(!1),e=n[0];return n=YL.bind(null,n[1]),ui().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=mt,i=ui();if(at){if(t===void 0)throw Error(B(407));t=t()}else{if(t=e(),Vt===null)throw Error(B(349));pl&30||p1(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,GE(g1.bind(null,r,s,n),[n]),r.flags|=2048,Vd(9,m1.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=ui(),e=Vt.identifierPrefix;if(at){var t=bs,r=_s;t=(r&~(1<<32-Qr(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Hd++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=KL++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},eM={readContext:Tr,useCallback:x1,useContext:Tr,useEffect:J_,useImperativeHandle:S1,useInsertionEffect:_1,useLayoutEffect:b1,useMemo:A1,useReducer:mv,useRef:w1,useState:function(){return mv($d)},useDebugValue:eb,useDeferredValue:function(n){var e=Rr();return C1(e,Ft.memoizedState,n)},useTransition:function(){var n=mv($d)[0],e=Rr().memoizedState;return[n,e]},useMutableSource:h1,useSyncExternalStore:f1,useId:k1,unstable_isNewReconciler:!1},tM={readContext:Tr,useCallback:x1,useContext:Tr,useEffect:J_,useImperativeHandle:S1,useInsertionEffect:_1,useLayoutEffect:b1,useMemo:A1,useReducer:gv,useRef:w1,useState:function(){return gv($d)},useDebugValue:eb,useDeferredValue:function(n){var e=Rr();return Ft===null?e.memoizedState=n:C1(e,Ft.memoizedState,n)},useTransition:function(){var n=gv($d)[0],e=Rr().memoizedState;return[n,e]},useMutableSource:h1,useSyncExternalStore:f1,useId:k1,unstable_isNewReconciler:!1};function Mr(n,e){if(n&&n.defaultProps){e=gt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function g0(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:gt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var ry={isMounted:function(n){return(n=n._reactInternals)?Rl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=En(),i=To(n),s=Ss(r,i);s.payload=e,t!=null&&(s.callback=t),e=Co(n,s,i),e!==null&&(Jr(e,n,i,r),Wp(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=En(),i=To(n),s=Ss(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Co(n,s,i),e!==null&&(Jr(e,n,i,r),Wp(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=En(),r=To(n),i=Ss(t,r);i.tag=2,e!=null&&(i.callback=e),e=Co(n,i,r),e!==null&&(Jr(e,n,r,t),Wp(e,n,r))}};function qE(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Id(t,r)||!Id(i,s):!0}function L1(n,e,t){var r=!1,i=Mo,s=e.contextType;return typeof s=="object"&&s!==null?s=Tr(s):(i=Fn(e)?hl:pn.current,r=e.contextTypes,s=(r=r!=null)?fc(n,i):Mo),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ry,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function XE(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&ry.enqueueReplaceState(e,e.state,null)}function y0(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},G_(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Tr(s):(s=Fn(e)?hl:pn.current,i.context=fc(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(g0(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ry.enqueueReplaceState(i,i.state,null),qm(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function yc(n,e){try{var t="",r=e;do t+=RP(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function yv(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function v0(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var nM=typeof WeakMap=="function"?WeakMap:Map;function M1(n,e,t){t=Ss(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Qm||(Qm=!0,T0=r),v0(n,e)},t}function O1(n,e,t){t=Ss(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){v0(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){v0(n,e),typeof r!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function KE(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new nM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=gM.bind(null,n,e,t),e.then(n,n))}function YE(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function ZE(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ss(-1,1),e.tag=2,Co(t,e,1))),t.lanes|=1),n)}var rM=Is.ReactCurrentOwner,On=!1;function _n(n,e,t,r){e.child=n===null?l1(e,null,t,r):mc(e,n.child,t,r)}function QE(n,e,t,r,i){t=t.render;var s=e.ref;return cu(e,i),r=Z_(n,e,t,r,s,i),t=Q_(),n!==null&&!On?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ls(n,e,i)):(at&&t&&z_(e),e.flags|=1,_n(n,e,r,i),e.child)}function JE(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!lb(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,D1(n,e,s,r,i)):(n=Zp(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Id,t(o,r)&&n.ref===e.ref)return Ls(n,e,i)}return e.flags|=1,n=Ro(s,r),n.ref=e.ref,n.return=e,e.child=n}function D1(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Id(s,r)&&n.ref===e.ref)if(On=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(On=!0);else return e.lanes=n.lanes,Ls(n,e,i)}return w0(n,e,t,r,i)}function N1(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(nu,er),er|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,rt(nu,er),er|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,rt(nu,er),er|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,rt(nu,er),er|=r;return _n(n,e,i,t),e.child}function I1(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function w0(n,e,t,r,i){var s=Fn(t)?hl:pn.current;return s=fc(e,s),cu(e,i),t=Z_(n,e,t,r,s,i),r=Q_(),n!==null&&!On?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ls(n,e,i)):(at&&r&&z_(e),e.flags|=1,_n(n,e,t,i),e.child)}function eS(n,e,t,r,i){if(Fn(t)){var s=!0;Hm(e)}else s=!1;if(cu(e,i),e.stateNode===null)Xp(n,e),L1(e,t,r),y0(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=Tr(u):(u=Fn(t)?hl:pn.current,u=fc(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&XE(e,o,r,u),qs=!1;var f=e.memoizedState;o.state=f,qm(e,r,o,i),l=e.memoizedState,a!==r||f!==l||In.current||qs?(typeof d=="function"&&(g0(e,t,d,r),l=e.memoizedState),(a=qs||qE(e,t,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,c1(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Mr(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Tr(l):(l=Fn(t)?hl:pn.current,l=fc(e,l));var p=t.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&XE(e,o,r,l),qs=!1,f=e.memoizedState,o.state=f,qm(e,r,o,i);var m=e.memoizedState;a!==h||f!==m||In.current||qs?(typeof p=="function"&&(g0(e,t,p,r),m=e.memoizedState),(u=qs||qE(e,t,u,r,f,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return _0(n,e,t,r,s,i)}function _0(n,e,t,r,i,s){I1(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&zE(e,t,!1),Ls(n,e,s);r=e.stateNode,rM.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=mc(e,n.child,null,s),e.child=mc(e,null,a,s)):_n(n,e,a,s),e.memoizedState=r.state,i&&zE(e,t,!0),e.child}function F1(n){var e=n.stateNode;e.pendingContext?jE(n,e.pendingContext,e.pendingContext!==e.context):e.context&&jE(n,e.context,!1),q_(n,e.containerInfo)}function tS(n,e,t,r,i){return pc(),U_(i),e.flags|=256,_n(n,e,t,r),e.child}var b0={dehydrated:null,treeContext:null,retryLane:0};function E0(n){return{baseLanes:n,cachePool:null,transitions:null}}function j1(n,e,t){var r=e.pendingProps,i=pt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),rt(pt,i&1),n===null)return p0(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=oy(o,r,0,null),n=ul(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=E0(t),e.memoizedState=b0,n):tb(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return iM(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ro(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ro(a,s):(s=ul(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?E0(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=b0,r}return s=n.child,n=s.sibling,r=Ro(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function tb(n,e){return e=oy({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Rp(n,e,t,r){return r!==null&&U_(r),mc(e,n.child,null,t),n=tb(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function iM(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=yv(Error(B(422))),Rp(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=oy({mode:"visible",children:r.children},i,0,null),s=ul(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&mc(e,n.child,null,o),e.child.memoizedState=E0(o),e.memoizedState=b0,s);if(!(e.mode&1))return Rp(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=yv(s,r,void 0),Rp(n,e,o,r)}if(a=(o&n.childLanes)!==0,On||a){if(r=Vt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ps(n,i),Jr(r,n,i,-1))}return ab(),r=yv(Error(B(421))),Rp(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=yM.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,rr=Ao(i.nextSibling),sr=e,at=!0,Kr=null,n!==null&&(Er[Sr++]=_s,Er[Sr++]=bs,Er[Sr++]=fl,_s=n.id,bs=n.overflow,fl=e),e=tb(e,r.children),e.flags|=4096,e)}function nS(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),m0(n.return,e,t)}function vv(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function z1(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(_n(n,e,r.children,t),r=pt.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&nS(n,t,e);else if(n.tag===19)nS(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(rt(pt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Xm(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),vv(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Xm(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}vv(e,!0,t,null,s);break;case"together":vv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xp(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ls(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ml|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(B(153));if(e.child!==null){for(n=e.child,t=Ro(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ro(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function sM(n,e,t){switch(e.tag){case 3:F1(e),pc();break;case 5:d1(e);break;case 1:Fn(e.type)&&Hm(e);break;case 4:q_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;rt(Wm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rt(pt,pt.current&1),e.flags|=128,null):t&e.child.childLanes?j1(n,e,t):(rt(pt,pt.current&1),n=Ls(n,e,t),n!==null?n.sibling:null);rt(pt,pt.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return z1(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(pt,pt.current),r)break;return null;case 22:case 23:return e.lanes=0,N1(n,e,t)}return Ls(n,e,t)}var B1,S0,U1,H1;B1=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};S0=function(){};U1=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,ua(Ri.current);var s=null;switch(t){case"input":i=Wv(n,i),r=Wv(n,r),s=[];break;case"select":i=gt({},i,{value:void 0}),r=gt({},r,{value:void 0}),s=[];break;case"textarea":i=Xv(n,i),r=Xv(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Bm)}Yv(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rd.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Rd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&it("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};H1=function(n,e,t,r){t!==r&&(e.flags|=4)};function zc(n,e){if(!at)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function on(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function oM(n,e,t){var r=e.pendingProps;switch(B_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(e),null;case 1:return Fn(e.type)&&Um(),on(e),null;case 3:return r=e.stateNode,gc(),st(In),st(pn),K_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(kp(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kr!==null&&(L0(Kr),Kr=null))),S0(n,e),on(e),null;case 5:X_(e);var i=ua(Ud.current);if(t=e.type,n!==null&&e.stateNode!=null)U1(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return on(e),null}if(n=ua(Ri.current),kp(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Ci]=e,r[zd]=s,n=(e.mode&1)!==0,t){case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":case"embed":it("load",r);break;case"video":case"audio":for(i=0;i<Zc.length;i++)it(Zc[i],r);break;case"source":it("error",r);break;case"img":case"image":case"link":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"input":dE(r,s),it("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},it("invalid",r);break;case"textarea":fE(r,s),it("invalid",r)}Yv(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Cp(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Cp(r.textContent,a,n),i=["children",""+a]):Rd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&it("scroll",r)}switch(t){case"input":vp(r),hE(r,s,!0);break;case"textarea":vp(r),pE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Bm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=gA(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Ci]=e,n[zd]=r,B1(n,e,!1,!1),e.stateNode=n;e:{switch(o=Zv(t,r),t){case"dialog":it("cancel",n),it("close",n),i=r;break;case"iframe":case"object":case"embed":it("load",n),i=r;break;case"video":case"audio":for(i=0;i<Zc.length;i++)it(Zc[i],n);i=r;break;case"source":it("error",n),i=r;break;case"img":case"image":case"link":it("error",n),it("load",n),i=r;break;case"details":it("toggle",n),i=r;break;case"input":dE(n,r),i=Wv(n,r),it("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=gt({},r,{value:void 0}),it("invalid",n);break;case"textarea":fE(n,r),i=Xv(n,r),it("invalid",n);break;default:i=r}Yv(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?wA(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yA(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Pd(n,l):typeof l=="number"&&Pd(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Rd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&it("scroll",n):l!=null&&A_(n,s,l,o))}switch(t){case"input":vp(n),hE(n,r,!1);break;case"textarea":vp(n),pE(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Lo(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?ou(n,!!r.multiple,s,!1):r.defaultValue!=null&&ou(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Bm)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return on(e),null;case 6:if(n&&e.stateNode!=null)H1(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(t=ua(Ud.current),ua(Ri.current),kp(e)){if(r=e.stateNode,t=e.memoizedProps,r[Ci]=e,(s=r.nodeValue!==t)&&(n=sr,n!==null))switch(n.tag){case 3:Cp(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Cp(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Ci]=e,e.stateNode=r}return on(e),null;case 13:if(st(pt),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(at&&rr!==null&&e.mode&1&&!(e.flags&128))o1(),pc(),e.flags|=98560,s=!1;else if(s=kp(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Ci]=e}else pc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;on(e),s=!1}else Kr!==null&&(L0(Kr),Kr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||pt.current&1?zt===0&&(zt=3):ab())),e.updateQueue!==null&&(e.flags|=4),on(e),null);case 4:return gc(),S0(n,e),n===null&&Fd(e.stateNode.containerInfo),on(e),null;case 10:return V_(e.type._context),on(e),null;case 17:return Fn(e.type)&&Um(),on(e),null;case 19:if(st(pt),s=e.memoizedState,s===null)return on(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)zc(s,!1);else{if(zt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Xm(n),o!==null){for(e.flags|=128,zc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return rt(pt,pt.current&1|2),e.child}n=n.sibling}s.tail!==null&&St()>vc&&(e.flags|=128,r=!0,zc(s,!1),e.lanes=4194304)}else{if(!r)if(n=Xm(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),zc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!at)return on(e),null}else 2*St()-s.renderingStartTime>vc&&t!==1073741824&&(e.flags|=128,r=!0,zc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=St(),e.sibling=null,t=pt.current,rt(pt,r?t&1|2:t&1),e):(on(e),null);case 22:case 23:return ob(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?er&1073741824&&(on(e),e.subtreeFlags&6&&(e.flags|=8192)):on(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function aM(n,e){switch(B_(e),e.tag){case 1:return Fn(e.type)&&Um(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return gc(),st(In),st(pn),K_(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return X_(e),null;case 13:if(st(pt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(B(340));pc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return st(pt),null;case 4:return gc(),null;case 10:return V_(e.type._context),null;case 22:case 23:return ob(),null;case 24:return null;default:return null}}var Pp=!1,dn=!1,lM=typeof WeakSet=="function"?WeakSet:Set,Z=null;function tu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){_t(n,e,r)}else t.current=null}function x0(n,e,t){try{t()}catch(r){_t(n,e,r)}}var rS=!1;function uM(n,e){if(a0=Fm,n=qA(),j_(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var p;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===t&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(l0={focusedElem:n,selectionRange:t},Fm=!1,Z=e;Z!==null;)if(e=Z,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Z=n;else for(;Z!==null;){e=Z;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,w=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Mr(e.type,y),w);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(x){_t(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}return m=rS,rS=!1,m}function Sd(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&x0(e,t,s)}i=i.next}while(i!==r)}}function iy(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function A0(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function $1(n){var e=n.alternate;e!==null&&(n.alternate=null,$1(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ci],delete e[zd],delete e[d0],delete e[WL],delete e[GL])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function V1(n){return n.tag===5||n.tag===3||n.tag===4}function iS(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||V1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function C0(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Bm));else if(r!==4&&(n=n.child,n!==null))for(C0(n,e,t),n=n.sibling;n!==null;)C0(n,e,t),n=n.sibling}function k0(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(k0(n,e,t),n=n.sibling;n!==null;)k0(n,e,t),n=n.sibling}var en=null,qr=!1;function Bs(n,e,t){for(t=t.child;t!==null;)W1(n,e,t),t=t.sibling}function W1(n,e,t){if(Ti&&typeof Ti.onCommitFiberUnmount=="function")try{Ti.onCommitFiberUnmount(Yg,t)}catch{}switch(t.tag){case 5:dn||tu(t,e);case 6:var r=en,i=qr;en=null,Bs(n,e,t),en=r,qr=i,en!==null&&(qr?(n=en,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):en.removeChild(t.stateNode));break;case 18:en!==null&&(qr?(n=en,t=t.stateNode,n.nodeType===8?dv(n.parentNode,t):n.nodeType===1&&dv(n,t),Dd(n)):dv(en,t.stateNode));break;case 4:r=en,i=qr,en=t.stateNode.containerInfo,qr=!0,Bs(n,e,t),en=r,qr=i;break;case 0:case 11:case 14:case 15:if(!dn&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&x0(t,e,o),i=i.next}while(i!==r)}Bs(n,e,t);break;case 1:if(!dn&&(tu(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){_t(t,e,a)}Bs(n,e,t);break;case 21:Bs(n,e,t);break;case 22:t.mode&1?(dn=(r=dn)||t.memoizedState!==null,Bs(n,e,t),dn=r):Bs(n,e,t);break;default:Bs(n,e,t)}}function sS(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new lM),e.forEach(function(r){var i=vM.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Pr(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:en=a.stateNode,qr=!1;break e;case 3:en=a.stateNode.containerInfo,qr=!0;break e;case 4:en=a.stateNode.containerInfo,qr=!0;break e}a=a.return}if(en===null)throw Error(B(160));W1(s,o,i),en=null,qr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){_t(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)G1(e,n),e=e.sibling}function G1(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Pr(e,n),ai(n),r&4){try{Sd(3,n,n.return),iy(3,n)}catch(y){_t(n,n.return,y)}try{Sd(5,n,n.return)}catch(y){_t(n,n.return,y)}}break;case 1:Pr(e,n),ai(n),r&512&&t!==null&&tu(t,t.return);break;case 5:if(Pr(e,n),ai(n),r&512&&t!==null&&tu(t,t.return),n.flags&32){var i=n.stateNode;try{Pd(i,"")}catch(y){_t(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&pA(i,s),Zv(a,o);var u=Zv(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?wA(i,h):d==="dangerouslySetInnerHTML"?yA(i,h):d==="children"?Pd(i,h):A_(i,d,h,u)}switch(a){case"input":Gv(i,s);break;case"textarea":mA(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ou(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?ou(i,!!s.multiple,s.defaultValue,!0):ou(i,!!s.multiple,s.multiple?[]:"",!1))}i[zd]=s}catch(y){_t(n,n.return,y)}}break;case 6:if(Pr(e,n),ai(n),r&4){if(n.stateNode===null)throw Error(B(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){_t(n,n.return,y)}}break;case 3:if(Pr(e,n),ai(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Dd(e.containerInfo)}catch(y){_t(n,n.return,y)}break;case 4:Pr(e,n),ai(n);break;case 13:Pr(e,n),ai(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ib=St())),r&4&&sS(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(dn=(u=dn)||d,Pr(e,n),dn=u):Pr(e,n),ai(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(Z=n,d=n.child;d!==null;){for(h=Z=d;Z!==null;){switch(f=Z,p=f.child,f.tag){case 0:case 11:case 14:case 15:Sd(4,f,f.return);break;case 1:tu(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){_t(r,t,y)}}break;case 5:tu(f,f.return);break;case 22:if(f.memoizedState!==null){aS(h);continue}}p!==null?(p.return=f,Z=p):aS(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vA("display",o))}catch(y){_t(n,n.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){_t(n,n.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Pr(e,n),ai(n),r&4&&sS(n);break;case 21:break;default:Pr(e,n),ai(n)}}function ai(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(V1(t)){var r=t;break e}t=t.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Pd(i,""),r.flags&=-33);var s=iS(n);k0(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=iS(n);C0(n,a,o);break;default:throw Error(B(161))}}catch(l){_t(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function cM(n,e,t){Z=n,q1(n)}function q1(n,e,t){for(var r=(n.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Pp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||dn;a=Pp;var u=dn;if(Pp=o,(dn=l)&&!u)for(Z=i;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?lS(i):l!==null?(l.return=o,Z=l):lS(i);for(;s!==null;)Z=s,q1(s),s=s.sibling;Z=i,Pp=a,dn=u}oS(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):oS(n)}}function oS(n){for(;Z!==null;){var e=Z;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dn||iy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dn)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Mr(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&VE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}VE(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Dd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}dn||e.flags&512&&A0(e)}catch(f){_t(e,e.return,f)}}if(e===n){Z=null;break}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}}function aS(n){for(;Z!==null;){var e=Z;if(e===n){Z=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Z=t;break}Z=e.return}}function lS(n){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{iy(4,e)}catch(l){_t(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){_t(e,i,l)}}var s=e.return;try{A0(e)}catch(l){_t(e,s,l)}break;case 5:var o=e.return;try{A0(e)}catch(l){_t(e,o,l)}}}catch(l){_t(e,e.return,l)}if(e===n){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var dM=Math.ceil,Zm=Is.ReactCurrentDispatcher,nb=Is.ReactCurrentOwner,kr=Is.ReactCurrentBatchConfig,Ie=0,Vt=null,Tt=null,tn=0,er=0,nu=Ho(0),zt=0,Wd=null,ml=0,sy=0,rb=0,xd=null,Mn=null,ib=0,vc=1/0,Vi=null,Qm=!1,T0=null,ko=null,Lp=!1,bo=null,Jm=0,Ad=0,R0=null,Kp=-1,Yp=0;function En(){return Ie&6?St():Kp!==-1?Kp:Kp=St()}function To(n){return n.mode&1?Ie&2&&tn!==0?tn&-tn:XL.transition!==null?(Yp===0&&(Yp=LA()),Yp):(n=$e,n!==0||(n=window.event,n=n===void 0?16:jA(n.type)),n):1}function Jr(n,e,t,r){if(50<Ad)throw Ad=0,R0=null,Error(B(185));Gf(n,t,r),(!(Ie&2)||n!==Vt)&&(n===Vt&&(!(Ie&2)&&(sy|=t),zt===4&&Ks(n,tn)),jn(n,r),t===1&&Ie===0&&!(e.mode&1)&&(vc=St()+500,ty&&$o()))}function jn(n,e){var t=n.callbackNode;XP(n,e);var r=Im(n,n===Vt?tn:0);if(r===0)t!==null&&yE(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&yE(t),e===1)n.tag===0?qL(uS.bind(null,n)):r1(uS.bind(null,n)),$L(function(){!(Ie&6)&&$o()}),t=null;else{switch(MA(r)){case 1:t=P_;break;case 4:t=RA;break;case 16:t=Nm;break;case 536870912:t=PA;break;default:t=Nm}t=tC(t,X1.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function X1(n,e){if(Kp=-1,Yp=0,Ie&6)throw Error(B(327));var t=n.callbackNode;if(du()&&n.callbackNode!==t)return null;var r=Im(n,n===Vt?tn:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=eg(n,r);else{e=r;var i=Ie;Ie|=2;var s=Y1();(Vt!==n||tn!==e)&&(Vi=null,vc=St()+500,ll(n,e));do try{pM();break}catch(a){K1(n,a)}while(!0);$_(),Zm.current=s,Ie=i,Tt!==null?e=0:(Vt=null,tn=0,e=zt)}if(e!==0){if(e===2&&(i=n0(n),i!==0&&(r=i,e=P0(n,i))),e===1)throw t=Wd,ll(n,0),Ks(n,r),jn(n,St()),t;if(e===6)Ks(n,r);else{if(i=n.current.alternate,!(r&30)&&!hM(i)&&(e=eg(n,r),e===2&&(s=n0(n),s!==0&&(r=s,e=P0(n,s))),e===1))throw t=Wd,ll(n,0),Ks(n,r),jn(n,St()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Jo(n,Mn,Vi);break;case 3:if(Ks(n,r),(r&130023424)===r&&(e=ib+500-St(),10<e)){if(Im(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){En(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=c0(Jo.bind(null,n,Mn,Vi),e);break}Jo(n,Mn,Vi);break;case 4:if(Ks(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Qr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dM(r/1960))-r,10<r){n.timeoutHandle=c0(Jo.bind(null,n,Mn,Vi),r);break}Jo(n,Mn,Vi);break;case 5:Jo(n,Mn,Vi);break;default:throw Error(B(329))}}}return jn(n,St()),n.callbackNode===t?X1.bind(null,n):null}function P0(n,e){var t=xd;return n.current.memoizedState.isDehydrated&&(ll(n,e).flags|=256),n=eg(n,e),n!==2&&(e=Mn,Mn=t,e!==null&&L0(e)),n}function L0(n){Mn===null?Mn=n:Mn.push.apply(Mn,n)}function hM(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!ni(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ks(n,e){for(e&=~rb,e&=~sy,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Qr(e),r=1<<t;n[t]=-1,e&=~r}}function uS(n){if(Ie&6)throw Error(B(327));du();var e=Im(n,0);if(!(e&1))return jn(n,St()),null;var t=eg(n,e);if(n.tag!==0&&t===2){var r=n0(n);r!==0&&(e=r,t=P0(n,r))}if(t===1)throw t=Wd,ll(n,0),Ks(n,e),jn(n,St()),t;if(t===6)throw Error(B(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Jo(n,Mn,Vi),jn(n,St()),null}function sb(n,e){var t=Ie;Ie|=1;try{return n(e)}finally{Ie=t,Ie===0&&(vc=St()+500,ty&&$o())}}function gl(n){bo!==null&&bo.tag===0&&!(Ie&6)&&du();var e=Ie;Ie|=1;var t=kr.transition,r=$e;try{if(kr.transition=null,$e=1,n)return n()}finally{$e=r,kr.transition=t,Ie=e,!(Ie&6)&&$o()}}function ob(){er=nu.current,st(nu)}function ll(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,HL(t)),Tt!==null)for(t=Tt.return;t!==null;){var r=t;switch(B_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Um();break;case 3:gc(),st(In),st(pn),K_();break;case 5:X_(r);break;case 4:gc();break;case 13:st(pt);break;case 19:st(pt);break;case 10:V_(r.type._context);break;case 22:case 23:ob()}t=t.return}if(Vt=n,Tt=n=Ro(n.current,null),tn=er=e,zt=0,Wd=null,rb=sy=ml=0,Mn=xd=null,la!==null){for(e=0;e<la.length;e++)if(t=la[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}la=null}return n}function K1(n,e){do{var t=Tt;try{if($_(),Gp.current=Ym,Km){for(var r=mt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Km=!1}if(pl=0,$t=Ft=mt=null,Ed=!1,Hd=0,nb.current=null,t===null||t.return===null){zt=1,Wd=e,Tt=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=tn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=YE(o);if(p!==null){p.flags&=-257,ZE(p,o,a,s,e),p.mode&1&&KE(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){KE(s,u,e),ab();break e}l=Error(B(426))}}else if(at&&a.mode&1){var w=YE(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ZE(w,o,a,s,e),U_(yc(l,a));break e}}s=l=yc(l,a),zt!==4&&(zt=2),xd===null?xd=[s]:xd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=M1(s,l,e);$E(s,g);break e;case 1:a=l;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ko===null||!ko.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=O1(s,a,e);$E(s,x);break e}}s=s.return}while(s!==null)}Q1(t)}catch(C){e=C,Tt===t&&t!==null&&(Tt=t=t.return);continue}break}while(!0)}function Y1(){var n=Zm.current;return Zm.current=Ym,n===null?Ym:n}function ab(){(zt===0||zt===3||zt===2)&&(zt=4),Vt===null||!(ml&268435455)&&!(sy&268435455)||Ks(Vt,tn)}function eg(n,e){var t=Ie;Ie|=2;var r=Y1();(Vt!==n||tn!==e)&&(Vi=null,ll(n,e));do try{fM();break}catch(i){K1(n,i)}while(!0);if($_(),Ie=t,Zm.current=r,Tt!==null)throw Error(B(261));return Vt=null,tn=0,zt}function fM(){for(;Tt!==null;)Z1(Tt)}function pM(){for(;Tt!==null&&!zP();)Z1(Tt)}function Z1(n){var e=eC(n.alternate,n,er);n.memoizedProps=n.pendingProps,e===null?Q1(n):Tt=e,nb.current=null}function Q1(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=aM(t,e),t!==null){t.flags&=32767,Tt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{zt=6,Tt=null;return}}else if(t=oM(t,e,er),t!==null){Tt=t;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=n}while(e!==null);zt===0&&(zt=5)}function Jo(n,e,t){var r=$e,i=kr.transition;try{kr.transition=null,$e=1,mM(n,e,t,r)}finally{kr.transition=i,$e=r}return null}function mM(n,e,t,r){do du();while(bo!==null);if(Ie&6)throw Error(B(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(B(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(KP(n,s),n===Vt&&(Tt=Vt=null,tn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Lp||(Lp=!0,tC(Nm,function(){return du(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=kr.transition,kr.transition=null;var o=$e;$e=1;var a=Ie;Ie|=4,nb.current=null,uM(n,t),G1(t,n),NL(l0),Fm=!!a0,l0=a0=null,n.current=t,cM(t),BP(),Ie=a,$e=o,kr.transition=s}else n.current=t;if(Lp&&(Lp=!1,bo=n,Jm=i),s=n.pendingLanes,s===0&&(ko=null),$P(t.stateNode),jn(n,St()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qm)throw Qm=!1,n=T0,T0=null,n;return Jm&1&&n.tag!==0&&du(),s=n.pendingLanes,s&1?n===R0?Ad++:(Ad=0,R0=n):Ad=0,$o(),null}function du(){if(bo!==null){var n=MA(Jm),e=kr.transition,t=$e;try{if(kr.transition=null,$e=16>n?16:n,bo===null)var r=!1;else{if(n=bo,bo=null,Jm=0,Ie&6)throw Error(B(331));var i=Ie;for(Ie|=4,Z=n.current;Z!==null;){var s=Z,o=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:Sd(8,d,s)}var h=d.child;if(h!==null)h.return=d,Z=h;else for(;Z!==null;){d=Z;var f=d.sibling,p=d.return;if($1(d),d===u){Z=null;break}if(f!==null){f.return=p,Z=f;break}Z=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}Z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Z=o;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Sd(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Z=g;break e}Z=s.return}}var v=n.current;for(Z=v;Z!==null;){o=Z;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Z=_;else e:for(o=v;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:iy(9,a)}}catch(C){_t(a,a.return,C)}if(a===o){Z=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Z=x;break e}Z=a.return}}if(Ie=i,$o(),Ti&&typeof Ti.onPostCommitFiberRoot=="function")try{Ti.onPostCommitFiberRoot(Yg,n)}catch{}r=!0}return r}finally{$e=t,kr.transition=e}}return!1}function cS(n,e,t){e=yc(t,e),e=M1(n,e,1),n=Co(n,e,1),e=En(),n!==null&&(Gf(n,1,e),jn(n,e))}function _t(n,e,t){if(n.tag===3)cS(n,n,t);else for(;e!==null;){if(e.tag===3){cS(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ko===null||!ko.has(r))){n=yc(t,n),n=O1(e,n,1),e=Co(e,n,1),n=En(),e!==null&&(Gf(e,1,n),jn(e,n));break}}e=e.return}}function gM(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=En(),n.pingedLanes|=n.suspendedLanes&t,Vt===n&&(tn&t)===t&&(zt===4||zt===3&&(tn&130023424)===tn&&500>St()-ib?ll(n,0):rb|=t),jn(n,e)}function J1(n,e){e===0&&(n.mode&1?(e=bp,bp<<=1,!(bp&130023424)&&(bp=4194304)):e=1);var t=En();n=Ps(n,e),n!==null&&(Gf(n,e,t),jn(n,t))}function yM(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),J1(n,t)}function vM(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),J1(n,t)}var eC;eC=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||In.current)On=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return On=!1,sM(n,e,t);On=!!(n.flags&131072)}else On=!1,at&&e.flags&1048576&&i1(e,Vm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xp(n,e),n=e.pendingProps;var i=fc(e,pn.current);cu(e,t),i=Z_(null,e,r,n,i,t);var s=Q_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fn(r)?(s=!0,Hm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,G_(e),i.updater=ry,e.stateNode=i,i._reactInternals=e,y0(e,r,n,t),e=_0(null,e,r,!0,s,t)):(e.tag=0,at&&s&&z_(e),_n(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Xp(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_M(r),n=Mr(r,n),i){case 0:e=w0(null,e,r,n,t);break e;case 1:e=eS(null,e,r,n,t);break e;case 11:e=QE(null,e,r,n,t);break e;case 14:e=JE(null,e,r,Mr(r.type,n),t);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),w0(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),eS(n,e,r,i,t);case 3:e:{if(F1(e),n===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,c1(n,e),qm(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=yc(Error(B(423)),e),e=tS(n,e,r,t,i);break e}else if(r!==i){i=yc(Error(B(424)),e),e=tS(n,e,r,t,i);break e}else for(rr=Ao(e.stateNode.containerInfo.firstChild),sr=e,at=!0,Kr=null,t=l1(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(pc(),r===i){e=Ls(n,e,t);break e}_n(n,e,r,t)}e=e.child}return e;case 5:return d1(e),n===null&&p0(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,u0(r,i)?o=null:s!==null&&u0(r,s)&&(e.flags|=32),I1(n,e),_n(n,e,o,t),e.child;case 6:return n===null&&p0(e),null;case 13:return j1(n,e,t);case 4:return q_(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=mc(e,null,r,t):_n(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),QE(n,e,r,i,t);case 7:return _n(n,e,e.pendingProps,t),e.child;case 8:return _n(n,e,e.pendingProps.children,t),e.child;case 12:return _n(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,rt(Wm,r._currentValue),r._currentValue=o,s!==null)if(ni(s.value,o)){if(s.children===i.children&&!In.current){e=Ls(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ss(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),m0(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),m0(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_n(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,cu(e,t),i=Tr(i),r=r(i),e.flags|=1,_n(n,e,r,t),e.child;case 14:return r=e.type,i=Mr(r,e.pendingProps),i=Mr(r.type,i),JE(n,e,r,i,t);case 15:return D1(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),Xp(n,e),e.tag=1,Fn(r)?(n=!0,Hm(e)):n=!1,cu(e,t),L1(e,r,i),y0(e,r,i,t),_0(null,e,r,!0,n,t);case 19:return z1(n,e,t);case 22:return N1(n,e,t)}throw Error(B(156,e.tag))};function tC(n,e){return TA(n,e)}function wM(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(n,e,t,r){return new wM(n,e,t,r)}function lb(n){return n=n.prototype,!(!n||!n.isReactComponent)}function _M(n){if(typeof n=="function")return lb(n)?1:0;if(n!=null){if(n=n.$$typeof,n===k_)return 11;if(n===T_)return 14}return 2}function Ro(n,e){var t=n.alternate;return t===null?(t=Cr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Zp(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")lb(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Gl:return ul(t.children,i,s,e);case C_:o=8,i|=8;break;case Uv:return n=Cr(12,t,e,i|2),n.elementType=Uv,n.lanes=s,n;case Hv:return n=Cr(13,t,e,i),n.elementType=Hv,n.lanes=s,n;case $v:return n=Cr(19,t,e,i),n.elementType=$v,n.lanes=s,n;case dA:return oy(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case uA:o=10;break e;case cA:o=9;break e;case k_:o=11;break e;case T_:o=14;break e;case Gs:o=16,r=null;break e}throw Error(B(130,n==null?n:typeof n,""))}return e=Cr(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function ul(n,e,t,r){return n=Cr(7,n,r,e),n.lanes=t,n}function oy(n,e,t,r){return n=Cr(22,n,r,e),n.elementType=dA,n.lanes=t,n.stateNode={isHidden:!1},n}function wv(n,e,t){return n=Cr(6,n,null,e),n.lanes=t,n}function _v(n,e,t){return e=Cr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function bM(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ev(0),this.expirationTimes=ev(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ev(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ub(n,e,t,r,i,s,o,a,l){return n=new bM(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Cr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},G_(s),n}function EM(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wl,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function nC(n){if(!n)return Mo;n=n._reactInternals;e:{if(Rl(n)!==n||n.tag!==1)throw Error(B(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(n.tag===1){var t=n.type;if(Fn(t))return n1(n,t,e)}return e}function rC(n,e,t,r,i,s,o,a,l){return n=ub(t,r,!0,n,i,s,o,a,l),n.context=nC(null),t=n.current,r=En(),i=To(t),s=Ss(r,i),s.callback=e??null,Co(t,s,i),n.current.lanes=i,Gf(n,i,r),jn(n,r),n}function ay(n,e,t,r){var i=e.current,s=En(),o=To(i);return t=nC(t),e.context===null?e.context=t:e.pendingContext=t,e=Ss(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Co(i,e,o),n!==null&&(Jr(n,i,o,s),Wp(n,i,o)),o}function tg(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function dS(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function cb(n,e){dS(n,e),(n=n.alternate)&&dS(n,e)}function SM(){return null}var iC=typeof reportError=="function"?reportError:function(n){console.error(n)};function db(n){this._internalRoot=n}ly.prototype.render=db.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(B(409));ay(n,e,null,null)};ly.prototype.unmount=db.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;gl(function(){ay(null,n,null,null)}),e[Rs]=null}};function ly(n){this._internalRoot=n}ly.prototype.unstable_scheduleHydration=function(n){if(n){var e=NA();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Xs.length&&e!==0&&e<Xs[t].priority;t++);Xs.splice(t,0,n),t===0&&FA(n)}};function hb(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function uy(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function hS(){}function xM(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=tg(o);s.call(u)}}var o=rC(e,r,n,0,null,!1,!1,"",hS);return n._reactRootContainer=o,n[Rs]=o.current,Fd(n.nodeType===8?n.parentNode:n),gl(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=tg(l);a.call(u)}}var l=ub(n,0,!1,null,null,!1,!1,"",hS);return n._reactRootContainer=l,n[Rs]=l.current,Fd(n.nodeType===8?n.parentNode:n),gl(function(){ay(e,l,t,r)}),l}function cy(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=tg(o);a.call(l)}}ay(e,o,n,i)}else o=xM(t,e,n,i,r);return tg(o)}OA=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Yc(e.pendingLanes);t!==0&&(L_(e,t|1),jn(e,St()),!(Ie&6)&&(vc=St()+500,$o()))}break;case 13:gl(function(){var r=Ps(n,1);if(r!==null){var i=En();Jr(r,n,1,i)}}),cb(n,1)}};M_=function(n){if(n.tag===13){var e=Ps(n,134217728);if(e!==null){var t=En();Jr(e,n,134217728,t)}cb(n,134217728)}};DA=function(n){if(n.tag===13){var e=To(n),t=Ps(n,e);if(t!==null){var r=En();Jr(t,n,e,r)}cb(n,e)}};NA=function(){return $e};IA=function(n,e){var t=$e;try{return $e=n,e()}finally{$e=t}};Jv=function(n,e,t){switch(e){case"input":if(Gv(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=ey(r);if(!i)throw Error(B(90));fA(r),Gv(r,i)}}}break;case"textarea":mA(n,t);break;case"select":e=t.value,e!=null&&ou(n,!!t.multiple,e,!1)}};EA=sb;SA=gl;var AM={usingClientEntryPoint:!1,Events:[Xf,Yl,ey,_A,bA,sb]},Bc={findFiberByHostInstance:aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CM={bundleType:Bc.bundleType,version:Bc.version,rendererPackageName:Bc.rendererPackageName,rendererConfig:Bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Is.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=CA(n),n===null?null:n.stateNode},findFiberByHostInstance:Bc.findFiberByHostInstance||SM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mp.isDisabled&&Mp.supportsFiber)try{Yg=Mp.inject(CM),Ti=Mp}catch{}}dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AM;dr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hb(e))throw Error(B(200));return EM(n,e,null,t)};dr.createRoot=function(n,e){if(!hb(n))throw Error(B(299));var t=!1,r="",i=iC;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ub(n,1,!1,null,null,t,!1,r,i),n[Rs]=e.current,Fd(n.nodeType===8?n.parentNode:n),new db(e)};dr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(B(188)):(n=Object.keys(n).join(","),Error(B(268,n)));return n=CA(e),n=n===null?null:n.stateNode,n};dr.flushSync=function(n){return gl(n)};dr.hydrate=function(n,e,t){if(!uy(e))throw Error(B(200));return cy(null,n,e,!0,t)};dr.hydrateRoot=function(n,e,t){if(!hb(n))throw Error(B(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=iC;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=rC(e,null,n,1,t??null,i,!1,s,o),n[Rs]=e.current,Fd(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new ly(e)};dr.render=function(n,e,t){if(!uy(e))throw Error(B(200));return cy(null,n,e,!1,t)};dr.unmountComponentAtNode=function(n){if(!uy(n))throw Error(B(40));return n._reactRootContainer?(gl(function(){cy(null,null,n,!1,function(){n._reactRootContainer=null,n[Rs]=null})}),!0):!1};dr.unstable_batchedUpdates=sb;dr.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!uy(t))throw Error(B(200));if(n==null||n._reactInternals===void 0)throw Error(B(38));return cy(n,e,t,!1,r)};dr.version="18.3.1-next-f1338f8080-20240426";function sC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sC)}catch(n){console.error(n)}}sC(),sA.exports=dr;var fb=sA.exports;const kM=v_(fb),TM=qx({__proto__:null,default:kM},[fb]);var oC,fS=fb;oC=fS.createRoot,fS.hydrateRoot;/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ft(){return ft=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ft.apply(this,arguments)}var kt;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(kt||(kt={}));const pS="popstate";function RM(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Gd("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Yf(i)}return LM(e,t,null,n)}function Ae(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function wc(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PM(){return Math.random().toString(36).substr(2,8)}function mS(n,e){return{usr:n.state,key:n.key,idx:e}}function Gd(n,e,t,r){return t===void 0&&(t=null),ft({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Vo(e):e,{state:t,key:e&&e.key||r||PM()})}function Yf(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Vo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function LM(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=kt.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(ft({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=kt.Pop;let w=d(),g=w==null?null:w-u;u=w,l&&l({action:a,location:y.location,delta:g})}function f(w,g){a=kt.Push;let v=Gd(y.location,w,g);u=d()+1;let _=mS(v,u),x=y.createHref(v);try{o.pushState(_,"",x)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(x)}s&&l&&l({action:a,location:y.location,delta:1})}function p(w,g){a=kt.Replace;let v=Gd(y.location,w,g);u=d();let _=mS(v,u),x=y.createHref(v);o.replaceState(_,"",x),s&&l&&l({action:a,location:y.location,delta:0})}function m(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof w=="string"?w:Yf(w);return v=v.replace(/ $/,"%20"),Ae(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return a},get location(){return n(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(pS,h),l=w,()=>{i.removeEventListener(pS,h),l=null}},createHref(w){return e(i,w)},createURL:m,encodeLocation(w){let g=m(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(w){return o.go(w)}};return y}var qe;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(qe||(qe={}));const MM=new Set(["lazy","caseSensitive","path","id","index","children"]);function OM(n){return n.index===!0}function qd(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((i,s)=>{let o=[...t,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Ae(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ae(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),OM(i)){let l=ft({},i,e(i),{id:a});return r[a]=l,l}else{let l=ft({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=qd(i.children,e,o,r)),l}})}function ia(n,e,t){return t===void 0&&(t="/"),Qp(n,e,t,!1)}function Qp(n,e,t,r){let i=typeof e=="string"?Vo(e):e,s=Zf(i.pathname||"/",t);if(s==null)return null;let o=aC(n);NM(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=GM(s);a=VM(o[l],u,r)}return a}function DM(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function aC(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ae(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Po([r,l.relativePath]),d=t.concat(l);s.children&&s.children.length>0&&(Ae(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),aC(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:HM(u,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of lC(s.path))i(s,o,l)}),e}function lC(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=lC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function NM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:$M(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const IM=/^:[\w-]+$/,FM=3,jM=2,zM=1,BM=10,UM=-2,gS=n=>n==="*";function HM(n,e){let t=n.split("/"),r=t.length;return t.some(gS)&&(r+=UM),e&&(r+=jM),t.filter(i=>!gS(i)).reduce((i,s)=>i+(IM.test(s)?FM:s===""?zM:BM),r)}function $M(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function VM(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=yS({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&t&&!r[r.length-1].route.index&&(h=yS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Po([s,h.pathname]),pathnameBase:KM(Po([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Po([s,h.pathnameBase]))}return o}function yS(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=WM(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[h];return p&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:n}}function WM(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),wc(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function GM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wc(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Zf(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function qM(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Vo(n):n;return{pathname:t?t.startsWith("/")?t:XM(t,e):e,search:YM(r),hash:ZM(i)}}function XM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function bv(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cC(n,e){let t=uC(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function dC(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Vo(n):(i=ft({},n),Ae(!i.pathname||!i.pathname.includes("?"),bv("?","pathname","search",i)),Ae(!i.pathname||!i.pathname.includes("#"),bv("#","pathname","hash",i)),Ae(!i.search||!i.search.includes("#"),bv("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=qM(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Po=n=>n.join("/").replace(/\/\/+/g,"/"),KM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),YM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ZM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class ng{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function dy(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const hC=["post","put","patch","delete"],QM=new Set(hC),JM=["get",...hC],eO=new Set(JM),tO=new Set([301,302,303,307,308]),nO=new Set([307,308]),Ev={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},rO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Uc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},pb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iO=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),fC="remix-router-transitions";function sO(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;Ae(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(n.mapRouteProperties)i=n.mapRouteProperties;else if(n.detectErrorBoundary){let T=n.detectErrorBoundary;i=R=>({hasErrorBoundary:T(R)})}else i=iO;let s={},o=qd(n.routes,i,void 0,s),a,l=n.basename||"/",u=n.unstable_dataStrategy||cO,d=n.unstable_patchRoutesOnNavigation,h=ft({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),f=null,p=new Set,m=1e3,y=new Set,w=null,g=null,v=null,_=n.hydrationData!=null,x=ia(o,n.history.location,l),C=null;if(x==null&&!d){let T=wn(404,{pathname:n.history.location.pathname}),{matches:R,route:O}=kS(o);x=R,C={[O.id]:T}}x&&!n.hydrationData&&dp(x,o,n.history.location.pathname).active&&(x=null);let k;if(x)if(x.some(T=>T.route.lazy))k=!1;else if(!x.some(T=>T.route.loader))k=!0;else if(h.v7_partialHydration){let T=n.hydrationData?n.hydrationData.loaderData:null,R=n.hydrationData?n.hydrationData.errors:null,O=z=>z.route.loader?typeof z.route.loader=="function"&&z.route.loader.hydrate===!0?!1:T&&T[z.route.id]!==void 0||R&&R[z.route.id]!==void 0:!0;if(R){let z=x.findIndex(Y=>R[Y.route.id]!==void 0);k=x.slice(0,z+1).every(O)}else k=x.every(O)}else k=n.hydrationData!=null;else if(k=!1,x=[],h.v7_partialHydration){let T=dp(null,o,n.history.location.pathname);T.active&&T.matches&&(x=T.matches)}let P,A={historyAction:n.history.action,location:n.history.location,matches:x,initialized:k,navigation:Ev,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||C,fetchers:new Map,blockers:new Map},D=kt.Pop,I=!1,j,ne=!1,J=new Map,X=null,he=!1,pe=!1,V=[],F=new Set,$=new Map,ie=0,Re=-1,ue=new Map,Ee=new Set,Ye=new Map,lt=new Map,De=new Set,Se=new Map,yt=new Map,fr=new Map,tt=!1;function Go(){if(f=n.history.listen(T=>{let{action:R,location:O,delta:z}=T;if(tt){tt=!1;return}wc(yt.size===0||z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Y=Jb({currentLocation:A.location,nextLocation:O,historyAction:R});if(Y&&z!=null){tt=!0,n.history.go(z*-1),up(Y,{state:"blocked",location:O,proceed(){up(Y,{state:"proceeding",proceed:void 0,reset:void 0,location:O}),n.history.go(z)},reset(){let ee=new Map(A.blockers);ee.set(Y,Uc),Pe({blockers:ee})}});return}return Ii(R,O)}),t){SO(e,J);let T=()=>xO(e,J);e.addEventListener("pagehide",T),X=()=>e.removeEventListener("pagehide",T)}return A.initialized||Ii(kt.Pop,A.location,{initialHydration:!0}),P}function qo(){f&&f(),X&&X(),p.clear(),j&&j.abort(),A.fetchers.forEach((T,R)=>lp(R)),A.blockers.forEach((T,R)=>Qb(R))}function Ve(T){return p.add(T),()=>p.delete(T)}function Pe(T,R){R===void 0&&(R={}),A=ft({},A,T);let O=[],z=[];h.v7_fetcherPersist&&A.fetchers.forEach((Y,ee)=>{Y.state==="idle"&&(De.has(ee)?z.push(ee):O.push(ee))}),[...p].forEach(Y=>Y(A,{deletedFetchers:z,unstable_viewTransitionOpts:R.viewTransitionOpts,unstable_flushSync:R.flushSync===!0})),h.v7_fetcherPersist&&(O.forEach(Y=>A.fetchers.delete(Y)),z.forEach(Y=>lp(Y)))}function ut(T,R,O){var z,Y;let{flushSync:ee}=O===void 0?{}:O,ce=A.actionData!=null&&A.navigation.formMethod!=null&&Xr(A.navigation.formMethod)&&A.navigation.state==="loading"&&((z=T.state)==null?void 0:z._isRedirect)!==!0,H;R.actionData?Object.keys(R.actionData).length>0?H=R.actionData:H=null:ce?H=A.actionData:H=null;let ge=R.loaderData?AS(A.loaderData,R.loaderData,R.matches||[],R.errors):A.loaderData,oe=A.blockers;oe.size>0&&(oe=new Map(oe),oe.forEach((Be,Ze)=>oe.set(Ze,Uc)));let we=I===!0||A.navigation.formMethod!=null&&Xr(A.navigation.formMethod)&&((Y=T.state)==null?void 0:Y._isRedirect)!==!0;a&&(o=a,a=void 0),he||D===kt.Pop||(D===kt.Push?n.history.push(T,T.state):D===kt.Replace&&n.history.replace(T,T.state));let We;if(D===kt.Pop){let Be=J.get(A.location.pathname);Be&&Be.has(T.pathname)?We={currentLocation:A.location,nextLocation:T}:J.has(T.pathname)&&(We={currentLocation:T,nextLocation:A.location})}else if(ne){let Be=J.get(A.location.pathname);Be?Be.add(T.pathname):(Be=new Set([T.pathname]),J.set(A.location.pathname,Be)),We={currentLocation:A.location,nextLocation:T}}Pe(ft({},R,{actionData:H,loaderData:ge,historyAction:D,location:T,initialized:!0,navigation:Ev,revalidation:"idle",restoreScrollPosition:tE(T,R.matches||A.matches),preventScrollReset:we,blockers:oe}),{viewTransitionOpts:We,flushSync:ee===!0}),D=kt.Pop,I=!1,ne=!1,he=!1,pe=!1,V=[]}async function bt(T,R){if(typeof T=="number"){n.history.go(T);return}let O=M0(A.location,A.matches,l,h.v7_prependBasename,T,h.v7_relativeSplatPath,R==null?void 0:R.fromRouteId,R==null?void 0:R.relative),{path:z,submission:Y,error:ee}=vS(h.v7_normalizeFormMethod,!1,O,R),ce=A.location,H=Gd(A.location,z,R&&R.state);H=ft({},H,n.history.encodeLocation(H));let ge=R&&R.replace!=null?R.replace:void 0,oe=kt.Push;ge===!0?oe=kt.Replace:ge===!1||Y!=null&&Xr(Y.formMethod)&&Y.formAction===A.location.pathname+A.location.search&&(oe=kt.Replace);let we=R&&"preventScrollReset"in R?R.preventScrollReset===!0:void 0,We=(R&&R.unstable_flushSync)===!0,Be=Jb({currentLocation:ce,nextLocation:H,historyAction:oe});if(Be){up(Be,{state:"blocked",location:H,proceed(){up(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),bt(T,R)},reset(){let Ze=new Map(A.blockers);Ze.set(Be,Uc),Pe({blockers:Ze})}});return}return await Ii(oe,H,{submission:Y,pendingError:ee,preventScrollReset:we,replace:R&&R.replace,enableViewTransition:R&&R.unstable_viewTransition,flushSync:We})}function si(){if(Fs(),Pe({revalidation:"loading"}),A.navigation.state!=="submitting"){if(A.navigation.state==="idle"){Ii(A.historyAction,A.location,{startUninterruptedRevalidation:!0});return}Ii(D||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation})}}async function Ii(T,R,O){j&&j.abort(),j=null,D=T,he=(O&&O.startUninterruptedRevalidation)===!0,YR(A.location,A.matches),I=(O&&O.preventScrollReset)===!0,ne=(O&&O.enableViewTransition)===!0;let z=a||o,Y=O&&O.overrideNavigation,ee=ia(z,R,l),ce=(O&&O.flushSync)===!0,H=dp(ee,z,R.pathname);if(H.active&&H.matches&&(ee=H.matches),!ee){let{error:ze,notFoundMatches:Wt,route:At}=Gy(R.pathname);ut(R,{matches:Wt,loaderData:{},errors:{[At.id]:ze}},{flushSync:ce});return}if(A.initialized&&!pe&&gO(A.location,R)&&!(O&&O.submission&&Xr(O.submission.formMethod))){ut(R,{matches:ee},{flushSync:ce});return}j=new AbortController;let ge=Fl(n.history,R,j.signal,O&&O.submission),oe;if(O&&O.pendingError)oe=[ru(ee).route.id,{type:qe.error,error:O.pendingError}];else if(O&&O.submission&&Xr(O.submission.formMethod)){let ze=await By(ge,R,O.submission,ee,H.active,{replace:O.replace,flushSync:ce});if(ze.shortCircuited)return;if(ze.pendingActionResult){let[Wt,At]=ze.pendingActionResult;if(tr(At)&&dy(At.error)&&At.error.status===404){j=null,ut(R,{matches:ze.matches,loaderData:{},errors:{[Wt]:At.error}});return}}ee=ze.matches||ee,oe=ze.pendingActionResult,Y=Sv(R,O.submission),ce=!1,H.active=!1,ge=Fl(n.history,ge.url,ge.signal)}let{shortCircuited:we,matches:We,loaderData:Be,errors:Ze}=await Uy(ge,R,ee,H.active,Y,O&&O.submission,O&&O.fetcherSubmission,O&&O.replace,O&&O.initialHydration===!0,ce,oe);we||(j=null,ut(R,ft({matches:We||ee},CS(oe),{loaderData:Be,errors:Ze})))}async function By(T,R,O,z,Y,ee){ee===void 0&&(ee={}),Fs();let ce=bO(R,O);if(Pe({navigation:ce},{flushSync:ee.flushSync===!0}),Y){let oe=await hp(z,R.pathname,T.signal);if(oe.type==="aborted")return{shortCircuited:!0};if(oe.type==="error"){let{boundaryId:we,error:We}=cp(R.pathname,oe);return{matches:oe.partialMatches,pendingActionResult:[we,{type:qe.error,error:We}]}}else if(oe.matches)z=oe.matches;else{let{notFoundMatches:we,error:We,route:Be}=Gy(R.pathname);return{matches:we,pendingActionResult:[Be.id,{type:qe.error,error:We}]}}}let H,ge=Qc(z,R);if(!ge.route.action&&!ge.route.lazy)H={type:qe.error,error:wn(405,{method:T.method,pathname:R.pathname,routeId:ge.route.id})};else if(H=(await pr("action",T,[ge],z))[0],T.signal.aborted)return{shortCircuited:!0};if(da(H)){let oe;return ee&&ee.replace!=null?oe=ee.replace:oe=ES(H.response.headers.get("Location"),new URL(T.url),l)===A.location.pathname+A.location.search,await Ko(T,H,{submission:O,replace:oe}),{shortCircuited:!0}}if(ca(H))throw wn(400,{type:"defer-action"});if(tr(H)){let oe=ru(z,ge.route.id);return(ee&&ee.replace)!==!0&&(D=kt.Push),{matches:z,pendingActionResult:[oe.route.id,H]}}return{matches:z,pendingActionResult:[ge.route.id,H]}}async function Uy(T,R,O,z,Y,ee,ce,H,ge,oe,we){let We=Y||Sv(R,ee),Be=ee||ce||LS(We),Ze=!he&&(!h.v7_partialHydration||!ge);if(z){if(Ze){let vt=Xo(we);Pe(ft({navigation:We},vt!==void 0?{actionData:vt}:{}),{flushSync:oe})}let _e=await hp(O,R.pathname,T.signal);if(_e.type==="aborted")return{shortCircuited:!0};if(_e.type==="error"){let{boundaryId:vt,error:Hn}=cp(R.pathname,_e);return{matches:_e.partialMatches,loaderData:{},errors:{[vt]:Hn}}}else if(_e.matches)O=_e.matches;else{let{error:vt,notFoundMatches:Hn,route:ot}=Gy(R.pathname);return{matches:Hn,loaderData:{},errors:{[ot.id]:vt}}}}let ze=a||o,[Wt,At]=wS(n.history,A,O,Be,R,h.v7_partialHydration&&ge===!0,h.v7_skipActionErrorRevalidation,pe,V,F,De,Ye,Ee,ze,l,we);if(qy(_e=>!(O&&O.some(vt=>vt.route.id===_e))||Wt&&Wt.some(vt=>vt.route.id===_e)),Re=++ie,Wt.length===0&&At.length===0){let _e=Yb();return ut(R,ft({matches:O,loaderData:{},errors:we&&tr(we[1])?{[we[0]]:we[1].error}:null},CS(we),_e?{fetchers:new Map(A.fetchers)}:{}),{flushSync:oe}),{shortCircuited:!0}}if(Ze){let _e={};if(!z){_e.navigation=We;let vt=Xo(we);vt!==void 0&&(_e.actionData=vt)}At.length>0&&(_e.fetchers=Hy(At)),Pe(_e,{flushSync:oe})}At.forEach(_e=>{$.has(_e.key)&&js(_e.key),_e.controller&&$.set(_e.key,_e.controller)});let Mc=()=>At.forEach(_e=>js(_e.key));j&&j.signal.addEventListener("abort",Mc);let{loaderResults:zs,fetcherResults:Ol}=await Yo(A.matches,O,Wt,At,T);if(T.signal.aborted)return{shortCircuited:!0};j&&j.signal.removeEventListener("abort",Mc),At.forEach(_e=>$.delete(_e.key));let Dl=TS([...zs,...Ol]);if(Dl){if(Dl.idx>=Wt.length){let _e=At[Dl.idx-Wt.length].key;Ee.add(_e)}return await Ko(T,Dl.result,{replace:H}),{shortCircuited:!0}}let{loaderData:Nl,errors:oi}=xS(A,O,Wt,zs,we,At,Ol,Se);Se.forEach((_e,vt)=>{_e.subscribe(Hn=>{(Hn||_e.done)&&Se.delete(vt)})}),h.v7_partialHydration&&ge&&A.errors&&Object.entries(A.errors).filter(_e=>{let[vt]=_e;return!Wt.some(Hn=>Hn.route.id===vt)}).forEach(_e=>{let[vt,Hn]=_e;oi=Object.assign(oi||{},{[vt]:Hn})});let fp=Yb(),pp=Zb(Re),mp=fp||pp||At.length>0;return ft({matches:O,loaderData:Nl,errors:oi},mp?{fetchers:new Map(A.fetchers)}:{})}function Xo(T){if(T&&!tr(T[1]))return{[T[0]]:T[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function Hy(T){return T.forEach(R=>{let O=A.fetchers.get(R.key),z=Hc(void 0,O?O.data:void 0);A.fetchers.set(R.key,z)}),new Map(A.fetchers)}function $y(T,R,O,z){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$.has(T)&&js(T);let Y=(z&&z.unstable_flushSync)===!0,ee=a||o,ce=M0(A.location,A.matches,l,h.v7_prependBasename,O,h.v7_relativeSplatPath,R,z==null?void 0:z.relative),H=ia(ee,ce,l),ge=dp(H,ee,ce);if(ge.active&&ge.matches&&(H=ge.matches),!H){Fi(T,R,wn(404,{pathname:ce}),{flushSync:Y});return}let{path:oe,submission:we,error:We}=vS(h.v7_normalizeFormMethod,!0,ce,z);if(We){Fi(T,R,We,{flushSync:Y});return}let Be=Qc(H,oe);if(I=(z&&z.preventScrollReset)===!0,we&&Xr(we.formMethod)){Vy(T,R,oe,Be,H,ge.active,Y,we);return}Ye.set(T,{routeId:R,path:oe}),Wy(T,R,oe,Be,H,ge.active,Y,we)}async function Vy(T,R,O,z,Y,ee,ce,H){Fs(),Ye.delete(T);function ge(ot){if(!ot.route.action&&!ot.route.lazy){let ji=wn(405,{method:H.formMethod,pathname:O,routeId:R});return Fi(T,R,ji,{flushSync:ce}),!0}return!1}if(!ee&&ge(z))return;let oe=A.fetchers.get(T);mr(T,EO(H,oe),{flushSync:ce});let we=new AbortController,We=Fl(n.history,O,we.signal,H);if(ee){let ot=await hp(Y,O,We.signal);if(ot.type==="aborted")return;if(ot.type==="error"){let{error:ji}=cp(O,ot);Fi(T,R,ji,{flushSync:ce});return}else if(ot.matches){if(Y=ot.matches,z=Qc(Y,O),ge(z))return}else{Fi(T,R,wn(404,{pathname:O}),{flushSync:ce});return}}$.set(T,we);let Be=ie,ze=(await pr("action",We,[z],Y))[0];if(We.signal.aborted){$.get(T)===we&&$.delete(T);return}if(h.v7_fetcherPersist&&De.has(T)){if(da(ze)||tr(ze)){mr(T,Hs(void 0));return}}else{if(da(ze))if($.delete(T),Re>Be){mr(T,Hs(void 0));return}else return Ee.add(T),mr(T,Hc(H)),Ko(We,ze,{fetcherSubmission:H});if(tr(ze)){Fi(T,R,ze.error);return}}if(ca(ze))throw wn(400,{type:"defer-action"});let Wt=A.navigation.location||A.location,At=Fl(n.history,Wt,we.signal),Mc=a||o,zs=A.navigation.state!=="idle"?ia(Mc,A.navigation.location,l):A.matches;Ae(zs,"Didn't find any matches after fetcher action");let Ol=++ie;ue.set(T,Ol);let Dl=Hc(H,ze.data);A.fetchers.set(T,Dl);let[Nl,oi]=wS(n.history,A,zs,H,Wt,!1,h.v7_skipActionErrorRevalidation,pe,V,F,De,Ye,Ee,Mc,l,[z.route.id,ze]);oi.filter(ot=>ot.key!==T).forEach(ot=>{let ji=ot.key,rE=A.fetchers.get(ji),JR=Hc(void 0,rE?rE.data:void 0);A.fetchers.set(ji,JR),$.has(ji)&&js(ji),ot.controller&&$.set(ji,ot.controller)}),Pe({fetchers:new Map(A.fetchers)});let fp=()=>oi.forEach(ot=>js(ot.key));we.signal.addEventListener("abort",fp);let{loaderResults:pp,fetcherResults:mp}=await Yo(A.matches,zs,Nl,oi,At);if(we.signal.aborted)return;we.signal.removeEventListener("abort",fp),ue.delete(T),$.delete(T),oi.forEach(ot=>$.delete(ot.key));let _e=TS([...pp,...mp]);if(_e){if(_e.idx>=Nl.length){let ot=oi[_e.idx-Nl.length].key;Ee.add(ot)}return Ko(At,_e.result)}let{loaderData:vt,errors:Hn}=xS(A,A.matches,Nl,pp,void 0,oi,mp,Se);if(A.fetchers.has(T)){let ot=Hs(ze.data);A.fetchers.set(T,ot)}Zb(Ol),A.navigation.state==="loading"&&Ol>Re?(Ae(D,"Expected pending action"),j&&j.abort(),ut(A.navigation.location,{matches:zs,loaderData:vt,errors:Hn,fetchers:new Map(A.fetchers)})):(Pe({errors:Hn,loaderData:AS(A.loaderData,vt,zs,Hn),fetchers:new Map(A.fetchers)}),pe=!1)}async function Wy(T,R,O,z,Y,ee,ce,H){let ge=A.fetchers.get(T);mr(T,Hc(H,ge?ge.data:void 0),{flushSync:ce});let oe=new AbortController,we=Fl(n.history,O,oe.signal);if(ee){let ze=await hp(Y,O,we.signal);if(ze.type==="aborted")return;if(ze.type==="error"){let{error:Wt}=cp(O,ze);Fi(T,R,Wt,{flushSync:ce});return}else if(ze.matches)Y=ze.matches,z=Qc(Y,O);else{Fi(T,R,wn(404,{pathname:O}),{flushSync:ce});return}}$.set(T,oe);let We=ie,Ze=(await pr("loader",we,[z],Y))[0];if(ca(Ze)&&(Ze=await vC(Ze,we.signal,!0)||Ze),$.get(T)===oe&&$.delete(T),!we.signal.aborted){if(De.has(T)){mr(T,Hs(void 0));return}if(da(Ze))if(Re>We){mr(T,Hs(void 0));return}else{Ee.add(T),await Ko(we,Ze);return}if(tr(Ze)){Fi(T,R,Ze.error);return}Ae(!ca(Ze),"Unhandled fetcher deferred data"),mr(T,Hs(Ze.data))}}async function Ko(T,R,O){let{submission:z,fetcherSubmission:Y,replace:ee}=O===void 0?{}:O;R.response.headers.has("X-Remix-Revalidate")&&(pe=!0);let ce=R.response.headers.get("Location");Ae(ce,"Expected a Location header on the redirect Response"),ce=ES(ce,new URL(T.url),l);let H=Gd(A.location,ce,{_isRedirect:!0});if(t){let Ze=!1;if(R.response.headers.has("X-Remix-Reload-Document"))Ze=!0;else if(pb.test(ce)){const ze=n.history.createURL(ce);Ze=ze.origin!==e.location.origin||Zf(ze.pathname,l)==null}if(Ze){ee?e.location.replace(ce):e.location.assign(ce);return}}j=null;let ge=ee===!0||R.response.headers.has("X-Remix-Replace")?kt.Replace:kt.Push,{formMethod:oe,formAction:we,formEncType:We}=A.navigation;!z&&!Y&&oe&&we&&We&&(z=LS(A.navigation));let Be=z||Y;if(nO.has(R.response.status)&&Be&&Xr(Be.formMethod))await Ii(ge,H,{submission:ft({},Be,{formAction:ce}),preventScrollReset:I});else{let Ze=Sv(H,z);await Ii(ge,H,{overrideNavigation:Ze,fetcherSubmission:Y,preventScrollReset:I})}}async function pr(T,R,O,z){try{let Y=await dO(u,T,R,O,z,s,i);return await Promise.all(Y.map((ee,ce)=>{if(vO(ee)){let H=ee.result;return{type:qe.redirect,response:pO(H,R,O[ce].route.id,z,l,h.v7_relativeSplatPath)}}return fO(ee)}))}catch(Y){return O.map(()=>({type:qe.error,error:Y}))}}async function Yo(T,R,O,z,Y){let[ee,...ce]=await Promise.all([O.length?pr("loader",Y,O,R):[],...z.map(H=>{if(H.matches&&H.match&&H.controller){let ge=Fl(n.history,H.path,H.controller.signal);return pr("loader",ge,[H.match],H.matches).then(oe=>oe[0])}else return Promise.resolve({type:qe.error,error:wn(404,{pathname:H.path})})})]);return await Promise.all([PS(T,O,ee,ee.map(()=>Y.signal),!1,A.loaderData),PS(T,z.map(H=>H.match),ce,z.map(H=>H.controller?H.controller.signal:null),!0)]),{loaderResults:ee,fetcherResults:ce}}function Fs(){pe=!0,V.push(...qy()),Ye.forEach((T,R)=>{$.has(R)&&(F.add(R),js(R))})}function mr(T,R,O){O===void 0&&(O={}),A.fetchers.set(T,R),Pe({fetchers:new Map(A.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function Fi(T,R,O,z){z===void 0&&(z={});let Y=ru(A.matches,R);lp(T),Pe({errors:{[Y.route.id]:O},fetchers:new Map(A.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function Xb(T){return h.v7_fetcherPersist&&(lt.set(T,(lt.get(T)||0)+1),De.has(T)&&De.delete(T)),A.fetchers.get(T)||rO}function lp(T){let R=A.fetchers.get(T);$.has(T)&&!(R&&R.state==="loading"&&ue.has(T))&&js(T),Ye.delete(T),ue.delete(T),Ee.delete(T),De.delete(T),F.delete(T),A.fetchers.delete(T)}function qR(T){if(h.v7_fetcherPersist){let R=(lt.get(T)||0)-1;R<=0?(lt.delete(T),De.add(T)):lt.set(T,R)}else lp(T);Pe({fetchers:new Map(A.fetchers)})}function js(T){let R=$.get(T);Ae(R,"Expected fetch controller: "+T),R.abort(),$.delete(T)}function Kb(T){for(let R of T){let O=Xb(R),z=Hs(O.data);A.fetchers.set(R,z)}}function Yb(){let T=[],R=!1;for(let O of Ee){let z=A.fetchers.get(O);Ae(z,"Expected fetcher: "+O),z.state==="loading"&&(Ee.delete(O),T.push(O),R=!0)}return Kb(T),R}function Zb(T){let R=[];for(let[O,z]of ue)if(z<T){let Y=A.fetchers.get(O);Ae(Y,"Expected fetcher: "+O),Y.state==="loading"&&(js(O),ue.delete(O),R.push(O))}return Kb(R),R.length>0}function XR(T,R){let O=A.blockers.get(T)||Uc;return yt.get(T)!==R&&yt.set(T,R),O}function Qb(T){A.blockers.delete(T),yt.delete(T)}function up(T,R){let O=A.blockers.get(T)||Uc;Ae(O.state==="unblocked"&&R.state==="blocked"||O.state==="blocked"&&R.state==="blocked"||O.state==="blocked"&&R.state==="proceeding"||O.state==="blocked"&&R.state==="unblocked"||O.state==="proceeding"&&R.state==="unblocked","Invalid blocker state transition: "+O.state+" -> "+R.state);let z=new Map(A.blockers);z.set(T,R),Pe({blockers:z})}function Jb(T){let{currentLocation:R,nextLocation:O,historyAction:z}=T;if(yt.size===0)return;yt.size>1&&wc(!1,"A router only supports one blocker at a time");let Y=Array.from(yt.entries()),[ee,ce]=Y[Y.length-1],H=A.blockers.get(ee);if(!(H&&H.state==="proceeding")&&ce({currentLocation:R,nextLocation:O,historyAction:z}))return ee}function Gy(T){let R=wn(404,{pathname:T}),O=a||o,{matches:z,route:Y}=kS(O);return qy(),{notFoundMatches:z,route:Y,error:R}}function cp(T,R){return{boundaryId:ru(R.partialMatches).route.id,error:wn(400,{type:"route-discovery",pathname:T,message:R.error!=null&&"message"in R.error?R.error:String(R.error)})}}function qy(T){let R=[];return Se.forEach((O,z)=>{(!T||T(z))&&(O.cancel(),R.push(z),Se.delete(z))}),R}function KR(T,R,O){if(w=T,v=R,g=O||null,!_&&A.navigation===Ev){_=!0;let z=tE(A.location,A.matches);z!=null&&Pe({restoreScrollPosition:z})}return()=>{w=null,v=null,g=null}}function eE(T,R){return g&&g(T,R.map(z=>DM(z,A.loaderData)))||T.key}function YR(T,R){if(w&&v){let O=eE(T,R);w[O]=v()}}function tE(T,R){if(w){let O=eE(T,R),z=w[O];if(typeof z=="number")return z}return null}function dp(T,R,O){if(d){if(y.has(O))return{active:!1,matches:T};if(T){if(Object.keys(T[0].params).length>0)return{active:!0,matches:Qp(R,O,l,!0)}}else return{active:!0,matches:Qp(R,O,l,!0)||[]}}return{active:!1,matches:null}}async function hp(T,R,O){let z=T;for(;;){let Y=a==null,ee=a||o;try{await uO(d,R,z,ee,s,i,fr,O)}catch(ge){return{type:"error",error:ge,partialMatches:z}}finally{Y&&(o=[...o])}if(O.aborted)return{type:"aborted"};let ce=ia(ee,R,l);if(ce)return nE(R,y),{type:"success",matches:ce};let H=Qp(ee,R,l,!0);if(!H||z.length===H.length&&z.every((ge,oe)=>ge.route.id===H[oe].route.id))return nE(R,y),{type:"success",matches:null};z=H}}function nE(T,R){if(R.size>=m){let O=R.values().next().value;R.delete(O)}R.add(T)}function ZR(T){s={},a=qd(T,i,void 0,s)}function QR(T,R){let O=a==null;mC(T,R,a||o,s,i),O&&(o=[...o],Pe({}))}return P={get basename(){return l},get future(){return h},get state(){return A},get routes(){return o},get window(){return e},initialize:Go,subscribe:Ve,enableScrollRestoration:KR,navigate:bt,fetch:$y,revalidate:si,createHref:T=>n.history.createHref(T),encodeLocation:T=>n.history.encodeLocation(T),getFetcher:Xb,deleteFetcher:qR,dispose:qo,getBlocker:XR,deleteBlocker:Qb,patchRoutes:QR,_internalFetchControllers:$,_internalActiveDeferreds:Se,_internalSetRoutes:ZR},P}function oO(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function M0(n,e,t,r,i,s,o,a){let l,u;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){u=h;break}}else l=e,u=e[e.length-1];let d=dC(i||".",cC(l,s),Zf(n.pathname,t)||n.pathname,a==="path");return i==null&&(d.search=n.search,d.hash=n.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!mb(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Po([t,d.pathname])),Yf(d)}function vS(n,e,t,r){if(!r||!oO(r))return{path:t};if(r.formMethod&&!_O(r.formMethod))return{path:t,error:wn(405,{method:r.formMethod})};let i=()=>({path:t,error:wn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=n?s.toUpperCase():s.toLowerCase(),a=gC(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Xr(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,m)=>{let[y,w]=m;return""+p+y+"="+w+`
`},""):String(r.body);return{path:t,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Xr(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Ae(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=O0(r.formData),u=r.formData;else if(r.body instanceof FormData)l=O0(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=SS(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=SS(l)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Xr(d.formMethod))return{path:t,submission:d};let h=Vo(t);return e&&h.search&&mb(h.search)&&l.append("index",""),h.search="?"+l,{path:Yf(h),submission:d}}function aO(n,e){let t=n;if(e){let r=n.findIndex(i=>i.route.id===e);r>=0&&(t=n.slice(0,r))}return t}function wS(n,e,t,r,i,s,o,a,l,u,d,h,f,p,m,y){let w=y?tr(y[1])?y[1].error:y[1].data:void 0,g=n.createURL(e.location),v=n.createURL(i),_=y&&tr(y[1])?y[0]:void 0,x=_?aO(t,_):t,C=y?y[1].statusCode:void 0,k=o&&C&&C>=400,P=x.filter((D,I)=>{let{route:j}=D;if(j.lazy)return!0;if(j.loader==null)return!1;if(s)return typeof j.loader!="function"||j.loader.hydrate?!0:e.loaderData[j.id]===void 0&&(!e.errors||e.errors[j.id]===void 0);if(lO(e.loaderData,e.matches[I],D)||l.some(X=>X===D.route.id))return!0;let ne=e.matches[I],J=D;return _S(D,ft({currentUrl:g,currentParams:ne.params,nextUrl:v,nextParams:J.params},r,{actionResult:w,actionStatus:C,defaultShouldRevalidate:k?!1:a||g.pathname+g.search===v.pathname+v.search||g.search!==v.search||pC(ne,J)}))}),A=[];return h.forEach((D,I)=>{if(s||!t.some(he=>he.route.id===D.routeId)||d.has(I))return;let j=ia(p,D.path,m);if(!j){A.push({key:I,routeId:D.routeId,path:D.path,matches:null,match:null,controller:null});return}let ne=e.fetchers.get(I),J=Qc(j,D.path),X=!1;f.has(I)?X=!1:u.has(I)?(u.delete(I),X=!0):ne&&ne.state!=="idle"&&ne.data===void 0?X=a:X=_S(J,ft({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:t[t.length-1].params},r,{actionResult:w,actionStatus:C,defaultShouldRevalidate:k?!1:a})),X&&A.push({key:I,routeId:D.routeId,path:D.path,matches:j,match:J,controller:new AbortController})}),[P,A]}function lO(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function pC(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function _S(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function uO(n,e,t,r,i,s,o,a){let l=[e,...t.map(u=>u.route.id)].join("-");try{let u=o.get(l);u||(u=n({path:e,matches:t,patch:(d,h)=>{a.aborted||mC(d,h,r,i,s)}}),o.set(l,u)),u&&yO(u)&&await u}finally{o.delete(l)}}function mC(n,e,t,r,i){if(n){var s;let o=r[n];Ae(o,"No route found to patch children into: routeId = "+n);let a=qd(e,i,[n,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=qd(e,i,["patch",String(t.length||"0")],r);t.push(...o)}}async function bS(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];Ae(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";wc(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!MM.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,ft({},e(i),{lazy:void 0}))}function cO(n){return Promise.all(n.matches.map(e=>e.resolve()))}async function dO(n,e,t,r,i,s,o,a){let l=r.reduce((h,f)=>h.add(f.route.id),new Set),u=new Set,d=await n({matches:i.map(h=>{let f=l.has(h.route.id);return ft({},h,{shouldLoad:f,resolve:m=>(u.add(h.route.id),f?hO(e,t,h,s,o,m,a):Promise.resolve({type:qe.data,result:void 0}))})}),request:t,params:i[0].params,context:a});return i.forEach(h=>Ae(u.has(h.route.id),'`match.resolve()` was not called for route id "'+h.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),d.filter((h,f)=>l.has(i[f].route.id))}async function hO(n,e,t,r,i,s,o){let a,l,u=d=>{let h,f=new Promise((y,w)=>h=w);l=()=>h(),e.signal.addEventListener("abort",l);let p=y=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):d({request:e,params:t.params,context:o},...y!==void 0?[y]:[]),m;return s?m=s(y=>p(y)):m=(async()=>{try{return{type:"data",result:await p()}}catch(y){return{type:"error",result:y}}})(),Promise.race([m,f])};try{let d=t.route[n];if(t.route.lazy)if(d){let h,[f]=await Promise.all([u(d).catch(p=>{h=p}),bS(t.route,i,r)]);if(h!==void 0)throw h;a=f}else if(await bS(t.route,i,r),d=t.route[n],d)a=await u(d);else if(n==="action"){let h=new URL(e.url),f=h.pathname+h.search;throw wn(405,{method:e.method,pathname:f,routeId:t.route.id})}else return{type:qe.data,result:void 0};else if(d)a=await u(d);else{let h=new URL(e.url),f=h.pathname+h.search;throw wn(404,{pathname:f})}Ae(a.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:qe.error,result:d}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function fO(n){let{result:e,type:t}=n;if(yC(e)){let u;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(d){return{type:qe.error,error:d}}return t===qe.error?{type:qe.error,error:new ng(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:qe.data,data:u,statusCode:e.status,headers:e.headers}}if(t===qe.error){if(RS(e)){var r;if(e.data instanceof Error){var i;return{type:qe.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new ng(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:qe.error,error:e,statusCode:dy(e)?e.status:void 0}}if(wO(e)){var s,o;return{type:qe.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(RS(e)){var a,l;return{type:qe.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:qe.data,data:e}}function pO(n,e,t,r,i,s){let o=n.headers.get("Location");if(Ae(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!pb.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===t)+1);o=M0(new URL(e.url),a,i,!0,o,s),n.headers.set("Location",o)}return n}function ES(n,e,t){if(pb.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Zf(i.pathname,t)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return n}function Fl(n,e,t,r){let i=n.createURL(gC(e)).toString(),s={signal:t};if(r&&Xr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=O0(r.formData):s.body=r.formData}return new Request(i,s)}function O0(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function SS(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function mO(n,e,t,r,i,s){let o={},a=null,l,u=!1,d={},h=r&&tr(r[1])?r[1].error:void 0;return t.forEach((f,p)=>{let m=e[p].route.id;if(Ae(!da(f),"Cannot handle redirect results in processLoaderData"),tr(f)){let y=f.error;h!==void 0&&(y=h,h=void 0),a=a||{};{let w=ru(n,m);a[w.route.id]==null&&(a[w.route.id]=y)}o[m]=void 0,u||(u=!0,l=dy(f.error)?f.error.status:500),f.headers&&(d[m]=f.headers)}else ca(f)?(i.set(m,f.deferredData),o[m]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!u&&(l=f.statusCode),f.headers&&(d[m]=f.headers)):(o[m]=f.data,f.statusCode&&f.statusCode!==200&&!u&&(l=f.statusCode),f.headers&&(d[m]=f.headers))}),h!==void 0&&r&&(a={[r[0]]:h},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:d}}function xS(n,e,t,r,i,s,o,a){let{loaderData:l,errors:u}=mO(e,t,r,i,a);for(let d=0;d<s.length;d++){let{key:h,match:f,controller:p}=s[d];Ae(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let m=o[d];if(!(p&&p.signal.aborted))if(tr(m)){let y=ru(n.matches,f==null?void 0:f.route.id);u&&u[y.route.id]||(u=ft({},u,{[y.route.id]:m.error})),n.fetchers.delete(h)}else if(da(m))Ae(!1,"Unhandled fetcher revalidation redirect");else if(ca(m))Ae(!1,"Unhandled fetcher deferred data");else{let y=Hs(m.data);n.fetchers.set(h,y)}}return{loaderData:l,errors:u}}function AS(n,e,t,r){let i=ft({},e);for(let s of t){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):n[o]!==void 0&&s.route.loader&&(i[o]=n[o]),r&&r.hasOwnProperty(o))break}return i}function CS(n){return n?tr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ru(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function kS(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function wn(n,e){let{pathname:t,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return n===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+t+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):i&&t&&r?l="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):n===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+t+'"'):n===404?(a="Not Found",l='No route matches URL "'+t+'"'):n===405&&(a="Method Not Allowed",i&&t&&r?l="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new ng(n||500,a,new Error(l),!0)}function TS(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(da(t))return{result:t,idx:e}}}function gC(n){let e=typeof n=="string"?Vo(n):n;return Yf(ft({},e,{hash:""}))}function gO(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function yO(n){return typeof n=="object"&&n!=null&&"then"in n}function vO(n){return yC(n.result)&&tO.has(n.result.status)}function ca(n){return n.type===qe.deferred}function tr(n){return n.type===qe.error}function da(n){return(n&&n.type)===qe.redirect}function RS(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function wO(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function yC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function _O(n){return eO.has(n.toLowerCase())}function Xr(n){return QM.has(n.toLowerCase())}async function PS(n,e,t,r,i,s){for(let o=0;o<t.length;o++){let a=t[o],l=e[o];if(!l)continue;let u=n.find(h=>h.route.id===l.route.id),d=u!=null&&!pC(u,l)&&(s&&s[l.route.id])!==void 0;if(ca(a)&&(i||d)){let h=r[o];Ae(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await vC(a,h,i).then(f=>{f&&(t[o]=f||t[o])})}}}async function vC(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:qe.data,data:n.deferredData.unwrappedData}}catch(i){return{type:qe.error,error:i}}return{type:qe.data,data:n.deferredData.data}}}function mb(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Qc(n,e){let t=typeof e=="string"?Vo(e).search:e.search;if(n[n.length-1].route.index&&mb(t||""))return n[n.length-1];let r=uC(n);return r[r.length-1]}function LS(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:s,json:o}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:o,text:void 0}}}function Sv(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function bO(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Hc(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function EO(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Hs(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function SO(n,e){try{let t=n.sessionStorage.getItem(fC);if(t){let r=JSON.parse(t);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function xO(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(fC,JSON.stringify(t))}catch(r){wc(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rg(){return rg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},rg.apply(this,arguments)}const hy=L.createContext(null),wC=L.createContext(null),fy=L.createContext(null),gb=L.createContext(null),Rc=L.createContext({outlet:null,matches:[],isDataRoute:!1}),_C=L.createContext(null);function py(){return L.useContext(gb)!=null}function bC(){return py()||Ae(!1),L.useContext(gb).location}function EC(n){L.useContext(fy).static||L.useLayoutEffect(n)}function Qf(){let{isDataRoute:n}=L.useContext(Rc);return n?IO():AO()}function AO(){py()||Ae(!1);let n=L.useContext(hy),{basename:e,future:t,navigator:r}=L.useContext(fy),{matches:i}=L.useContext(Rc),{pathname:s}=bC(),o=JSON.stringify(cC(i,t.v7_relativeSplatPath)),a=L.useRef(!1);return EC(()=>{a.current=!0}),L.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=dC(u,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Po([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,n])}function CO(n,e,t,r){py()||Ae(!1);let{navigator:i}=L.useContext(fy),{matches:s}=L.useContext(Rc),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=bC(),d;d=u;let h=d.pathname||"/",f=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=ia(n,{pathname:f});return LO(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Po([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Po([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,t,r)}function kO(){let n=NO(),e=dy(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:i},t):null,null)}const TO=L.createElement(kO,null);class RO extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?L.createElement(Rc.Provider,{value:this.props.routeContext},L.createElement(_C.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PO(n){let{routeContext:e,match:t,children:r}=n,i=L.useContext(hy);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(Rc.Provider,{value:e},r)}function LO(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Ae(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=t,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,m=!1,y=null,w=null;t&&(p=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||TO,l&&(u<0&&f===0?(FO("route-fallback"),m=!0,w=null):u===f&&(m=!0,w=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),v=()=>{let _;return p?_=y:m?_=w:h.route.Component?_=L.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,L.createElement(PO,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:t!=null},children:_})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?L.createElement(RO,{location:t.location,revalidation:t.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var SC=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(SC||{}),ig=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(ig||{});function MO(n){let e=L.useContext(hy);return e||Ae(!1),e}function OO(n){let e=L.useContext(wC);return e||Ae(!1),e}function DO(n){let e=L.useContext(Rc);return e||Ae(!1),e}function xC(n){let e=DO(),t=e.matches[e.matches.length-1];return t.route.id||Ae(!1),t.route.id}function NO(){var n;let e=L.useContext(_C),t=OO(ig.UseRouteError),r=xC(ig.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function IO(){let{router:n}=MO(SC.UseNavigateStable),e=xC(ig.UseNavigateStable),t=L.useRef(!1);return EC(()=>{t.current=!0}),L.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,rg({fromRouteId:e},s)))},[n,e])}const MS={};function FO(n,e,t){MS[n]||(MS[n]=!0)}function jO(n){let{basename:e="/",children:t=null,location:r,navigationType:i=kt.Pop,navigator:s,static:o=!1,future:a}=n;py()&&Ae(!1);let l=e.replace(/^\/*/,"/"),u=L.useMemo(()=>({basename:l,navigator:s,static:o,future:rg({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Vo(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,y=L.useMemo(()=>{let w=Zf(d,l);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:m},navigationType:i}},[l,d,h,f,p,m,i]);return y==null?null:L.createElement(fy.Provider,{value:u},L.createElement(gb.Provider,{children:t,value:y}))}new Promise(()=>{});function zO(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:L.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:L.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:L.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sg(){return sg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sg.apply(this,arguments)}const BO="6";try{window.__reactRouterVersion=BO}catch{}function UO(n,e){return sO({basename:void 0,future:sg({},void 0,{v7_prependBasename:!0}),history:RM({window:void 0}),hydrationData:HO(),routes:n,mapRouteProperties:zO,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function HO(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=sg({},e,{errors:$O(e.errors)})),e}function $O(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new ng(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",t[r]=o}catch{}}if(t[r]==null){let s=new Error(i.message);s.stack="",t[r]=s}}else t[r]=i;return t}const VO=L.createContext({isTransitioning:!1}),WO=L.createContext(new Map),GO="startTransition",OS=zv[GO],qO="flushSync",DS=TM[qO];function XO(n){OS?OS(n):n()}function $c(n){DS?DS(n):n()}class KO{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}}function YO(n){let{fallbackElement:e,router:t,future:r}=n,[i,s]=L.useState(t.state),[o,a]=L.useState(),[l,u]=L.useState({isTransitioning:!1}),[d,h]=L.useState(),[f,p]=L.useState(),[m,y]=L.useState(),w=L.useRef(new Map),{v7_startTransition:g}=r||{},v=L.useCallback(A=>{g?XO(A):A()},[g]),_=L.useCallback((A,D)=>{let{deletedFetchers:I,unstable_flushSync:j,unstable_viewTransitionOpts:ne}=D;I.forEach(X=>w.current.delete(X)),A.fetchers.forEach((X,he)=>{X.data!==void 0&&w.current.set(he,X.data)});let J=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!ne||J){j?$c(()=>s(A)):v(()=>s(A));return}if(j){$c(()=>{f&&(d&&d.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:ne.currentLocation,nextLocation:ne.nextLocation})});let X=t.window.document.startViewTransition(()=>{$c(()=>s(A))});X.finished.finally(()=>{$c(()=>{h(void 0),p(void 0),a(void 0),u({isTransitioning:!1})})}),$c(()=>p(X));return}f?(d&&d.resolve(),f.skipTransition(),y({state:A,currentLocation:ne.currentLocation,nextLocation:ne.nextLocation})):(a(A),u({isTransitioning:!0,flushSync:!1,currentLocation:ne.currentLocation,nextLocation:ne.nextLocation}))},[t.window,f,d,w,v]);L.useLayoutEffect(()=>t.subscribe(_),[t,_]),L.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new KO)},[l]),L.useEffect(()=>{if(d&&o&&t.window){let A=o,D=d.promise,I=t.window.document.startViewTransition(async()=>{v(()=>s(A)),await D});I.finished.finally(()=>{h(void 0),p(void 0),a(void 0),u({isTransitioning:!1})}),p(I)}},[v,o,d,t.window]),L.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,f,i.location,o]),L.useEffect(()=>{!l.isTransitioning&&m&&(a(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),y(void 0))},[l.isTransitioning,m]),L.useEffect(()=>{},[]);let x=L.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:A=>t.navigate(A),push:(A,D,I)=>t.navigate(A,{state:D,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(A,D,I)=>t.navigate(A,{replace:!0,state:D,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[t]),C=t.basename||"/",k=L.useMemo(()=>({router:t,navigator:x,static:!1,basename:C}),[t,x,C]),P=L.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return L.createElement(L.Fragment,null,L.createElement(hy.Provider,{value:k},L.createElement(wC.Provider,{value:i},L.createElement(WO.Provider,{value:w.current},L.createElement(VO.Provider,{value:l},L.createElement(jO,{basename:C,location:i.location,navigationType:i.historyAction,navigator:x,future:P},i.initialized||t.future.v7_partialHydration?L.createElement(ZO,{routes:t.routes,future:t.future,state:i}):e))))),null)}const ZO=L.memo(QO);function QO(n){let{routes:e,future:t,state:r}=n;return CO(e,void 0,r,t)}var NS;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(NS||(NS={}));var IS;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(IS||(IS={}));var AC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},FS=Es.createContext&&Es.createContext(AC),JO=["attr","size","title"];function eD(n,e){if(n==null)return{};var t=tD(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function tD(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function og(){return og=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},og.apply(this,arguments)}function jS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ag(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jS(Object(t),!0).forEach(function(r){nD(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jS(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nD(n,e,t){return e=rD(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rD(n){var e=iD(n,"string");return typeof e=="symbol"?e:e+""}function iD(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function CC(n){return n&&n.map((e,t)=>Es.createElement(e.tag,ag({key:t},e.attr),CC(e.child)))}function my(n){return e=>Es.createElement(sD,og({attr:ag({},n.attr)},e),CC(n.child))}function sD(n){var e=t=>{var{attr:r,size:i,title:s}=n,o=eD(n,JO),a=i||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),Es.createElement("svg",og({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:l,style:ag(ag({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Es.createElement("title",null,s),n.children)};return FS!==void 0?Es.createElement(FS.Consumer,null,t=>e(t)):e(AC)}function oD(n){return my({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M403.002 217.001C388.998 148.002 328.998 96 256 96c-57.998 0-107.998 32.998-132.998 81.001C63.002 183.002 16 233.998 16 296c0 65.996 53.999 120 120 120h260c55 0 100-45 100-100 0-52.998-40.996-96.001-92.998-98.999zM288 276v76h-64v-76h-68l100-100 100 100h-68z"},child:[]}]})(n)}var Oe;(function(n){n.assertEqual=i=>i;function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},n.getValidEnumValues=i=>{const s=n.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return n.objectValues(o)},n.objectValues=i=>n.objectKeys(i).map(function(s){return i[s]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},n.find=(i,s)=>{for(const o of i)if(s(o))return o},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}n.joinValues=r,n.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Oe||(Oe={}));var D0;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(D0||(D0={}));const K=Oe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ys=n=>{switch(typeof n){case"undefined":return K.undefined;case"string":return K.string;case"number":return isNaN(n)?K.nan:K.number;case"boolean":return K.boolean;case"function":return K.function;case"bigint":return K.bigint;case"symbol":return K.symbol;case"object":return Array.isArray(n)?K.array:n===null?K.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?K.promise:typeof Map<"u"&&n instanceof Map?K.map:typeof Set<"u"&&n instanceof Set?K.set:typeof Date<"u"&&n instanceof Date?K.date:K.object;default:return K.unknown}},U=Oe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),aD=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class or extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(t(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),r}static assert(e){if(!(e instanceof or))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Oe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}or.create=n=>new or(n);const _c=(n,e)=>{let t;switch(n.code){case U.invalid_type:n.received===K.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case U.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Oe.jsonStringifyReplacer)}`;break;case U.unrecognized_keys:t=`Unrecognized key(s) in object: ${Oe.joinValues(n.keys,", ")}`;break;case U.invalid_union:t="Invalid input";break;case U.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Oe.joinValues(n.options)}`;break;case U.invalid_enum_value:t=`Invalid enum value. Expected ${Oe.joinValues(n.options)}, received '${n.received}'`;break;case U.invalid_arguments:t="Invalid function arguments";break;case U.invalid_return_type:t="Invalid function return type";break;case U.invalid_date:t="Invalid date";break;case U.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Oe.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case U.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case U.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case U.custom:t="Invalid input";break;case U.invalid_intersection_types:t="Intersection results could not be merged";break;case U.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case U.not_finite:t="Number must be finite";break;default:t=e.defaultError,Oe.assertNever(n)}return{message:t}};let kC=_c;function lD(n){kC=n}function lg(){return kC}const ug=n=>{const{data:e,path:t,errorMaps:r,issueData:i}=n,s=[...t,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},uD=[];function q(n,e){const t=lg(),r=ug({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===_c?void 0:_c].filter(i=>!!i)});n.common.issues.push(r)}class mn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const i of t){if(i.status==="aborted")return le;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const i of t){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return mn.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const i of t){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return le;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const le=Object.freeze({status:"aborted"}),iu=n=>({status:"dirty",value:n}),An=n=>({status:"valid",value:n}),N0=n=>n.status==="aborted",I0=n=>n.status==="dirty",Xd=n=>n.status==="valid",Kd=n=>typeof Promise<"u"&&n instanceof Promise;function cg(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function TC(n,e,t,r,i){if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var re;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(re||(re={}));var Jc,ed;class Oi{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const zS=(n,e)=>{if(Xd(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new or(n.common.issues);return this._error=t,this._error}}};function ve(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:i}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var l,u;const{message:d}=n;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=d??t)!==null&&u!==void 0?u:a.defaultError}},description:i}}class be{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ys(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ys(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new mn,ctx:{common:e.parent.common,data:e.data,parsedType:Ys(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Kd(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const i={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ys(e)},s=this._parseSync({data:e,path:i.path,parent:i});return zS(i,s)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ys(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Kd(i)?i:Promise.resolve(i));return zS(r,s)}refine(e,t){const r=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:U.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new ri({schema:this,typeName:ae.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Pi.create(this,this._def)}nullable(){return Io.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ei.create(this,this._def)}promise(){return Ec.create(this,this._def)}or(e){return Jd.create([this,e],this._def)}and(e){return eh.create(this,e,this._def)}transform(e){return new ri({...ve(this._def),schema:this,typeName:ae.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new sh({...ve(this._def),innerType:this,defaultValue:t,typeName:ae.ZodDefault})}brand(){return new yb({typeName:ae.ZodBranded,type:this,...ve(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new oh({...ve(this._def),innerType:this,catchValue:t,typeName:ae.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Jf.create(this,e)}readonly(){return ah.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cD=/^c[^\s-]{8,}$/i,dD=/^[0-9a-z]+$/,hD=/^[0-9A-HJKMNP-TV-Z]{26}$/,fD=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,pD=/^[a-z0-9_-]{21}$/i,mD=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,gD=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,yD="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let xv;const vD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wD=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,_D=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,RC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",bD=new RegExp(`^${RC}$`);function PC(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function ED(n){return new RegExp(`^${PC(n)}$`)}function LC(n){let e=`${RC}T${PC(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function SD(n,e){return!!((e==="v4"||!e)&&vD.test(n)||(e==="v6"||!e)&&wD.test(n))}class Zr extends be{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==K.string){const s=this._getOrReturnCtx(e);return q(s,{code:U.invalid_type,expected:K.string,received:s.parsedType}),le}const r=new mn;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:U.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:U.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?q(i,{code:U.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&q(i,{code:U.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")gD.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"email",code:U.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")xv||(xv=new RegExp(yD,"u")),xv.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"emoji",code:U.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")fD.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"uuid",code:U.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")pD.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"nanoid",code:U.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")cD.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"cuid",code:U.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")dD.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"cuid2",code:U.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")hD.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"ulid",code:U.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),q(i,{validation:"url",code:U.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"regex",code:U.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),q(i,{code:U.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),q(i,{code:U.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),q(i,{code:U.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?LC(s).test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{code:U.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?bD.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{code:U.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?ED(s).test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{code:U.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?mD.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"duration",code:U.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?SD(e.data,s.version)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"ip",code:U.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?_D.test(e.data)||(i=this._getOrReturnCtx(e,i),q(i,{validation:"base64",code:U.invalid_string,message:s.message}),r.dirty()):Oe.assertNever(s);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(i=>e.test(i),{validation:t,code:U.invalid_string,...re.errToObj(r)})}_addCheck(e){return new Zr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...re.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...re.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...re.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...re.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...re.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...re.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...re.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...re.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...re.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...re.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...re.errToObj(t)})}nonempty(e){return this.min(1,re.errToObj(e))}trim(){return new Zr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Zr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Zr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Zr.create=n=>{var e;return new Zr({checks:[],typeName:ae.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...ve(n)})};function xD(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,s=parseInt(n.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Oo extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==K.number){const s=this._getOrReturnCtx(e);return q(s,{code:U.invalid_type,expected:K.number,received:s.parsedType}),le}let r;const i=new mn;for(const s of this._def.checks)s.kind==="int"?Oe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),q(r,{code:U.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:U.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:U.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?xD(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),q(r,{code:U.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),q(r,{code:U.not_finite,message:s.message}),i.dirty()):Oe.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,re.toString(t))}gt(e,t){return this.setLimit("min",e,!1,re.toString(t))}lte(e,t){return this.setLimit("max",e,!0,re.toString(t))}lt(e,t){return this.setLimit("max",e,!1,re.toString(t))}setLimit(e,t,r,i){return new Oo({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:re.toString(i)}]})}_addCheck(e){return new Oo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:re.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:re.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Oe.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Oo.create=n=>new Oo({checks:[],typeName:ae.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...ve(n)});class Do extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==K.bigint){const s=this._getOrReturnCtx(e);return q(s,{code:U.invalid_type,expected:K.bigint,received:s.parsedType}),le}let r;const i=new mn;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:U.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),q(r,{code:U.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),q(r,{code:U.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Oe.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,re.toString(t))}gt(e,t){return this.setLimit("min",e,!1,re.toString(t))}lte(e,t){return this.setLimit("max",e,!0,re.toString(t))}lt(e,t){return this.setLimit("max",e,!1,re.toString(t))}setLimit(e,t,r,i){return new Do({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:re.toString(i)}]})}_addCheck(e){return new Do({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:re.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:re.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Do.create=n=>{var e;return new Do({checks:[],typeName:ae.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...ve(n)})};class Yd extends be{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==K.boolean){const r=this._getOrReturnCtx(e);return q(r,{code:U.invalid_type,expected:K.boolean,received:r.parsedType}),le}return An(e.data)}}Yd.create=n=>new Yd({typeName:ae.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...ve(n)});class yl extends be{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==K.date){const s=this._getOrReturnCtx(e);return q(s,{code:U.invalid_type,expected:K.date,received:s.parsedType}),le}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return q(s,{code:U.invalid_date}),le}const r=new mn;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:U.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),q(i,{code:U.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Oe.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new yl({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:re.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:re.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}yl.create=n=>new yl({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:ae.ZodDate,...ve(n)});class dg extends be{_parse(e){if(this._getType(e)!==K.symbol){const r=this._getOrReturnCtx(e);return q(r,{code:U.invalid_type,expected:K.symbol,received:r.parsedType}),le}return An(e.data)}}dg.create=n=>new dg({typeName:ae.ZodSymbol,...ve(n)});class Zd extends be{_parse(e){if(this._getType(e)!==K.undefined){const r=this._getOrReturnCtx(e);return q(r,{code:U.invalid_type,expected:K.undefined,received:r.parsedType}),le}return An(e.data)}}Zd.create=n=>new Zd({typeName:ae.ZodUndefined,...ve(n)});class Qd extends be{_parse(e){if(this._getType(e)!==K.null){const r=this._getOrReturnCtx(e);return q(r,{code:U.invalid_type,expected:K.null,received:r.parsedType}),le}return An(e.data)}}Qd.create=n=>new Qd({typeName:ae.ZodNull,...ve(n)});class bc extends be{constructor(){super(...arguments),this._any=!0}_parse(e){return An(e.data)}}bc.create=n=>new bc({typeName:ae.ZodAny,...ve(n)});class cl extends be{constructor(){super(...arguments),this._unknown=!0}_parse(e){return An(e.data)}}cl.create=n=>new cl({typeName:ae.ZodUnknown,...ve(n)});class Ms extends be{_parse(e){const t=this._getOrReturnCtx(e);return q(t,{code:U.invalid_type,expected:K.never,received:t.parsedType}),le}}Ms.create=n=>new Ms({typeName:ae.ZodNever,...ve(n)});class hg extends be{_parse(e){if(this._getType(e)!==K.undefined){const r=this._getOrReturnCtx(e);return q(r,{code:U.invalid_type,expected:K.void,received:r.parsedType}),le}return An(e.data)}}hg.create=n=>new hg({typeName:ae.ZodVoid,...ve(n)});class ei extends be{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==K.array)return q(t,{code:U.invalid_type,expected:K.array,received:t.parsedType}),le;if(i.exactLength!==null){const o=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(o||a)&&(q(t,{code:o?U.too_big:U.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(q(t,{code:U.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(q(t,{code:U.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((o,a)=>i.type._parseAsync(new Oi(t,o,t.path,a)))).then(o=>mn.mergeArray(r,o));const s=[...t.data].map((o,a)=>i.type._parseSync(new Oi(t,o,t.path,a)));return mn.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new ei({...this._def,minLength:{value:e,message:re.toString(t)}})}max(e,t){return new ei({...this._def,maxLength:{value:e,message:re.toString(t)}})}length(e,t){return new ei({...this._def,exactLength:{value:e,message:re.toString(t)}})}nonempty(e){return this.min(1,e)}}ei.create=(n,e)=>new ei({type:n,minLength:null,maxLength:null,exactLength:null,typeName:ae.ZodArray,...ve(e)});function jl(n){if(n instanceof ht){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Pi.create(jl(r))}return new ht({...n._def,shape:()=>e})}else return n instanceof ei?new ei({...n._def,type:jl(n.element)}):n instanceof Pi?Pi.create(jl(n.unwrap())):n instanceof Io?Io.create(jl(n.unwrap())):n instanceof Di?Di.create(n.items.map(e=>jl(e))):n}class ht extends be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Oe.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==K.object){const u=this._getOrReturnCtx(e);return q(u,{code:U.invalid_type,expected:K.object,received:u.parsedType}),le}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ms&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const d=s[u],h=i.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Oi(i,h,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Ms){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")a.length>0&&(q(i,{code:U.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const h=i.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Oi(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>mn.mergeObjectSync(r,u)):mn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return re.errToObj,new ht({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,t,r).message)!==null&&o!==void 0?o:r.defaultError;return t.code==="unrecognized_keys"?{message:(a=re.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new ht({...this._def,unknownKeys:"strip"})}passthrough(){return new ht({...this._def,unknownKeys:"passthrough"})}extend(e){return new ht({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ht({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ae.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ht({...this._def,catchall:e})}pick(e){const t={};return Oe.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new ht({...this._def,shape:()=>t})}omit(e){const t={};return Oe.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new ht({...this._def,shape:()=>t})}deepPartial(){return jl(this)}partial(e){const t={};return Oe.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new ht({...this._def,shape:()=>t})}required(e){const t={};return Oe.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Pi;)s=s._def.innerType;t[r]=s}}),new ht({...this._def,shape:()=>t})}keyof(){return MC(Oe.objectKeys(this.shape))}}ht.create=(n,e)=>new ht({shape:()=>n,unknownKeys:"strip",catchall:Ms.create(),typeName:ae.ZodObject,...ve(e)});ht.strictCreate=(n,e)=>new ht({shape:()=>n,unknownKeys:"strict",catchall:Ms.create(),typeName:ae.ZodObject,...ve(e)});ht.lazycreate=(n,e)=>new ht({shape:n,unknownKeys:"strip",catchall:Ms.create(),typeName:ae.ZodObject,...ve(e)});class Jd extends be{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return t.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new or(a.ctx.common.issues));return q(t,{code:U.invalid_union,unionErrors:o}),le}if(t.common.async)return Promise.all(r.map(async s=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const u={...t,common:{...t.common,issues:[]},parent:null},d=l._parseSync({data:t.data,path:t.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new or(l));return q(t,{code:U.invalid_union,unionErrors:a}),le}}get options(){return this._def.options}}Jd.create=(n,e)=>new Jd({options:n,typeName:ae.ZodUnion,...ve(e)});const Hi=n=>n instanceof nh?Hi(n.schema):n instanceof ri?Hi(n.innerType()):n instanceof rh?[n.value]:n instanceof No?n.options:n instanceof ih?Oe.objectValues(n.enum):n instanceof sh?Hi(n._def.innerType):n instanceof Zd?[void 0]:n instanceof Qd?[null]:n instanceof Pi?[void 0,...Hi(n.unwrap())]:n instanceof Io?[null,...Hi(n.unwrap())]:n instanceof yb||n instanceof ah?Hi(n.unwrap()):n instanceof oh?Hi(n._def.innerType):[];class gy extends be{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==K.object)return q(t,{code:U.invalid_type,expected:K.object,received:t.parsedType}),le;const r=this.discriminator,i=t.data[r],s=this.optionsMap.get(i);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(q(t,{code:U.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),le)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const i=new Map;for(const s of t){const o=Hi(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new gy({typeName:ae.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...ve(r)})}}function F0(n,e){const t=Ys(n),r=Ys(e);if(n===e)return{valid:!0,data:n};if(t===K.object&&r===K.object){const i=Oe.objectKeys(e),s=Oe.objectKeys(n).filter(a=>i.indexOf(a)!==-1),o={...n,...e};for(const a of s){const l=F0(n[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(t===K.array&&r===K.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<n.length;s++){const o=n[s],a=e[s],l=F0(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return t===K.date&&r===K.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class eh extends be{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(N0(s)||N0(o))return le;const a=F0(s.value,o.value);return a.valid?((I0(s)||I0(o))&&t.dirty(),{status:t.value,value:a.data}):(q(r,{code:U.invalid_intersection_types}),le)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}eh.create=(n,e,t)=>new eh({left:n,right:e,typeName:ae.ZodIntersection,...ve(t)});class Di extends be{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.array)return q(r,{code:U.invalid_type,expected:K.array,received:r.parsedType}),le;if(r.data.length<this._def.items.length)return q(r,{code:U.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),le;!this._def.rest&&r.data.length>this._def.items.length&&(q(r,{code:U.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Oi(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>mn.mergeArray(t,o)):mn.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new Di({...this._def,rest:e})}}Di.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Di({items:n,typeName:ae.ZodTuple,rest:null,...ve(e)})};class th extends be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.object)return q(r,{code:U.invalid_type,expected:K.object,received:r.parsedType}),le;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new Oi(r,a,r.path,a)),value:o._parse(new Oi(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?mn.mergeObjectAsync(t,i):mn.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof be?new th({keyType:e,valueType:t,typeName:ae.ZodRecord,...ve(r)}):new th({keyType:Zr.create(),valueType:e,typeName:ae.ZodRecord,...ve(t)})}}class fg extends be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.map)return q(r,{code:U.invalid_type,expected:K.map,received:r.parsedType}),le;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:i._parse(new Oi(r,a,r.path,[u,"key"])),value:s._parse(new Oi(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return le;(u.status==="dirty"||d.status==="dirty")&&t.dirty(),a.set(u.value,d.value)}return{status:t.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return le;(u.status==="dirty"||d.status==="dirty")&&t.dirty(),a.set(u.value,d.value)}return{status:t.value,value:a}}}}fg.create=(n,e,t)=>new fg({valueType:e,keyType:n,typeName:ae.ZodMap,...ve(t)});class vl extends be{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.set)return q(r,{code:U.invalid_type,expected:K.set,received:r.parsedType}),le;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(q(r,{code:U.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(q(r,{code:U.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const s=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return le;d.status==="dirty"&&t.dirty(),u.add(d.value)}return{status:t.value,value:u}}const a=[...r.data.values()].map((l,u)=>s._parse(new Oi(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,t){return new vl({...this._def,minSize:{value:e,message:re.toString(t)}})}max(e,t){return new vl({...this._def,maxSize:{value:e,message:re.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}vl.create=(n,e)=>new vl({valueType:n,minSize:null,maxSize:null,typeName:ae.ZodSet,...ve(e)});class hu extends be{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==K.function)return q(t,{code:U.invalid_type,expected:K.function,received:t.parsedType}),le;function r(a,l){return ug({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,lg(),_c].filter(u=>!!u),issueData:{code:U.invalid_arguments,argumentsError:l}})}function i(a,l){return ug({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,lg(),_c].filter(u=>!!u),issueData:{code:U.invalid_return_type,returnTypeError:l}})}const s={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Ec){const a=this;return An(async function(...l){const u=new or([]),d=await a._def.args.parseAsync(l,s).catch(p=>{throw u.addIssue(r(l,p)),u}),h=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(h,s).catch(p=>{throw u.addIssue(i(h,p)),u})})}else{const a=this;return An(function(...l){const u=a._def.args.safeParse(l,s);if(!u.success)throw new or([r(l,u.error)]);const d=Reflect.apply(o,this,u.data),h=a._def.returns.safeParse(d,s);if(!h.success)throw new or([i(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new hu({...this._def,args:Di.create(e).rest(cl.create())})}returns(e){return new hu({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new hu({args:e||Di.create([]).rest(cl.create()),returns:t||cl.create(),typeName:ae.ZodFunction,...ve(r)})}}class nh extends be{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}nh.create=(n,e)=>new nh({getter:n,typeName:ae.ZodLazy,...ve(e)});class rh extends be{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return q(t,{received:t.data,code:U.invalid_literal,expected:this._def.value}),le}return{status:"valid",value:e.data}}get value(){return this._def.value}}rh.create=(n,e)=>new rh({value:n,typeName:ae.ZodLiteral,...ve(e)});function MC(n,e){return new No({values:n,typeName:ae.ZodEnum,...ve(e)})}class No extends be{constructor(){super(...arguments),Jc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return q(t,{expected:Oe.joinValues(r),received:t.parsedType,code:U.invalid_type}),le}if(cg(this,Jc)||TC(this,Jc,new Set(this._def.values)),!cg(this,Jc).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return q(t,{received:t.data,code:U.invalid_enum_value,options:r}),le}return An(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return No.create(e,{...this._def,...t})}exclude(e,t=this._def){return No.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Jc=new WeakMap;No.create=MC;class ih extends be{constructor(){super(...arguments),ed.set(this,void 0)}_parse(e){const t=Oe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==K.string&&r.parsedType!==K.number){const i=Oe.objectValues(t);return q(r,{expected:Oe.joinValues(i),received:r.parsedType,code:U.invalid_type}),le}if(cg(this,ed)||TC(this,ed,new Set(Oe.getValidEnumValues(this._def.values))),!cg(this,ed).has(e.data)){const i=Oe.objectValues(t);return q(r,{received:r.data,code:U.invalid_enum_value,options:i}),le}return An(e.data)}get enum(){return this._def.values}}ed=new WeakMap;ih.create=(n,e)=>new ih({values:n,typeName:ae.ZodNativeEnum,...ve(e)});class Ec extends be{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==K.promise&&t.common.async===!1)return q(t,{code:U.invalid_type,expected:K.promise,received:t.parsedType}),le;const r=t.parsedType===K.promise?t.data:Promise.resolve(t.data);return An(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Ec.create=(n,e)=>new Ec({type:n,typeName:ae.ZodPromise,...ve(e)});class ri extends be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ae.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{q(r,o),o.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(t.value==="aborted")return le;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?le:l.status==="dirty"||t.value==="dirty"?iu(l.value):l});{if(t.value==="aborted")return le;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?le:a.status==="dirty"||t.value==="dirty"?iu(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?le:(a.status==="dirty"&&t.dirty(),o(a.value),{status:t.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?le:(a.status==="dirty"&&t.dirty(),o(a.value).then(()=>({status:t.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Xd(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Xd(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:t.value,value:a})):o);Oe.assertNever(i)}}ri.create=(n,e,t)=>new ri({schema:n,typeName:ae.ZodEffects,effect:e,...ve(t)});ri.createWithPreprocess=(n,e,t)=>new ri({schema:e,effect:{type:"preprocess",transform:n},typeName:ae.ZodEffects,...ve(t)});class Pi extends be{_parse(e){return this._getType(e)===K.undefined?An(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Pi.create=(n,e)=>new Pi({innerType:n,typeName:ae.ZodOptional,...ve(e)});class Io extends be{_parse(e){return this._getType(e)===K.null?An(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Io.create=(n,e)=>new Io({innerType:n,typeName:ae.ZodNullable,...ve(e)});class sh extends be{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===K.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}sh.create=(n,e)=>new sh({innerType:n,typeName:ae.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ve(e)});class oh extends be{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Kd(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new or(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new or(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}oh.create=(n,e)=>new oh({innerType:n,typeName:ae.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ve(e)});class pg extends be{_parse(e){if(this._getType(e)!==K.nan){const r=this._getOrReturnCtx(e);return q(r,{code:U.invalid_type,expected:K.nan,received:r.parsedType}),le}return{status:"valid",value:e.data}}}pg.create=n=>new pg({typeName:ae.ZodNaN,...ve(n)});const AD=Symbol("zod_brand");class yb extends be{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Jf extends be{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?le:s.status==="dirty"?(t.dirty(),iu(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?le:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new Jf({in:e,out:t,typeName:ae.ZodPipeline})}}class ah extends be{_parse(e){const t=this._def.innerType._parse(e),r=i=>(Xd(i)&&(i.value=Object.freeze(i.value)),i);return Kd(t)?t.then(i=>r(i)):r(t)}unwrap(){return this._def.innerType}}ah.create=(n,e)=>new ah({innerType:n,typeName:ae.ZodReadonly,...ve(e)});function OC(n,e={},t){return n?bc.create().superRefine((r,i)=>{var s,o;if(!n(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(s=a.fatal)!==null&&s!==void 0?s:t)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...u,fatal:l})}}):bc.create()}const CD={object:ht.lazycreate};var ae;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(ae||(ae={}));const kD=(n,e={message:`Input not instance of ${n.name}`})=>OC(t=>t instanceof n,e),DC=Zr.create,NC=Oo.create,TD=pg.create,RD=Do.create,IC=Yd.create,PD=yl.create,LD=dg.create,MD=Zd.create,OD=Qd.create,DD=bc.create,ND=cl.create,ID=Ms.create,FD=hg.create,jD=ei.create,zD=ht.create,BD=ht.strictCreate,UD=Jd.create,HD=gy.create,$D=eh.create,VD=Di.create,WD=th.create,GD=fg.create,qD=vl.create,XD=hu.create,KD=nh.create,YD=rh.create,ZD=No.create,QD=ih.create,JD=Ec.create,BS=ri.create,eN=Pi.create,tN=Io.create,nN=ri.createWithPreprocess,rN=Jf.create,iN=()=>DC().optional(),sN=()=>NC().optional(),oN=()=>IC().optional(),aN={string:n=>Zr.create({...n,coerce:!0}),number:n=>Oo.create({...n,coerce:!0}),boolean:n=>Yd.create({...n,coerce:!0}),bigint:n=>Do.create({...n,coerce:!0}),date:n=>yl.create({...n,coerce:!0})},lN=le;var ki=Object.freeze({__proto__:null,defaultErrorMap:_c,setErrorMap:lD,getErrorMap:lg,makeIssue:ug,EMPTY_PATH:uD,addIssueToContext:q,ParseStatus:mn,INVALID:le,DIRTY:iu,OK:An,isAborted:N0,isDirty:I0,isValid:Xd,isAsync:Kd,get util(){return Oe},get objectUtil(){return D0},ZodParsedType:K,getParsedType:Ys,ZodType:be,datetimeRegex:LC,ZodString:Zr,ZodNumber:Oo,ZodBigInt:Do,ZodBoolean:Yd,ZodDate:yl,ZodSymbol:dg,ZodUndefined:Zd,ZodNull:Qd,ZodAny:bc,ZodUnknown:cl,ZodNever:Ms,ZodVoid:hg,ZodArray:ei,ZodObject:ht,ZodUnion:Jd,ZodDiscriminatedUnion:gy,ZodIntersection:eh,ZodTuple:Di,ZodRecord:th,ZodMap:fg,ZodSet:vl,ZodFunction:hu,ZodLazy:nh,ZodLiteral:rh,ZodEnum:No,ZodNativeEnum:ih,ZodPromise:Ec,ZodEffects:ri,ZodTransformer:ri,ZodOptional:Pi,ZodNullable:Io,ZodDefault:sh,ZodCatch:oh,ZodNaN:pg,BRAND:AD,ZodBranded:yb,ZodPipeline:Jf,ZodReadonly:ah,custom:OC,Schema:be,ZodSchema:be,late:CD,get ZodFirstPartyTypeKind(){return ae},coerce:aN,any:DD,array:jD,bigint:RD,boolean:IC,date:PD,discriminatedUnion:HD,effect:BS,enum:ZD,function:XD,instanceof:kD,intersection:$D,lazy:KD,literal:YD,map:GD,nan:TD,nativeEnum:QD,never:ID,null:OD,nullable:tN,number:NC,object:zD,oboolean:oN,onumber:sN,optional:eN,ostring:iN,pipeline:rN,preprocess:nN,promise:JD,record:WD,set:qD,strictObject:BD,string:DC,symbol:LD,transformer:BS,tuple:VD,undefined:MD,union:UD,unknown:ND,void:FD,NEVER:lN,ZodIssueCode:U,quotelessJson:aD,ZodError:or});function FC(n,e){return function(){return n.apply(e,arguments)}}const{toString:uN}=Object.prototype,{getPrototypeOf:vb}=Object,yy=(n=>e=>{const t=uN.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ii=n=>(n=n.toLowerCase(),e=>yy(e)===n),vy=n=>e=>typeof e===n,{isArray:Pc}=Array,lh=vy("undefined");function cN(n){return n!==null&&!lh(n)&&n.constructor!==null&&!lh(n.constructor)&&ar(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const jC=ii("ArrayBuffer");function dN(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&jC(n.buffer),e}const hN=vy("string"),ar=vy("function"),zC=vy("number"),wy=n=>n!==null&&typeof n=="object",fN=n=>n===!0||n===!1,Jp=n=>{if(yy(n)!=="object")return!1;const e=vb(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},pN=ii("Date"),mN=ii("File"),gN=ii("Blob"),yN=ii("FileList"),vN=n=>wy(n)&&ar(n.pipe),wN=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ar(n.append)&&((e=yy(n))==="formdata"||e==="object"&&ar(n.toString)&&n.toString()==="[object FormData]"))},_N=ii("URLSearchParams"),[bN,EN,SN,xN]=["ReadableStream","Request","Response","Headers"].map(ii),AN=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ep(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Pc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function BC(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const ha=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,UC=n=>!lh(n)&&n!==ha;function j0(){const{caseless:n}=UC(this)&&this||{},e={},t=(r,i)=>{const s=n&&BC(e,i)||i;Jp(e[s])&&Jp(r)?e[s]=j0(e[s],r):Jp(r)?e[s]=j0({},r):Pc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ep(arguments[r],t);return e}const CN=(n,e,t,{allOwnKeys:r}={})=>(ep(e,(i,s)=>{t&&ar(i)?n[s]=FC(i,t):n[s]=i},{allOwnKeys:r}),n),kN=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),TN=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},RN=(n,e,t,r)=>{let i,s,o;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&vb(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},PN=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},LN=n=>{if(!n)return null;if(Pc(n))return n;let e=n.length;if(!zC(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},MN=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&vb(Uint8Array)),ON=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},DN=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},NN=ii("HTMLFormElement"),IN=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),US=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),FN=ii("RegExp"),HC=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};ep(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},jN=n=>{HC(n,(e,t)=>{if(ar(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(ar(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},zN=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return Pc(n)?r(n):r(String(n).split(e)),t},BN=()=>{},UN=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,Av="abcdefghijklmnopqrstuvwxyz",HS="0123456789",$C={DIGIT:HS,ALPHA:Av,ALPHA_DIGIT:Av+Av.toUpperCase()+HS},HN=(n=16,e=$C.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function $N(n){return!!(n&&ar(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const VN=n=>{const e=new Array(10),t=(r,i)=>{if(wy(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Pc(r)?[]:{};return ep(r,(o,a)=>{const l=t(o,i+1);!lh(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return t(n,0)},WN=ii("AsyncFunction"),GN=n=>n&&(wy(n)||ar(n))&&ar(n.then)&&ar(n.catch),VC=((n,e)=>n?setImmediate:e?((t,r)=>(ha.addEventListener("message",({source:i,data:s})=>{i===ha&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),ha.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ar(ha.postMessage)),qN=typeof queueMicrotask<"u"?queueMicrotask.bind(ha):typeof process<"u"&&process.nextTick||VC,N={isArray:Pc,isArrayBuffer:jC,isBuffer:cN,isFormData:wN,isArrayBufferView:dN,isString:hN,isNumber:zC,isBoolean:fN,isObject:wy,isPlainObject:Jp,isReadableStream:bN,isRequest:EN,isResponse:SN,isHeaders:xN,isUndefined:lh,isDate:pN,isFile:mN,isBlob:gN,isRegExp:FN,isFunction:ar,isStream:vN,isURLSearchParams:_N,isTypedArray:MN,isFileList:yN,forEach:ep,merge:j0,extend:CN,trim:AN,stripBOM:kN,inherits:TN,toFlatObject:RN,kindOf:yy,kindOfTest:ii,endsWith:PN,toArray:LN,forEachEntry:ON,matchAll:DN,isHTMLForm:NN,hasOwnProperty:US,hasOwnProp:US,reduceDescriptors:HC,freezeMethods:jN,toObjectSet:zN,toCamelCase:IN,noop:BN,toFiniteNumber:UN,findKey:BC,global:ha,isContextDefined:UC,ALPHABET:$C,generateString:HN,isSpecCompliantForm:$N,toJSONObject:VN,isAsyncFn:WN,isThenable:GN,setImmediate:VC,asap:qN};function ye(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}N.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.status}}});const WC=ye.prototype,GC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{GC[n]={value:n}});Object.defineProperties(ye,GC);Object.defineProperty(WC,"isAxiosError",{value:!0});ye.from=(n,e,t,r,i,s)=>{const o=Object.create(WC);return N.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ye.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const XN=null;function z0(n){return N.isPlainObject(n)||N.isArray(n)}function qC(n){return N.endsWith(n,"[]")?n.slice(0,-2):n}function $S(n,e,t){return n?n.concat(e).map(function(i,s){return i=qC(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function KN(n){return N.isArray(n)&&!n.some(z0)}const YN=N.toFlatObject(N,{},null,function(e){return/^is[A-Z]/.test(e)});function _y(n,e,t){if(!N.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=N.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,w){return!N.isUndefined(w[y])});const r=t.metaTokens,i=t.visitor||d,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(e);if(!N.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(N.isDate(m))return m.toISOString();if(!l&&N.isBlob(m))throw new ye("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(m)||N.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,y,w){let g=m;if(m&&!w&&typeof m=="object"){if(N.endsWith(y,"{}"))y=r?y:y.slice(0,-2),m=JSON.stringify(m);else if(N.isArray(m)&&KN(m)||(N.isFileList(m)||N.endsWith(y,"[]"))&&(g=N.toArray(m)))return y=qC(y),g.forEach(function(_,x){!(N.isUndefined(_)||_===null)&&e.append(o===!0?$S([y],x,s):o===null?y:y+"[]",u(_))}),!1}return z0(m)?!0:(e.append($S(w,y,s),u(m)),!1)}const h=[],f=Object.assign(YN,{defaultVisitor:d,convertValue:u,isVisitable:z0});function p(m,y){if(!N.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),N.forEach(m,function(g,v){(!(N.isUndefined(g)||g===null)&&i.call(e,g,N.isString(v)?v.trim():v,y,f))===!0&&p(g,y?y.concat(v):[v])}),h.pop()}}if(!N.isObject(n))throw new TypeError("data must be an object");return p(n),e}function VS(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function wb(n,e){this._pairs=[],n&&_y(n,this,e)}const XC=wb.prototype;XC.append=function(e,t){this._pairs.push([e,t])};XC.toString=function(e){const t=e?function(r){return e.call(this,r,VS)}:VS;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function ZN(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function KC(n,e,t){if(!e)return n;const r=t&&t.encode||ZN,i=t&&t.serialize;let s;if(i?s=i(e,t):s=N.isURLSearchParams(e)?e.toString():new wb(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class WS{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){N.forEach(this.handlers,function(r){r!==null&&e(r)})}}const YC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},QN=typeof URLSearchParams<"u"?URLSearchParams:wb,JN=typeof FormData<"u"?FormData:null,eI=typeof Blob<"u"?Blob:null,tI={isBrowser:!0,classes:{URLSearchParams:QN,FormData:JN,Blob:eI},protocols:["http","https","file","blob","url","data"]},_b=typeof window<"u"&&typeof document<"u",B0=typeof navigator=="object"&&navigator||void 0,nI=_b&&(!B0||["ReactNative","NativeScript","NS"].indexOf(B0.product)<0),rI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",iI=_b&&window.location.href||"http://localhost",sI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_b,hasStandardBrowserEnv:nI,hasStandardBrowserWebWorkerEnv:rI,navigator:B0,origin:iI},Symbol.toStringTag,{value:"Module"})),zn={...sI,...tI};function oI(n,e){return _y(n,new zn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return zn.isNode&&N.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function aI(n){return N.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function lI(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function ZC(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&N.isArray(i)?i.length:o,l?(N.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!N.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&N.isArray(i[o])&&(i[o]=lI(i[o])),!a)}if(N.isFormData(n)&&N.isFunction(n.entries)){const t={};return N.forEachEntry(n,(r,i)=>{e(aI(r),i,t,0)}),t}return null}function uI(n,e,t){if(N.isString(n))try{return(e||JSON.parse)(n),N.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const tp={transitional:YC,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=N.isObject(e);if(s&&N.isHTMLForm(e)&&(e=new FormData(e)),N.isFormData(e))return i?JSON.stringify(ZC(e)):e;if(N.isArrayBuffer(e)||N.isBuffer(e)||N.isStream(e)||N.isFile(e)||N.isBlob(e)||N.isReadableStream(e))return e;if(N.isArrayBufferView(e))return e.buffer;if(N.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return oI(e,this.formSerializer).toString();if((a=N.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return _y(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),uI(e)):e}],transformResponse:[function(e){const t=this.transitional||tp.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(N.isResponse(e)||N.isReadableStream(e))return e;if(e&&N.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ye.from(a,ye.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zn.classes.FormData,Blob:zn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],n=>{tp.headers[n]={}});const cI=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dI=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&cI[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},GS=Symbol("internals");function Vc(n){return n&&String(n).trim().toLowerCase()}function em(n){return n===!1||n==null?n:N.isArray(n)?n.map(em):String(n)}function hI(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const fI=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Cv(n,e,t,r,i){if(N.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!N.isString(e)){if(N.isString(r))return e.indexOf(r)!==-1;if(N.isRegExp(r))return r.test(e)}}function pI(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function mI(n,e){const t=N.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Bn{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(a,l,u){const d=Vc(l);if(!d)throw new Error("header name must be a non-empty string");const h=N.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=em(a))}const o=(a,l)=>N.forEach(a,(u,d)=>s(u,d,l));if(N.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(N.isString(e)&&(e=e.trim())&&!fI(e))o(dI(e),t);else if(N.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(t,e,r);return this}get(e,t){if(e=Vc(e),e){const r=N.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return hI(i);if(N.isFunction(t))return t.call(this,i,r);if(N.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Vc(e),e){const r=N.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Cv(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=Vc(o),o){const a=N.findKey(r,o);a&&(!t||Cv(r,r[a],a,t))&&(delete r[a],i=!0)}}return N.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||Cv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return N.forEach(this,(i,s)=>{const o=N.findKey(r,s);if(o){t[o]=em(i),delete t[s];return}const a=e?pI(s):String(s).trim();a!==s&&delete t[s],t[a]=em(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return N.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&N.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[GS]=this[GS]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Vc(o);r[a]||(mI(i,o),r[a]=!0)}return N.isArray(e)?e.forEach(s):s(e),this}}Bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(Bn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});N.freezeMethods(Bn);function kv(n,e){const t=this||tp,r=e||t,i=Bn.from(r.headers);let s=r.data;return N.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function QC(n){return!!(n&&n.__CANCEL__)}function Lc(n,e,t){ye.call(this,n??"canceled",ye.ERR_CANCELED,e,t),this.name="CanceledError"}N.inherits(Lc,ye,{__CANCEL__:!0});function JC(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new ye("Request failed with status code "+t.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function gI(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function yI(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[s];o||(o=u),t[i]=l,r[i]=u;let h=s,f=0;for(;h!==i;)f+=t[h++],h=h%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),u-o<e)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function vI(n,e){let t=0,r=1e3/e,i,s;const o=(u,d=Date.now())=>{t=d,i=null,s&&(clearTimeout(s),s=null),n.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-t;h>=r?o(u,d):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const mg=(n,e,t=3)=>{let r=0;const i=yI(50,250);return vI(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),d=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(h)},t)},qS=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},XS=n=>(...e)=>N.asap(()=>n(...e)),wI=zn.hasStandardBrowserEnv?function(){const e=zn.navigator&&/(msie|trident)/i.test(zn.navigator.userAgent),t=document.createElement("a");let r;function i(s){let o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=i(window.location.href),function(o){const a=N.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),_I=zn.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const o=[n+"="+encodeURIComponent(e)];N.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),N.isString(r)&&o.push("path="+r),N.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function bI(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function EI(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function ek(n,e){return n&&!bI(e)?EI(n,e):e}const KS=n=>n instanceof Bn?{...n}:n;function wl(n,e){e=e||{};const t={};function r(u,d,h){return N.isPlainObject(u)&&N.isPlainObject(d)?N.merge.call({caseless:h},u,d):N.isPlainObject(d)?N.merge({},d):N.isArray(d)?d.slice():d}function i(u,d,h){if(N.isUndefined(d)){if(!N.isUndefined(u))return r(void 0,u,h)}else return r(u,d,h)}function s(u,d){if(!N.isUndefined(d))return r(void 0,d)}function o(u,d){if(N.isUndefined(d)){if(!N.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,h){if(h in e)return r(u,d);if(h in n)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d)=>i(KS(u),KS(d),!0)};return N.forEach(Object.keys(Object.assign({},n,e)),function(d){const h=l[d]||i,f=h(n[d],e[d],d);N.isUndefined(f)&&h!==a||(t[d]=f)}),t}const tk=n=>{const e=wl({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Bn.from(o),e.url=KC(ek(e.baseURL,e.url),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(N.isFormData(t)){if(zn.hasStandardBrowserEnv||zn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(zn.hasStandardBrowserEnv&&(r&&N.isFunction(r)&&(r=r(e)),r||r!==!1&&wI(e.url))){const u=i&&s&&_I.read(s);u&&o.set(i,u)}return e},SI=typeof XMLHttpRequest<"u",xI=SI&&function(n){return new Promise(function(t,r){const i=tk(n);let s=i.data;const o=Bn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,d,h,f,p,m;function y(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function g(){if(!w)return;const _=Bn.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),C={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:_,config:n,request:w};JC(function(P){t(P),y()},function(P){r(P),y()},C),w=null}"onloadend"in w?w.onloadend=g:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(g)},w.onabort=function(){w&&(r(new ye("Request aborted",ye.ECONNABORTED,n,w)),w=null)},w.onerror=function(){r(new ye("Network Error",ye.ERR_NETWORK,n,w)),w=null},w.ontimeout=function(){let x=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const C=i.transitional||YC;i.timeoutErrorMessage&&(x=i.timeoutErrorMessage),r(new ye(x,C.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,n,w)),w=null},s===void 0&&o.setContentType(null),"setRequestHeader"in w&&N.forEach(o.toJSON(),function(x,C){w.setRequestHeader(C,x)}),N.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),a&&a!=="json"&&(w.responseType=i.responseType),u&&([f,m]=mg(u,!0),w.addEventListener("progress",f)),l&&w.upload&&([h,p]=mg(l),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=_=>{w&&(r(!_||_.type?new Lc(null,n,w):_),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const v=gI(i.url);if(v&&zn.protocols.indexOf(v)===-1){r(new ye("Unsupported protocol "+v+":",ye.ERR_BAD_REQUEST,n));return}w.send(s||null)})},AI=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof ye?d:new Lc(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new ye(`timeout ${e} of ms exceeded`,ye.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),n=null)};n.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>N.asap(a),l}},CI=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},kI=async function*(n,e){for await(const t of TI(n))yield*CI(t,e)},TI=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},YS=(n,e,t,r)=>{const i=kI(n,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){a(),l.close();return}let h=d.byteLength;if(t){let f=s+=h;t(f)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},by=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",nk=by&&typeof ReadableStream=="function",RI=by&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),rk=(n,...e)=>{try{return!!n(...e)}catch{return!1}},PI=nk&&rk(()=>{let n=!1;const e=new Request(zn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),ZS=64*1024,U0=nk&&rk(()=>N.isReadableStream(new Response("").body)),gg={stream:U0&&(n=>n.body)};by&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!gg[e]&&(gg[e]=N.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new ye(`Response type '${e}' is not supported`,ye.ERR_NOT_SUPPORT,r)})})})(new Response);const LI=async n=>{if(n==null)return 0;if(N.isBlob(n))return n.size;if(N.isSpecCompliantForm(n))return(await new Request(zn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(N.isArrayBufferView(n)||N.isArrayBuffer(n))return n.byteLength;if(N.isURLSearchParams(n)&&(n=n+""),N.isString(n))return(await RI(n)).byteLength},MI=async(n,e)=>{const t=N.toFiniteNumber(n.getContentLength());return t??LI(e)},OI=by&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=tk(n);u=u?(u+"").toLowerCase():"text";let p=AI([i,s&&s.toAbortSignal()],o),m;const y=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let w;try{if(l&&PI&&t!=="get"&&t!=="head"&&(w=await MI(d,r))!==0){let C=new Request(e,{method:"POST",body:r,duplex:"half"}),k;if(N.isFormData(r)&&(k=C.headers.get("content-type"))&&d.setContentType(k),C.body){const[P,A]=qS(w,mg(XS(l)));r=YS(C.body,ZS,P,A)}}N.isString(h)||(h=h?"include":"omit");const g="credentials"in Request.prototype;m=new Request(e,{...f,signal:p,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:g?h:void 0});let v=await fetch(m);const _=U0&&(u==="stream"||u==="response");if(U0&&(a||_&&y)){const C={};["status","statusText","headers"].forEach(D=>{C[D]=v[D]});const k=N.toFiniteNumber(v.headers.get("content-length")),[P,A]=a&&qS(k,mg(XS(a),!0))||[];v=new Response(YS(v.body,ZS,P,()=>{A&&A(),y&&y()}),C)}u=u||"text";let x=await gg[N.findKey(gg,u)||"text"](v,n);return!_&&y&&y(),await new Promise((C,k)=>{JC(C,k,{data:x,headers:Bn.from(v.headers),status:v.status,statusText:v.statusText,config:n,request:m})})}catch(g){throw y&&y(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,n,m),{cause:g.cause||g}):ye.from(g,g&&g.code,n,m)}}),H0={http:XN,xhr:xI,fetch:OI};N.forEach(H0,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const QS=n=>`- ${n}`,DI=n=>N.isFunction(n)||n===null||n===!1,ik={getAdapter:n=>{n=N.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let o;if(r=t,!DI(t)&&(r=H0[(o=String(t)).toLowerCase()],r===void 0))throw new ye(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(QS).join(`
`):" "+QS(s[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:H0};function Tv(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Lc(null,n)}function JS(n){return Tv(n),n.headers=Bn.from(n.headers),n.data=kv.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),ik.getAdapter(n.adapter||tp.adapter)(n).then(function(r){return Tv(n),r.data=kv.call(n,n.transformResponse,r),r.headers=Bn.from(r.headers),r},function(r){return QC(r)||(Tv(n),r&&r.response&&(r.response.data=kv.call(n,n.transformResponse,r.response),r.response.headers=Bn.from(r.response.headers))),Promise.reject(r)})}const sk="1.7.7",bb={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{bb[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const ex={};bb.transitional=function(e,t,r){function i(s,o){return"[Axios v"+sk+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ye(i(o," has been removed"+(t?" in "+t:"")),ye.ERR_DEPRECATED);return t&&!ex[o]&&(ex[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function NI(n,e,t){if(typeof n!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new ye("option "+s+" must be "+l,ye.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ye("Unknown option "+s,ye.ERR_BAD_OPTION)}}const $0={assertOptions:NI,validators:bb},Us=$0.validators;class dl{constructor(e){this.defaults=e,this.interceptors={request:new WS,response:new WS}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=wl(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&$0.assertOptions(r,{silentJSONParsing:Us.transitional(Us.boolean),forcedJSONParsing:Us.transitional(Us.boolean),clarifyTimeoutError:Us.transitional(Us.boolean)},!1),i!=null&&(N.isFunction(i)?t.paramsSerializer={serialize:i}:$0.assertOptions(i,{encode:Us.function,serialize:Us.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&N.merge(s.common,s[t.method]);s&&N.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),t.headers=Bn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(t)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!l){const m=[JS.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,u),f=m.length,d=Promise.resolve(t);h<f;)d=d.then(m[h++],m[h++]);return d}f=a.length;let p=t;for(h=0;h<f;){const m=a[h++],y=a[h++];try{p=m(p)}catch(w){y.call(this,w);break}}try{d=JS.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=wl(this.defaults,e);const t=ek(e.baseURL,e.url);return KC(t,e.params,e.paramsSerializer)}}N.forEach(["delete","get","head","options"],function(e){dl.prototype[e]=function(t,r){return this.request(wl(r||{},{method:e,url:t,data:(r||{}).data}))}});N.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(wl(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}dl.prototype[e]=t(),dl.prototype[e+"Form"]=t(!0)});class Eb{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Lc(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Eb(function(i){e=i}),cancel:e}}}function II(n){return function(t){return n.apply(null,t)}}function FI(n){return N.isObject(n)&&n.isAxiosError===!0}const V0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(V0).forEach(([n,e])=>{V0[e]=n});function ok(n){const e=new dl(n),t=FC(dl.prototype.request,e);return N.extend(t,dl.prototype,e,{allOwnKeys:!0}),N.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return ok(wl(n,i))},t}const Pt=ok(tp);Pt.Axios=dl;Pt.CanceledError=Lc;Pt.CancelToken=Eb;Pt.isCancel=QC;Pt.VERSION=sk;Pt.toFormData=_y;Pt.AxiosError=ye;Pt.Cancel=Pt.CanceledError;Pt.all=function(e){return Promise.all(e)};Pt.spread=II;Pt.isAxiosError=FI;Pt.mergeConfig=wl;Pt.AxiosHeaders=Bn;Pt.formToJSON=n=>ZC(N.isHTMLForm(n)?new FormData(n):n);Pt.getAdapter=ik.getAdapter;Pt.HttpStatusCode=V0;Pt.default=Pt;const Sc=Pt.create({baseURL:"http://localhost:3000",withCredentials:!0}),jI=ki.object({file:ki.instanceof(File).refine(n=>n.type==="application/pdf",{message:"Only PDF files are allowed"}).refine(n=>n.size<=2*1024*1024,{message:"File size must be less than or equal to 2MB"})}),zI=({setLoading:n,setFileName:e,setIsPdfPreview:t})=>{const[r,i]=L.useState(null),[s,o]=L.useState(null),[a,l]=L.useState(null),u=Date.now()+Math.floor(Math.random()*1e3),d=f=>{var m;l(null);const p=((m=f.target.files)==null?void 0:m[0])||null;p?(i(p.name),o(p)):(i(null),o(null))},h=()=>{var y;if(n(!0),!s){n(!1),l("Select a pdf file");return}const f=s,p=jI.safeParse({file:f});if(p.success)l(null);else{n(!1),l(((y=p.error.errors[0])==null?void 0:y.message)||"Invalid file");return}const m=new FormData;m.append("file",f),Sc.post("/api/pdf/new",m,{headers:{"Content-Type":"multipart/form-data"}}).then(w=>{console.log(w.data),e(w.data.fileName),n(!1),t(!0)}).catch(w=>{console.error(w),n(!1)})};return M.jsxs("div",{className:"text-center h-screen flex flex-col justify-center items-center",children:[M.jsx("div",{children:M.jsx("h2",{className:"text-4xl font-semibold mb-10",children:"Extract PDF Files"})}),M.jsx("div",{className:"rounded-3xl md:w-6/12 h-48 bg-[#F0F0F0] flex mb-2",children:M.jsxs("div",{className:"rounded-lg w-[96%]  h-44 bg-[#F5F5F5] shadow-sm m-auto",children:[a&&M.jsx("p",{className:"text-red-500 text-center text-xs mt-2",children:a}),M.jsx("label",{htmlFor:`dropzone-file${u}`,className:"flex items-center justify-center w-full  h-full cursor-pointer",children:M.jsx("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:M.jsxs(M.Fragment,{children:[r?M.jsx(M.Fragment,{children:M.jsx("p",{className:"mb-2 font-semibold text-sm text-indigo-500",children:r})}):M.jsxs(M.Fragment,{children:[M.jsx(oD,{size:40,className:"text-indigo-500"}),M.jsx("p",{className:"mb-2 font-semibold text-sm text-indigo-500",children:"Click to Upload PDF"})]}),M.jsx("input",{id:`dropzone-file${u}`,type:"file",accept:"application/pdf",onChange:d,className:"hidden"})]})})})]})}),M.jsx("div",{children:M.jsx("button",{type:"button",onClick:h,className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 mt-5",children:"Extract Pdf"})})]})};function BI(){return M.jsx("div",{className:"w-screen h-screen fixed  flex items-center justify-center  bg-black top-0 left-0 bg-opacity-20  z-50",children:M.jsx("div",{className:"border-gray-300 h-20 w-20 animate-spin rounded-full border-8 border-t-blue-600"})})}var ak={exports:{}},lk={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np=L;function UI(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var HI=typeof Object.is=="function"?Object.is:UI,$I=np.useSyncExternalStore,VI=np.useRef,WI=np.useEffect,GI=np.useMemo,qI=np.useDebugValue;lk.useSyncExternalStoreWithSelector=function(n,e,t,r,i){var s=VI(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=GI(function(){function l(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return h=m}return h=p}if(m=h,HI(d,p))return m;var y=r(p);return i!==void 0&&i(m,y)?m:(d=p,h=y)}var u=!1,d,h,f=t===void 0?null:t;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,t,r,i]);var a=$I(n,s[0],s[1]);return WI(function(){o.hasValue=!0,o.value=a},[a]),qI(a),a};ak.exports=lk;var XI=ak.exports,ir="default"in zv?Es:zv,tx=Symbol.for("react-redux-context"),nx=typeof globalThis<"u"?globalThis:{};function KI(){if(!ir.createContext)return{};const n=nx[tx]??(nx[tx]=new Map);let e=n.get(ir.createContext);return e||(e=ir.createContext(null),n.set(ir.createContext,e)),e}var Fo=KI(),YI=()=>{throw new Error("uSES not initialized!")};function Sb(n=Fo){return function(){return ir.useContext(n)}}var uk=Sb(),ck=YI,ZI=n=>{ck=n},QI=(n,e)=>n===e;function JI(n=Fo){const e=n===Fo?uk:Sb(n),t=(r,i={})=>{const{equalityFn:s=QI,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:u,stabilityCheck:d,identityFunctionCheck:h}=e();ir.useRef(!0);const f=ir.useCallback({[r.name](m){return r(m)}}[r.name],[r,d,o.stabilityCheck]),p=ck(l.addNestedSub,a.getState,u||a.getState,f,s);return ir.useDebugValue(p),p};return Object.assign(t,{withTypes:()=>t}),t}var xb=JI();function eF(n){n()}function tF(){let n=null,e=null;return{clear(){n=null,e=null},notify(){eF(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var rx={notify(){},get:()=>[]};function nF(n,e){let t,r=rx,i=0,s=!1;function o(y){d();const w=r.subscribe(y);let g=!1;return()=>{g||(g=!0,w(),h())}}function a(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function u(){return s}function d(){i++,t||(t=n.subscribe(l),r=tF())}function h(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=rx)}function f(){s||(s=!0,d())}function p(){s&&(s=!1,h())}const m={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return m}var rF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iF=typeof navigator<"u"&&navigator.product==="ReactNative",sF=rF||iF?ir.useLayoutEffect:ir.useEffect;function oF({store:n,context:e,children:t,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=ir.useMemo(()=>{const u=nF(n);return{store:n,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[n,r,i,s]),a=ir.useMemo(()=>n.getState(),[n]);sF(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==n.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||Fo;return ir.createElement(l.Provider,{value:o},t)}var aF=oF;function dk(n=Fo){const e=n===Fo?uk:Sb(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var lF=dk();function uF(n=Fo){const e=n===Fo?lF:dk(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var hk=uF();ZI(XI.useSyncExternalStoreWithSelector);function Jt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var cF=typeof Symbol=="function"&&Symbol.observable||"@@observable",ix=cF,Rv=()=>Math.random().toString(36).substring(7).split("").join("."),dF={INIT:`@@redux/INIT${Rv()}`,REPLACE:`@@redux/REPLACE${Rv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Rv()}`},yg=dF;function Ab(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function Cb(n,e,t){if(typeof n!="function")throw new Error(Jt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Jt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Jt(1));return t(Cb)(n,e)}let r=n,i=e,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((w,g)=>{o.set(g,w)}))}function d(){if(l)throw new Error(Jt(3));return i}function h(w){if(typeof w!="function")throw new Error(Jt(4));if(l)throw new Error(Jt(5));let g=!0;u();const v=a++;return o.set(v,w),function(){if(g){if(l)throw new Error(Jt(6));g=!1,u(),o.delete(v),s=null}}}function f(w){if(!Ab(w))throw new Error(Jt(7));if(typeof w.type>"u")throw new Error(Jt(8));if(typeof w.type!="string")throw new Error(Jt(17));if(l)throw new Error(Jt(9));try{l=!0,i=r(i,w)}finally{l=!1}return(s=o).forEach(v=>{v()}),w}function p(w){if(typeof w!="function")throw new Error(Jt(10));r=w,f({type:yg.REPLACE})}function m(){const w=h;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(Jt(11));function v(){const x=g;x.next&&x.next(d())}return v(),{unsubscribe:w(v)}},[ix](){return this}}}return f({type:yg.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:p,[ix]:m}}function hF(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:yg.INIT})>"u")throw new Error(Jt(12));if(typeof t(void 0,{type:yg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Jt(13))})}function fk(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const o=e[s];typeof n[o]=="function"&&(t[o]=n[o])}const r=Object.keys(t);let i;try{hF(t)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let d=0;d<r.length;d++){const h=r[d],f=t[h],p=o[h],m=f(p,a);if(typeof m>"u")throw a&&a.type,new Error(Jt(14));u[h]=m,l=l||m!==p}return l=l||r.length!==Object.keys(o).length,l?u:o}}function vg(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function fF(...n){return e=>(t,r)=>{const i=e(t,r);let s=()=>{throw new Error(Jt(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=n.map(l=>l(o));return s=vg(...a)(i.dispatch),{...i,dispatch:s}}}function pF(n){return Ab(n)&&"type"in n&&typeof n.type=="string"}var pk=Symbol.for("immer-nothing"),sx=Symbol.for("immer-draftable"),ur=Symbol.for("immer-state");function Yr(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var xc=Object.getPrototypeOf;function _l(n){return!!n&&!!n[ur]}function Os(n){var e;return n?mk(n)||Array.isArray(n)||!!n[sx]||!!((e=n.constructor)!=null&&e[sx])||Sy(n)||xy(n):!1}var mF=Object.prototype.constructor.toString();function mk(n){if(!n||typeof n!="object")return!1;const e=xc(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===mF}function wg(n,e){Ey(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function Ey(n){const e=n[ur];return e?e.type_:Array.isArray(n)?1:Sy(n)?2:xy(n)?3:0}function W0(n,e){return Ey(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function gk(n,e,t){const r=Ey(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function gF(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Sy(n){return n instanceof Map}function xy(n){return n instanceof Set}function ea(n){return n.copy_||n.base_}function G0(n,e){if(Sy(n))return new Map(n);if(xy(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=mk(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[ur];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:n[o]})}return Object.create(xc(n),r)}else{const r=xc(n);if(r!==null&&t)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function kb(n,e=!1){return Ay(n)||_l(n)||!Os(n)||(Ey(n)>1&&(n.set=n.add=n.clear=n.delete=yF),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>kb(r,!0))),n}function yF(){Yr(2)}function Ay(n){return Object.isFrozen(n)}var vF={};function bl(n){const e=vF[n];return e||Yr(0,n),e}var uh;function yk(){return uh}function wF(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ox(n,e){e&&(bl("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function q0(n){X0(n),n.drafts_.forEach(_F),n.drafts_=null}function X0(n){n===uh&&(uh=n.parent_)}function ax(n){return uh=wF(uh,n)}function _F(n){const e=n[ur];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function lx(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[ur].modified_&&(q0(e),Yr(4)),Os(n)&&(n=_g(e,n),e.parent_||bg(e,n)),e.patches_&&bl("Patches").generateReplacementPatches_(t[ur].base_,n,e.patches_,e.inversePatches_)):n=_g(e,t,[]),q0(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==pk?n:void 0}function _g(n,e,t){if(Ay(e))return e;const r=e[ur];if(!r)return wg(e,(i,s)=>ux(n,r,e,i,s,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return bg(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),wg(s,(a,l)=>ux(n,r,i,a,l,t,o)),bg(n,i,!1),t&&n.patches_&&bl("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function ux(n,e,t,r,i,s,o){if(_l(i)){const a=s&&e&&e.type_!==3&&!W0(e.assigned_,r)?s.concat(r):void 0,l=_g(n,i,a);if(gk(t,r,l),_l(l))n.canAutoFreeze_=!1;else return}else o&&t.add(i);if(Os(i)&&!Ay(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;_g(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&bg(n,i)}}function bg(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&kb(e,t)}function bF(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:yk(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Tb;t&&(i=[r],s=ch);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var Tb={get(n,e){if(e===ur)return n;const t=ea(n);if(!W0(t,e))return EF(n,t,e);const r=t[e];return n.finalized_||!Os(r)?r:r===Pv(n.base_,e)?(Lv(n),n.copy_[e]=Y0(r,n)):r},has(n,e){return e in ea(n)},ownKeys(n){return Reflect.ownKeys(ea(n))},set(n,e,t){const r=vk(ea(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=Pv(ea(n),e),s=i==null?void 0:i[ur];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(gF(t,i)&&(t!==void 0||W0(n.base_,e)))return!0;Lv(n),K0(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Pv(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Lv(n),K0(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=ea(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){Yr(11)},getPrototypeOf(n){return xc(n.base_)},setPrototypeOf(){Yr(12)}},ch={};wg(Tb,(n,e)=>{ch[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ch.deleteProperty=function(n,e){return ch.set.call(this,n,e,void 0)};ch.set=function(n,e,t){return Tb.set.call(this,n[0],e,t,n[0])};function Pv(n,e){const t=n[ur];return(t?ea(t):n)[e]}function EF(n,e,t){var i;const r=vk(e,t);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function vk(n,e){if(!(e in n))return;let t=xc(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=xc(t)}}function K0(n){n.modified_||(n.modified_=!0,n.parent_&&K0(n.parent_))}function Lv(n){n.copy_||(n.copy_=G0(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var SF=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const o=this;return function(l=s,...u){return o.produce(l,d=>t.call(this,d,...u))}}typeof t!="function"&&Yr(6),r!==void 0&&typeof r!="function"&&Yr(7);let i;if(Os(e)){const s=ax(this),o=Y0(e,void 0);let a=!0;try{i=t(o),a=!1}finally{a?q0(s):X0(s)}return ox(s,r),lx(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===pk&&(i=void 0),this.autoFreeze_&&kb(i,!0),r){const s=[],o=[];bl("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Yr(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,t,(o,a)=>{r=o,i=a}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Os(n)||Yr(8),_l(n)&&(n=xF(n));const e=ax(this),t=Y0(n,void 0);return t[ur].isManual_=!0,X0(e),t}finishDraft(n,e){const t=n&&n[ur];(!t||!t.isManual_)&&Yr(9);const{scope_:r}=t;return ox(r,e),lx(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=bl("Patches").applyPatches_;return _l(n)?r(n,e):this.produce(n,i=>r(i,e))}};function Y0(n,e){const t=Sy(n)?bl("MapSet").proxyMap_(n,e):xy(n)?bl("MapSet").proxySet_(n,e):bF(n,e);return(e?e.scope_:yk()).drafts_.push(t),t}function xF(n){return _l(n)||Yr(10,n),wk(n)}function wk(n){if(!Os(n)||Ay(n))return n;const e=n[ur];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=G0(n,e.scope_.immer_.useStrictShallowCopy_)}else t=G0(n,!0);return wg(t,(r,i)=>{gk(t,r,wk(i))}),e&&(e.finalized_=!1),t}var cr=new SF,_k=cr.produce;cr.produceWithPatches.bind(cr);cr.setAutoFreeze.bind(cr);cr.setUseStrictShallowCopy.bind(cr);cr.applyPatches.bind(cr);cr.createDraft.bind(cr);cr.finishDraft.bind(cr);function bk(n){return({dispatch:t,getState:r})=>i=>s=>typeof s=="function"?s(t,r,n):i(s)}var AF=bk(),CF=bk,kF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vg:vg.apply(null,arguments)};function cx(n,e){function t(...r){if(e){let i=e(...r);if(!i)throw new Error(ti(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>pF(r)&&r.type===n,t}var Ek=class td extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,td.prototype)}static get[Symbol.species](){return td}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new td(...e[0].concat(this)):new td(...e.concat(this))}};function dx(n){return Os(n)?_k(n,()=>{}):n}function hx(n,e,t){if(n.has(e)){let i=n.get(e);return t.update&&(i=t.update(i,e,n),n.set(e,i)),i}if(!t.insert)throw new Error(ti(10));const r=t.insert(e,n);return n.set(e,r),r}function TF(n){return typeof n=="boolean"}var RF=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new Ek;return t&&(TF(t)?o.push(AF):o.push(CF(t.extraArgument))),o},PF="RTK_autoBatch",Sk=n=>e=>{setTimeout(e,n)},LF=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Sk(10),MF=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let i=!0,s=!1,o=!1;const a=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?LF:n.type==="callback"?n.queueNotification:Sk(n.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),f=r.subscribe(h);return a.add(d),()=>{f(),a.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[PF]),s=!i,s&&(o||(o=!0,l(u))),r.dispatch(d)}finally{i=!0}}})},OF=n=>function(t){const{autoBatch:r=!0}=t??{};let i=new Ek(n);return r&&i.push(MF(typeof r=="object"?r:void 0)),i};function DF(n){const e=RF(),{reducer:t=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=n||{};let a;if(typeof t=="function")a=t;else if(Ab(t))a=fk(t);else throw new Error(ti(1));let l;typeof r=="function"?l=r(e):l=e();let u=vg;i&&(u=kF({trace:!1,...typeof i=="object"&&i}));const d=fF(...l),h=OF(d);let f=typeof o=="function"?o(h):h();const p=u(...f);return Cb(a,s,p)}function xk(n){const e={},t=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(ti(28));if(a in e)throw new Error(ti(29));return e[a]=o,i},addMatcher(s,o){return t.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return n(i),[e,t,r]}function NF(n){return typeof n=="function"}function IF(n,e){let[t,r,i]=xk(e),s;if(NF(n))s=()=>dx(n());else{const a=dx(n);s=()=>a}function o(a=s(),l){let u=[t[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(_l(d)){const p=h(d,l);return p===void 0?d:p}else{if(Os(d))return _k(d,f=>h(f,l));{const f=h(d,l);if(f===void 0){if(d===null)return d;throw new Error(ti(9))}return f}}return d},a)}return o.getInitialState=s,o}var FF=Symbol.for("rtk-slice-createasyncthunk");function jF(n,e){return`${n}/${e}`}function zF({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[FF];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(ti(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(HF()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,x){const C=typeof _=="string"?_:_.type;if(!C)throw new Error(ti(12));if(C in u.sliceCaseReducersByType)throw new Error(ti(13));return u.sliceCaseReducersByType[C]=x,d},addMatcher(_,x){return u.sliceMatchers.push({matcher:_,reducer:x}),d},exposeAction(_,x){return u.actionCreators[_]=x,d},exposeCaseReducer(_,x){return u.sliceCaseReducersByName[_]=x,d}};l.forEach(_=>{const x=a[_],C={reducerName:_,type:jF(s,_),createNotation:typeof i.reducers=="function"};VF(x)?GF(C,x,d,e):$F(C,x,d)});function h(){const[_={},x=[],C=void 0]=typeof i.extraReducers=="function"?xk(i.extraReducers):[i.extraReducers],k={..._,...u.sliceCaseReducersByType};return IF(i.initialState,P=>{for(let A in k)P.addCase(A,k[A]);for(let A of u.sliceMatchers)P.addMatcher(A.matcher,A.reducer);for(let A of x)P.addMatcher(A.matcher,A.reducer);C&&P.addDefaultCase(C)})}const f=_=>_,p=new Map;let m;function y(_,x){return m||(m=h()),m(_,x)}function w(){return m||(m=h()),m.getInitialState()}function g(_,x=!1){function C(P){let A=P[_];return typeof A>"u"&&x&&(A=w()),A}function k(P=f){const A=hx(p,x,{insert:()=>new WeakMap});return hx(A,P,{insert:()=>{const D={};for(const[I,j]of Object.entries(i.selectors??{}))D[I]=BF(j,P,w,x);return D}})}return{reducerPath:_,getSelectors:k,get selectors(){return k(C)},selectSlice:C}}const v={name:s,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...g(o),injectInto(_,{reducerPath:x,...C}={}){const k=x??o;return _.inject({reducerPath:k,reducer:y},C),{...v,...g(k,!0)}}};return v}}function BF(n,e,t,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=t()),n(a,...o)}return i.unwrapped=n,i}var UF=zF();function HF(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function $F({type:n,reducerName:e,createNotation:t},r,i){let s,o;if("reducer"in r){if(t&&!WF(r))throw new Error(ti(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,o?cx(n,o):cx(n))}function VF(n){return n._reducerDefinitionType==="asyncThunk"}function WF(n){return n._reducerDefinitionType==="reducerWithPrepare"}function GF({type:n,reducerName:e},t,r,i){if(!i)throw new Error(ti(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:d}=t,h=i(n,s,d);r.exposeAction(e,h),o&&r.addCase(h.fulfilled,o),a&&r.addCase(h.pending,a),l&&r.addCase(h.rejected,l),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:o||Op,pending:a||Op,rejected:l||Op,settled:u||Op})}function Op(){}function ti(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const qF={status:!1},Ak=UF({name:"user",initialState:qF,reducers:{verify:n=>{n.status=!0},logout:n=>{n.status=!1}}}),{verify:XF,logout:KF}=Ak.actions,YF=Ak.reducer;function ZF(){const[n,e]=L.useState(!1),t=hk(),r=Qf(),i=()=>{Sc.post("/api/user/logout",{}).then(()=>{t(KF()),r("/login")}).catch(s=>{console.log(s)})};return M.jsxs("div",{children:[M.jsx("nav",{className:"bg-gray-800 fixed w-full",children:M.jsx("div",{className:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8",children:M.jsxs("div",{className:"relative flex h-16 items-center justify-between",children:[M.jsx("div",{className:"flex flex-1 items-center justify-center sm:items-stretch sm:justify-start",children:M.jsx("div",{className:"flex flex-shrink-0 items-center",children:M.jsx("img",{className:"h-8 w-auto",src:"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=500",alt:"Your Company"})})}),M.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:M.jsxs("div",{className:"relative ml-3",children:[M.jsx("div",{children:M.jsxs("button",{type:"button",className:"relative flex rounded-full text-white bg-gray-800 text-sm focus:outline-none hover:text-gray-300",id:"user-menu-button","aria-expanded":n,"aria-haspopup":"true",onClick:()=>e(!n),children:[M.jsx("span",{className:"sr-only",children:"Open user menu"}),"User"]})}),M.jsx("div",{className:`${n?"block":"hidden"} absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none`,role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",tabIndex:-1,children:M.jsx("button",{onClick:i,className:"block px-4 py-2 text-sm text-gray-700",role:"menuitem",tabIndex:-1,id:"user-menu-item-2",children:"Sign out"})})]})})]})})}),M.jsx("div",{className:"h-16 "})]})}const QF="modulepreload",JF=function(n){return"/"+n},fx={},Dp=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(t.map(a=>{if(a=JF(a),a in fx)return;fx[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":QF,l||(d.as="script",d.crossOrigin=""),d.href=a,o&&d.setAttribute("nonce",o),document.head.appendChild(d),l)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Cd={};Cd.d=(n,e)=>{for(var t in e)Cd.o(e,t)&&!Cd.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Cd.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var de=globalThis.pdfjsLib={};Cd.d(de,{AbortException:()=>Ll,AnnotationEditorLayer:()=>o_,AnnotationEditorParamsType:()=>fe,AnnotationEditorType:()=>Me,AnnotationEditorUIManager:()=>Sl,AnnotationLayer:()=>Zj,AnnotationMode:()=>Zs,CMapCompressionType:()=>Q0,ColorPicker:()=>Tg,DOMSVGFactory:()=>Lb,DrawLayer:()=>c_,FeatureTest:()=>Dn,GlobalWorkerOptions:()=>xs,ImageKind:()=>tm,InvalidPDFException:()=>kk,MissingPDFException:()=>Pl,OPS:()=>Or,Outliner:()=>Uw,PDFDataRangeTransport:()=>ET,PDFDateString:()=>Dk,PDFWorker:()=>pu,PasswordResponses:()=>r2,PermissionFlag:()=>n2,PixelsPerInch:()=>jo,RenderingCancelledException:()=>Mb,TextLayer:()=>Cg,UnexpectedResponseException:()=>Ry,Util:()=>te,VerbosityLevel:()=>Cy,XfaLayer:()=>xT,build:()=>Lj,createValidAbsoluteUrl:()=>a2,fetchData:()=>Dy,getDocument:()=>Ej,getFilenameFromUrl:()=>y2,getPdfFilenameFromUrl:()=>v2,getXfaPageViewport:()=>w2,isDataScheme:()=>Ob,isPdfFile:()=>Db,noContextMenu:()=>Un,normalizeUnicode:()=>f2,renderTextLayer:()=>fj,setLayerDimensions:()=>El,shadow:()=>Ne,updateTextLayer:()=>pj,version:()=>Pj});const fn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Ck=[1,0,0,1,0,0],Z0=[.001,0,0,.001,0,0],e2=1e7,Mv=1.35,br={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Zs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},t2="pdfjs_internal_editor_",Me={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},fe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},n2={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},an={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},tm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Lt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Wc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Cy={ERRORS:0,WARNINGS:1,INFOS:5},Q0={NONE:0,BINARY:1},Or={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},r2={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let ky=Cy.WARNINGS;function i2(n){Number.isInteger(n)&&(ky=n)}function s2(){return ky}function Ty(n){ky>=Cy.INFOS&&console.log(`Info: ${n}`)}function xe(n){ky>=Cy.WARNINGS&&console.log(`Warning: ${n}`)}function Xe(n){throw new Error(n)}function jt(n,e){n||Xe(e)}function o2(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function a2(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=h2(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(o2(r))return r}catch{}return null}function Ne(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Wo=function(){function e(t,r){this.constructor===e&&Xe("Cannot initialize BaseException."),this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class J0 extends Wo{constructor(e,t){super(e,"PasswordException"),this.code=t}}class ew extends Wo{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class kk extends Wo{constructor(e){super(e,"InvalidPDFException")}}class Pl extends Wo{constructor(e){super(e,"MissingPDFException")}}class Ry extends Wo{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class l2 extends Wo{constructor(e){super(e,"FormatError")}}class Ll extends Wo{constructor(e){super(e,"AbortException")}}function Tk(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Xe("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function Py(n){typeof n!="string"&&Xe("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function u2(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Rb(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function c2(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function d2(){try{return new Function(""),!0}catch{return!1}}class Dn{static get isLittleEndian(){return Ne(this,"isLittleEndian",c2())}static get isEvalSupported(){return Ne(this,"isEvalSupported",d2())}static get isOffscreenCanvasSupported(){return Ne(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ne(this,"platform",{isMac:navigator.platform.includes("Mac")}):Ne(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return Ne(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Ov=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Cs,nm,tw;class te{static makeHexColor(e,t,r){return`#${Ov[e]}${Ov[t]}${Ov[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],s[0],o[0]),Math.min(r[1],i[1],s[1],o[1]),Math.max(r[0],i[0],s[0],o[0]),Math.max(r[1],i[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(r+o)/2,l=Math.sqrt((r+o)**2-4*(r*o-s*i))/2,u=a+l||1,d=a-l||1;return[Math.sqrt(u),Math.sqrt(d)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[r,s,i,o]}static bezierBoundingBox(e,t,r,i,s,o,a,l,u){return u?(u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],t,l)):u=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],E(this,Cs,tw).call(this,e,r,s,a,t,i,o,l,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),u),E(this,Cs,tw).call(this,e,r,s,a,t,i,o,l,3*(-t+3*(i-o)+l),6*(t-2*i+o),3*(i-t),u),u}}Cs=new WeakSet,nm=function(e,t,r,i,s,o,a,l,u,d){if(u<=0||u>=1)return;const h=1-u,f=u*u,p=f*u,m=h*(h*(h*e+3*u*t)+3*f*r)+p*i,y=h*(h*(h*s+3*u*o)+3*f*a)+p*l;d[0]=Math.min(d[0],m),d[1]=Math.min(d[1],y),d[2]=Math.max(d[2],m),d[3]=Math.max(d[3],y)},tw=function(e,t,r,i,s,o,a,l,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&E(this,Cs,nm).call(this,e,t,r,i,s,o,a,l,-h/d,f);return}const p=d**2-4*h*u;if(p<0)return;const m=Math.sqrt(p),y=2*u;E(this,Cs,nm).call(this,e,t,r,i,s,o,a,l,(-d+m)/y,f),E(this,Cs,nm).call(this,e,t,r,i,s,o,a,l,(-d-m)/y,f)},S(te,Cs);function h2(n){return decodeURIComponent(escape(n))}let Dv=null,px=null;function f2(n){return Dv||(Dv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,px=new Map([["","t"]])),n.replaceAll(Dv,(e,t,r)=>t?t.normalize("NFKC"):px.get(r))}function p2(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return Tk(n)}const Rk="pdfjs_internal_id_",zi={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class Ly{constructor(){this.constructor===Ly&&Xe("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var hh;const Vb=class Vb{constructor({enableHWA:e=!1}={}){S(this,hh,!1);this.constructor===Vb&&Xe("Cannot initialize BaseCanvasFactory."),b(this,hh,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!c(this,hh)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Xe("Abstract method `_createCanvas` called.")}};hh=new WeakMap;let Eg=Vb;class My{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===My&&Xe("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?Q0.BINARY:Q0.NONE;return this._fetchData(t,r).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){Xe("Abstract method `_fetchData` called.")}}class Oy{constructor({baseUrl:e=null}){this.constructor===Oy&&Xe("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){Xe("Abstract method `_fetchData` called.")}}class Pb{constructor(){this.constructor===Pb&&Xe("Cannot initialize BaseSVGFactory.")}create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Xe("Abstract method `_createSVG` called.")}}const $i="http://www.w3.org/2000/svg",sa=class sa{};me(sa,"CSS",96),me(sa,"PDF",72),me(sa,"PDF_TO_CSS_UNITS",sa.CSS/sa.PDF);let jo=sa;var fa,ci,Yi,Rn,Pg,pa,Q,ln,zl,Bl,rm,Pk,nw,Ul,nd,rd,rw,id;class m2 extends Ly{constructor({docId:t,ownerDocument:r=globalThis.document}={}){super();S(this,Q);S(this,fa);S(this,ci);S(this,Yi);S(this,Rn);S(this,Pg);S(this,pa,0);b(this,Yi,t),b(this,Rn,r)}addFilter(t){if(!t)return"none";let r=c(this,Q,ln).get(t);if(r)return r;const[i,s,o]=E(this,Q,rm).call(this,t),a=t.length===1?i:`${i}${s}${o}`;if(r=c(this,Q,ln).get(a),r)return c(this,Q,ln).set(t,r),r;const l=`g_${c(this,Yi)}_transfer_map_${$n(this,pa)._++}`,u=`url(#${l})`;c(this,Q,ln).set(t,u),c(this,Q,ln).set(a,u);const d=E(this,Q,Ul).call(this,l);return E(this,Q,rd).call(this,i,s,o,d),u}addHCMFilter(t,r){var m;const i=`${t}-${r}`,s="base";let o=c(this,Q,zl).get(s);if((o==null?void 0:o.key)===i||(o?((m=o.filter)==null||m.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},c(this,Q,zl).set(s,o)),!t||!r))return o.url;const a=E(this,Q,id).call(this,t);t=te.makeHexColor(...a);const l=E(this,Q,id).call(this,r);if(r=te.makeHexColor(...l),c(this,Q,Bl).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const u=new Array(256);for(let y=0;y<=255;y++){const w=y/255;u[y]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const d=u.join(","),h=`g_${c(this,Yi)}_hcm_filter`,f=o.filter=E(this,Q,Ul).call(this,h);E(this,Q,rd).call(this,d,d,d,f),E(this,Q,nw).call(this,f);const p=(y,w)=>{const g=a[y]/255,v=l[y]/255,_=new Array(w+1);for(let x=0;x<=w;x++)_[x]=g+x/w*(v-g);return _.join(",")};return E(this,Q,rd).call(this,p(0,5),p(1,5),p(2,5),f),o.url=`url(#${h})`,o.url}addAlphaFilter(t){let r=c(this,Q,ln).get(t);if(r)return r;const[i]=E(this,Q,rm).call(this,[t]),s=`alpha_${i}`;if(r=c(this,Q,ln).get(s),r)return c(this,Q,ln).set(t,r),r;const o=`g_${c(this,Yi)}_alpha_map_${$n(this,pa)._++}`,a=`url(#${o})`;c(this,Q,ln).set(t,a),c(this,Q,ln).set(s,a);const l=E(this,Q,Ul).call(this,o);return E(this,Q,rw).call(this,i,l),a}addLuminosityFilter(t){let r=c(this,Q,ln).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=E(this,Q,rm).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=c(this,Q,ln).get(s),r)return c(this,Q,ln).set(t,r),r;const o=`g_${c(this,Yi)}_luminosity_map_${$n(this,pa)._++}`,a=`url(#${o})`;c(this,Q,ln).set(t,a),c(this,Q,ln).set(s,a);const l=E(this,Q,Ul).call(this,o);return E(this,Q,Pk).call(this,l),t&&E(this,Q,rw).call(this,i,l),a}addHighlightHCMFilter(t,r,i,s,o){var v;const a=`${r}-${i}-${s}-${o}`;let l=c(this,Q,zl).get(t);if((l==null?void 0:l.key)===a||(l?((v=l.filter)==null||v.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},c(this,Q,zl).set(t,l)),!r||!i))return l.url;const[u,d]=[r,i].map(E(this,Q,id).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,m]=[s,o].map(E(this,Q,id).bind(this));f<h&&([h,f,p,m]=[f,h,m,p]),c(this,Q,Bl).style.color="";const y=(_,x,C)=>{const k=new Array(256),P=(f-h)/C,A=_/255,D=(x-_)/(255*C);let I=0;for(let j=0;j<=C;j++){const ne=Math.round(h+j*P),J=A+j*D;for(let X=I;X<=ne;X++)k[X]=J;I=ne+1}for(let j=I;j<256;j++)k[j]=k[I-1];return k.join(",")},w=`g_${c(this,Yi)}_hcm_${t}_filter`,g=l.filter=E(this,Q,Ul).call(this,w);return E(this,Q,nw).call(this,g),E(this,Q,rd).call(this,y(p[0],m[0],5),y(p[1],m[1],5),y(p[2],m[2],5),g),l.url=`url(#${w})`,l.url}destroy(t=!1){t&&c(this,Q,zl).size!==0||(c(this,ci)&&(c(this,ci).parentNode.parentNode.remove(),b(this,ci,null)),c(this,fa)&&(c(this,fa).clear(),b(this,fa,null)),b(this,pa,0))}}fa=new WeakMap,ci=new WeakMap,Yi=new WeakMap,Rn=new WeakMap,Pg=new WeakMap,pa=new WeakMap,Q=new WeakSet,ln=function(){return c(this,fa)||b(this,fa,new Map)},zl=function(){return c(this,Pg)||b(this,Pg,new Map)},Bl=function(){if(!c(this,ci)){const t=c(this,Rn).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=c(this,Rn).createElementNS($i,"svg");i.setAttribute("width",0),i.setAttribute("height",0),b(this,ci,c(this,Rn).createElementNS($i,"defs")),t.append(i),i.append(c(this,ci)),c(this,Rn).body.append(t)}return c(this,ci)},rm=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=u[f]/255;const h=d.join(",");return[h,h,h]}const[r,i,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let u=0;u<256;u++)o[u]=r[u]/255,a[u]=i[u]/255,l[u]=s[u]/255;return[o.join(","),a.join(","),l.join(",")]},Pk=function(t){const r=c(this,Rn).createElementNS($i,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},nw=function(t){const r=c(this,Rn).createElementNS($i,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},Ul=function(t){const r=c(this,Rn).createElementNS($i,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),c(this,Q,Bl).append(r),r},nd=function(t,r,i){const s=c(this,Rn).createElementNS($i,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},rd=function(t,r,i,s){const o=c(this,Rn).createElementNS($i,"feComponentTransfer");s.append(o),E(this,Q,nd).call(this,o,"feFuncR",t),E(this,Q,nd).call(this,o,"feFuncG",r),E(this,Q,nd).call(this,o,"feFuncB",i)},rw=function(t,r){const i=c(this,Rn).createElementNS($i,"feComponentTransfer");r.append(i),E(this,Q,nd).call(this,i,"feFuncA",t)},id=function(t){return c(this,Q,Bl).style.color=t,Nb(getComputedStyle(c(this,Q,Bl)).getPropertyValue("color"))};class g2 extends Eg{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}async function Dy(n,e="text"){if(sd(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Lk extends My{_fetchData(e,t){return Dy(e,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):Py(r),compressionType:t}))}}class Mk extends Oy{_fetchData(e){return Dy(e,"arraybuffer").then(t=>new Uint8Array(t))}}class Lb extends Pb{_createSVG(e){return document.createElementNS($i,e)}}class rp{constructor({viewBox:e,scale:t,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=i,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,d,h,f;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,d=0,h=0,f=1;break;case 90:u=0,d=1,h=1,f=0;break;case 270:u=0,d=-1,h=-1,f=0;break;case 0:u=1,d=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,f=-f);let p,m,y,w;u===0?(p=Math.abs(l-e[1])*t+i,m=Math.abs(a-e[0])*t+s,y=(e[3]-e[1])*t,w=(e[2]-e[0])*t):(p=Math.abs(a-e[0])*t+i,m=Math.abs(l-e[1])*t+s,y=(e[2]-e[0])*t,w=(e[3]-e[1])*t),this.transform=[u*t,d*t,h*t,f*t,p-u*t*a-h*t*l,m-d*t*a-f*t*l],this.width=y,this.height=w}get rawDims(){const{viewBox:e}=this;return Ne(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new rp({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return te.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=te.applyTransform([e[0],e[1]],this.transform),r=te.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return te.applyInverseTransform([e,t],this.transform)}}class Mb extends Wo{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Ob(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function Db(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function y2(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function v2(n,e="document.pdf"){if(typeof n!="string")return e;if(Ob(n))return xe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class mx{constructor(){me(this,"started",Object.create(null));me(this,"times",[])}time(e){e in this.started&&xe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||xe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function sd(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function Un(n){n.preventDefault()}function Ok(n){console.log("Deprecated API usage: "+n)}let gx;class Dk{static toDateObject(e){if(!e||typeof e!="string")return null;gx||(gx=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=gx.exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(o+=d,a+=h):u==="+"&&(o-=d,a-=h),new Date(Date.UTC(r,i,s,o,a,l))}}function w2(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new rp({viewBox:s,scale:e,rotation:t})}function Nb(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(xe(`Not a valid color format: "${n}"`),[0,0,0])}function _2(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,Nb(r))}e.remove()}function dt(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform();return[e,t,r,i,s,o]}function Bi(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[e,t,r,i,s,o]}function El(n,e,t=!1,r=!0){if(e instanceof rp){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=n,a=Dn.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,u=`var(--scale-factor) * ${s}px`,d=a?`round(${l}, 1px)`:`calc(${l})`,h=a?`round(${u}, 1px)`:`calc(${u})`;!t||e.rotation%180===0?(o.width=d,o.height=h):(o.width=h,o.height=d)}r&&n.setAttribute("data-main-rotation",e.rotation)}var ma,ga,Gn,ya,Lg,Nk,Sn,Ik,Fk,im,jk,sw;const Mg=class Mg{constructor(e){S(this,Sn);S(this,ma,null);S(this,ga,null);S(this,Gn);S(this,ya,null);b(this,Gn,e)}render(){const e=b(this,ma,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=c(this,Gn)._uiManager._signal;e.addEventListener("contextmenu",Un,{signal:t}),e.addEventListener("pointerdown",E(Mg,Lg,Nk),{signal:t});const r=b(this,ya,document.createElement("div"));r.className="buttons",e.append(r);const i=c(this,Gn).toolbarPosition;if(i){const{style:s}=e,o=c(this,Gn)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return E(this,Sn,jk).call(this),e}hide(){var e;c(this,ma).classList.add("hidden"),(e=c(this,ga))==null||e.hideDropdown()}show(){c(this,ma).classList.remove("hidden")}addAltTextButton(e){E(this,Sn,im).call(this,e),c(this,ya).prepend(e,c(this,Sn,sw))}addColorPicker(e){b(this,ga,e);const t=e.renderButton();E(this,Sn,im).call(this,t),c(this,ya).prepend(t,c(this,Sn,sw))}remove(){var e;c(this,ma).remove(),(e=c(this,ga))==null||e.destroy(),b(this,ga,null)}};ma=new WeakMap,ga=new WeakMap,Gn=new WeakMap,ya=new WeakMap,Lg=new WeakSet,Nk=function(e){e.stopPropagation()},Sn=new WeakSet,Ik=function(e){c(this,Gn)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},Fk=function(e){c(this,Gn)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},im=function(e){const t=c(this,Gn)._uiManager._signal;e.addEventListener("focusin",E(this,Sn,Ik).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",E(this,Sn,Fk).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Un,{signal:t})},jk=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${c(this,Gn).editorType}-button`),E(this,Sn,im).call(this,e),e.addEventListener("click",t=>{c(this,Gn)._uiManager.delete()},{signal:c(this,Gn)._uiManager._signal}),c(this,ya).append(e)},sw=function(){const e=document.createElement("div");return e.className="divider",e},S(Mg,Lg);let iw=Mg;var fh,va,wa,zo,zk,Bk,Uk;class b2{constructor(e){S(this,zo);S(this,fh,null);S(this,va,null);S(this,wa);b(this,wa,e)}show(e,t,r){const[i,s]=E(this,zo,Bk).call(this,t,r),{style:o}=c(this,va)||b(this,va,E(this,zo,zk).call(this));e.append(c(this,va)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,va).remove()}}fh=new WeakMap,va=new WeakMap,wa=new WeakMap,zo=new WeakSet,zk=function(){const e=b(this,va,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Un,{signal:c(this,wa)._signal});const t=b(this,fh,document.createElement("div"));return t.className="buttons",e.append(t),E(this,zo,Uk).call(this),e},Bk=function(e,t){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const a=s.x+(t?s.width:0);if(o>r){i=a,r=o;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,r]},Uk=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=c(this,wa)._signal;e.addEventListener("contextmenu",Un,{signal:r}),e.addEventListener("click",()=>{c(this,wa).highlightSelection("floating_button")},{signal:r}),c(this,fh).append(e)};function Sg(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}function E2(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var Og;class S2{constructor(){S(this,Og,0)}get id(){return`${t2}${$n(this,Og)._++}`}}Og=new WeakMap;var ph,Dg,yr,mh,aw;const Wb=class Wb{constructor(){S(this,mh);S(this,ph,p2());S(this,Dg,0);S(this,yr,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Ne(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return E(this,mh,aw).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return E(this,mh,aw).call(this,e,e)}async getFromId(e){c(this,yr)||b(this,yr,new Map);const t=c(this,yr).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=c(this,yr).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){c(this,yr)||b(this,yr,new Map);const t=c(this,yr).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${c(this,ph)}_`)}};ph=new WeakMap,Dg=new WeakMap,yr=new WeakMap,mh=new WeakSet,aw=async function(e,t){c(this,yr)||b(this,yr,new Map);let r=c(this,yr).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${c(this,ph)}_${$n(this,Dg)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await Dy(t,"blob")):i=r.file=t,i.type==="image/svg+xml"){const s=Wb._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((u,d)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,u()},o.onload=async()=>{const h=r.svgUrl=o.result;a.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=o.onerror=d});o.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return c(this,yr).set(e,r),r&&c(this,yr).set(r.id,r),r};let ow=Wb;var Ut,Qs,gh,Ht;class x2{constructor(e=128){S(this,Ut,[]);S(this,Qs,!1);S(this,gh);S(this,Ht,-1);b(this,gh,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),c(this,Qs))return;const l={cmd:e,undo:t,post:r,type:s};if(c(this,Ht)===-1){c(this,Ut).length>0&&(c(this,Ut).length=0),b(this,Ht,0),c(this,Ut).push(l);return}if(o&&c(this,Ut)[c(this,Ht)].type===s){a&&(l.undo=c(this,Ut)[c(this,Ht)].undo),c(this,Ut)[c(this,Ht)]=l;return}const u=c(this,Ht)+1;u===c(this,gh)?c(this,Ut).splice(0,1):(b(this,Ht,u),u<c(this,Ut).length&&c(this,Ut).splice(u)),c(this,Ut).push(l)}undo(){if(c(this,Ht)===-1)return;b(this,Qs,!0);const{undo:e,post:t}=c(this,Ut)[c(this,Ht)];e(),t==null||t(),b(this,Qs,!1),b(this,Ht,c(this,Ht)-1)}redo(){if(c(this,Ht)<c(this,Ut).length-1){b(this,Ht,c(this,Ht)+1),b(this,Qs,!0);const{cmd:e,post:t}=c(this,Ut)[c(this,Ht)];e(),t==null||t(),b(this,Qs,!1)}}hasSomethingToUndo(){return c(this,Ht)!==-1}hasSomethingToRedo(){return c(this,Ht)<c(this,Ut).length-1}destroy(){b(this,Ut,null)}}Ut=new WeakMap,Qs=new WeakMap,gh=new WeakMap,Ht=new WeakMap;var Ng,Hk;class ip{constructor(e){S(this,Ng);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Dn.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(E(this,Ng,Hk).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(i.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}Ng=new WeakSet,Hk=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Ig=class Ig{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return _2(e),Ne(this,"_colors",e)}convert(e){const t=Nb(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,o)=>s===t[o]))return Ig._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?te.makeHexColor(...t):e}};me(Ig,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let lw=Ig;var yu,qn,Mt,qt,vu,Zi,wu,Dr,_u,_a,di,Nr,ba,yh,vh,hi,bu,Js,fi,Fg,eo,wh,Ea,_h,Eu,Xt,Ue,Qi,Sa,bh,Eh,Sh,xh,Ah,Ch,kh,Th,Rh,Ph,Lh,Mh,Oh,to,pi,Ji,Dh,W,sm,$k,Vk,om,Wk,Gk,qk,uw,Xk,cw,dw,Kk,gn,$s,Yk,Zk,hw,Qk,od,fw;const su=class su{constructor(e,t,r,i,s,o,a,l,u){S(this,W);S(this,yu,new AbortController);S(this,qn,null);S(this,Mt,new Map);S(this,qt,new Map);S(this,vu,null);S(this,Zi,null);S(this,wu,null);S(this,Dr,new x2);S(this,_u,0);S(this,_a,new Set);S(this,di,null);S(this,Nr,null);S(this,ba,new Set);S(this,yh,!1);S(this,vh,null);S(this,hi,null);S(this,bu,null);S(this,Js,!1);S(this,fi,null);S(this,Fg,new S2);S(this,eo,!1);S(this,wh,!1);S(this,Ea,null);S(this,_h,null);S(this,Eu,null);S(this,Xt,Me.NONE);S(this,Ue,new Set);S(this,Qi,null);S(this,Sa,null);S(this,bh,null);S(this,Eh,this.blur.bind(this));S(this,Sh,this.focus.bind(this));S(this,xh,this.copy.bind(this));S(this,Ah,this.cut.bind(this));S(this,Ch,this.paste.bind(this));S(this,kh,this.keydown.bind(this));S(this,Th,this.keyup.bind(this));S(this,Rh,this.onEditingAction.bind(this));S(this,Ph,this.onPageChanging.bind(this));S(this,Lh,this.onScaleChanging.bind(this));S(this,Mh,this.onRotationChanging.bind(this));S(this,Oh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});S(this,to,[0,0]);S(this,pi,null);S(this,Ji,null);S(this,Dh,null);this._signal=c(this,yu).signal,b(this,Ji,e),b(this,Dh,t),b(this,vu,r),this._eventBus=i,this._eventBus._on("editingaction",c(this,Rh)),this._eventBus._on("pagechanging",c(this,Ph)),this._eventBus._on("scalechanging",c(this,Lh)),this._eventBus._on("rotationchanging",c(this,Mh)),E(this,W,Wk).call(this),E(this,W,Kk).call(this),E(this,W,uw).call(this),b(this,Zi,s.annotationStorage),b(this,vh,s.filterFactory),b(this,Sa,o),b(this,bu,a||null),b(this,yh,l),b(this,Eu,u||null),this.viewParameters={realScale:jo.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=su.prototype,t=o=>c(o,Ji).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Ne(this,"_keyboardManager",new ip([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&c(o,Ji).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&c(o,Ji).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r;(e=c(this,yu))==null||e.abort(),b(this,yu,null),this._signal=null,this._eventBus._off("editingaction",c(this,Rh)),this._eventBus._off("pagechanging",c(this,Ph)),this._eventBus._off("scalechanging",c(this,Lh)),this._eventBus._off("rotationchanging",c(this,Mh));for(const i of c(this,qt).values())i.destroy();c(this,qt).clear(),c(this,Mt).clear(),c(this,ba).clear(),b(this,qn,null),c(this,Ue).clear(),c(this,Dr).destroy(),(t=c(this,vu))==null||t.destroy(),(r=c(this,fi))==null||r.hide(),b(this,fi,null),c(this,hi)&&(clearTimeout(c(this,hi)),b(this,hi,null)),c(this,pi)&&(clearTimeout(c(this,pi)),b(this,pi,null))}async mlGuess(e){var t;return((t=c(this,Eu))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!c(this,Eu)}get hcmFilter(){return Ne(this,"hcmFilter",c(this,Sa)?c(this,vh).addHCMFilter(c(this,Sa).foreground,c(this,Sa).background):"none")}get direction(){return Ne(this,"direction",getComputedStyle(c(this,Ji)).direction)}get highlightColors(){return Ne(this,"highlightColors",c(this,bu)?new Map(c(this,bu).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Ne(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){b(this,_h,e)}editAltText(e){var t;(t=c(this,vu))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){b(this,_u,e-1)}focusMainContainer(){c(this,Ji).focus()}findParent(e,t){for(const r of c(this,qt).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+a)return r}return null}disableUserSelect(e=!1){c(this,Dh).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,ba).add(e)}removeShouldRescale(e){c(this,ba).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*jo.PDF_TO_CSS_UNITS;for(const t of c(this,ba))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=t,a=t.toString(),u=E(this,W,sm).call(this,t).closest(".textLayer"),d=this.getSelectionBoxes(u);if(d){t.empty(),c(this,Xt)===Me.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Me.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const h of c(this,qt).values())if(h.hasTextLayer(u)){h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&c(this,Zi)&&!c(this,Zi).has(e.id)&&c(this,Zi).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,c(this,Js)&&(b(this,Js,!1),E(this,W,om).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of c(this,Ue))if(t.div.contains(e)){b(this,Ea,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!c(this,Ea))return;const[e,t]=c(this,Ea);b(this,Ea,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){E(this,W,uw).call(this),E(this,W,cw).call(this)}removeEditListeners(){E(this,W,Xk).call(this),E(this,W,dw).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of c(this,Nr))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of c(this,Nr))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=c(this,qn))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of c(this,Ue)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of c(this,Nr))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){xe(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const u=i.deserialize(l);if(!u)return;s.push(u)}const o=()=>{for(const l of s)E(this,W,hw).call(this,l);E(this,W,fw).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){xe(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,Xt)!==Me.NONE&&!this.isEditorHandlingKeyboard&&su._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,Js)&&(b(this,Js,!1),E(this,W,om).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(E(this,W,Gk).call(this),E(this,W,cw).call(this),E(this,W,gn).call(this,{isEditing:c(this,Xt)!==Me.NONE,isEmpty:E(this,W,od).call(this),hasSomethingToUndo:c(this,Dr).hasSomethingToUndo(),hasSomethingToRedo:c(this,Dr).hasSomethingToRedo(),hasSelectedEditor:!1})):(E(this,W,qk).call(this),E(this,W,dw).call(this),E(this,W,gn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,Nr)){b(this,Nr,e);for(const t of c(this,Nr))E(this,W,$s).call(this,t.defaultPropertiesToUpdate)}}getId(){return c(this,Fg).id}get currentLayer(){return c(this,qt).get(c(this,_u))}getLayer(e){return c(this,qt).get(e)}get currentPageIndex(){return c(this,_u)}addLayer(e){c(this,qt).set(e.pageIndex,e),c(this,eo)?e.enable():e.disable()}removeLayer(e){c(this,qt).delete(e.pageIndex)}updateMode(e,t=null,r=!1){if(c(this,Xt)!==e){if(b(this,Xt,e),e===Me.NONE){this.setEditingState(!1),E(this,W,Zk).call(this);return}this.setEditingState(!0),E(this,W,Yk).call(this),this.unselectAll();for(const i of c(this,qt).values())i.updateMode(e);if(!t&&r){this.addNewEditorFromKeyboard();return}if(t){for(const i of c(this,Mt).values())if(i.annotationElementId===t){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==c(this,Xt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(c(this,Nr)){switch(e){case fe.CREATE:this.currentLayer.addNewEditor();return;case fe.HIGHLIGHT_DEFAULT_COLOR:(r=c(this,_h))==null||r.updateColor(t);break;case fe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,bh)||b(this,bh,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of c(this,Ue))i.updateParams(e,t);for(const i of c(this,Nr))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const o of c(this,Mt).values())o.editorType===e&&o.show(t);(((s=c(this,bh))==null?void 0:s.get(fe.HIGHLIGHT_SHOW_ALL))??!0)!==t&&E(this,W,$s).call(this,[[fe.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(c(this,wh)!==e){b(this,wh,e);for(const t of c(this,qt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of c(this,Mt).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return c(this,Mt).get(e)}addEditor(e){c(this,Mt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(c(this,hi)&&clearTimeout(c(this,hi)),b(this,hi,setTimeout(()=>{this.focusMainContainer(),b(this,hi,null)},0))),c(this,Mt).delete(e.id),this.unselect(e),(!e.annotationElementId||!c(this,_a).has(e.annotationElementId))&&((t=c(this,Zi))==null||t.remove(e.id))}addDeletedAnnotationElement(e){c(this,_a).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,_a).has(e)}removeDeletedAnnotationElement(e){c(this,_a).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,qn)!==e&&(b(this,qn,e),e&&E(this,W,$s).call(this,e.propertiesToUpdate))}updateUI(e){c(this,W,Qk)===e&&E(this,W,$s).call(this,e.propertiesToUpdate)}toggleSelected(e){if(c(this,Ue).has(e)){c(this,Ue).delete(e),e.unselect(),E(this,W,gn).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,Ue).add(e),e.select(),E(this,W,$s).call(this,e.propertiesToUpdate),E(this,W,gn).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of c(this,Ue))t!==e&&t.unselect();c(this,Ue).clear(),c(this,Ue).add(e),e.select(),E(this,W,$s).call(this,e.propertiesToUpdate),E(this,W,gn).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,Ue).has(e)}get firstSelectedEditor(){return c(this,Ue).values().next().value}unselect(e){e.unselect(),c(this,Ue).delete(e),E(this,W,gn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,Ue).size!==0}get isEnterHandled(){return c(this,Ue).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){c(this,Dr).undo(),E(this,W,gn).call(this,{hasSomethingToUndo:c(this,Dr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:E(this,W,od).call(this)})}redo(){c(this,Dr).redo(),E(this,W,gn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,Dr).hasSomethingToRedo(),isEmpty:E(this,W,od).call(this)})}addCommands(e){c(this,Dr).add(e),E(this,W,gn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:E(this,W,od).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...c(this,Ue)],t=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)E(this,W,hw).call(this,i)};this.addCommands({cmd:t,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=c(this,qn))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,qn)||this.hasSelection}selectAll(){for(const e of c(this,Ue))e.commit();E(this,W,fw).call(this,c(this,Mt).values())}unselectAll(){if(!(c(this,qn)&&(c(this,qn).commitOrRemove(),c(this,Xt)!==Me.NONE))&&this.hasSelection){for(const e of c(this,Ue))e.unselect();c(this,Ue).clear(),E(this,W,gn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;c(this,to)[0]+=e,c(this,to)[1]+=t;const[i,s]=c(this,to),o=[...c(this,Ue)],a=1e3;c(this,pi)&&clearTimeout(c(this,pi)),b(this,pi,setTimeout(()=>{b(this,pi,null),c(this,to)[0]=c(this,to)[1]=0,this.addCommands({cmd:()=>{for(const l of o)c(this,Mt).has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of o)c(this,Mt).has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),b(this,di,new Map);for(const e of c(this,Ue))c(this,di).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,di))return!1;this.disableUserSelect(!1);const e=c(this,di);b(this,di,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,t||(t=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const r=(i,s,o,a)=>{if(c(this,Mt).has(i.id)){const l=c(this,qt).get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(c(this,di))for(const r of c(this,di).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,Ue).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,qn)===e}getActive(){return c(this,qn)}getMode(){return c(this,Xt)}get imageManager(){return Ne(this,"imageManager",new ow)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,d,h,f)=>({x:(d-i)/o,y:1-(u+h-r)/s,width:f/o,height:h/s});break;case"180":a=(u,d,h,f)=>({x:1-(u+h-r)/s,y:1-(d+f-i)/o,width:h/s,height:f/o});break;case"270":a=(u,d,h,f)=>({x:1-(d+f-i)/o,y:(u-r)/s,width:f/o,height:h/s});break;default:a=(u,d,h,f)=>({x:(u-r)/s,y:(d-i)/o,width:h/s,height:f/o});break}const l=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:p,width:m,height:y}of h.getClientRects())m===0||y===0||l.push(a(f,p,m,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(c(this,wu)||b(this,wu,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=c(this,wu))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=c(this,wu))==null?void 0:i.get(e.data.id);if(!t)return;const r=c(this,Zi).getRawValue(t);r&&(c(this,Xt)===Me.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};yu=new WeakMap,qn=new WeakMap,Mt=new WeakMap,qt=new WeakMap,vu=new WeakMap,Zi=new WeakMap,wu=new WeakMap,Dr=new WeakMap,_u=new WeakMap,_a=new WeakMap,di=new WeakMap,Nr=new WeakMap,ba=new WeakMap,yh=new WeakMap,vh=new WeakMap,hi=new WeakMap,bu=new WeakMap,Js=new WeakMap,fi=new WeakMap,Fg=new WeakMap,eo=new WeakMap,wh=new WeakMap,Ea=new WeakMap,_h=new WeakMap,Eu=new WeakMap,Xt=new WeakMap,Ue=new WeakMap,Qi=new WeakMap,Sa=new WeakMap,bh=new WeakMap,Eh=new WeakMap,Sh=new WeakMap,xh=new WeakMap,Ah=new WeakMap,Ch=new WeakMap,kh=new WeakMap,Th=new WeakMap,Rh=new WeakMap,Ph=new WeakMap,Lh=new WeakMap,Mh=new WeakMap,Oh=new WeakMap,to=new WeakMap,pi=new WeakMap,Ji=new WeakMap,Dh=new WeakMap,W=new WeakSet,sm=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},$k=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=E(this,W,sm).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(c(this,fi)||b(this,fi,new b2(this)),c(this,fi).show(r,i,this.direction==="ltr"))},Vk=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){c(this,Qi)&&((s=c(this,fi))==null||s.hide(),b(this,Qi,null),E(this,W,gn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===c(this,Qi))return;if(!E(this,W,sm).call(this,e).closest(".textLayer")){c(this,Qi)&&((o=c(this,fi))==null||o.hide(),b(this,Qi,null),E(this,W,gn).call(this,{hasSelectedText:!1}));return}if((a=c(this,fi))==null||a.hide(),b(this,Qi,t),E(this,W,gn).call(this,{hasSelectedText:!0}),!(c(this,Xt)!==Me.HIGHLIGHT&&c(this,Xt)!==Me.NONE)&&(c(this,Xt)===Me.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),b(this,Js,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=this._signal,u=d=>{d.type==="pointerup"&&d.button!==0||(window.removeEventListener("pointerup",u),window.removeEventListener("blur",u),d.type==="pointerup"&&E(this,W,om).call(this,"main_toolbar"))};window.addEventListener("pointerup",u,{signal:l}),window.addEventListener("blur",u,{signal:l})}},om=function(e=""){c(this,Xt)===Me.HIGHLIGHT?this.highlightSelection(e):c(this,yh)&&E(this,W,$k).call(this)},Wk=function(){document.addEventListener("selectionchange",E(this,W,Vk).bind(this),{signal:this._signal})},Gk=function(){const e=this._signal;window.addEventListener("focus",c(this,Sh),{signal:e}),window.addEventListener("blur",c(this,Eh),{signal:e})},qk=function(){window.removeEventListener("focus",c(this,Sh)),window.removeEventListener("blur",c(this,Eh))},uw=function(){const e=this._signal;window.addEventListener("keydown",c(this,kh),{signal:e}),window.addEventListener("keyup",c(this,Th),{signal:e})},Xk=function(){window.removeEventListener("keydown",c(this,kh)),window.removeEventListener("keyup",c(this,Th))},cw=function(){const e=this._signal;document.addEventListener("copy",c(this,xh),{signal:e}),document.addEventListener("cut",c(this,Ah),{signal:e}),document.addEventListener("paste",c(this,Ch),{signal:e})},dw=function(){document.removeEventListener("copy",c(this,xh)),document.removeEventListener("cut",c(this,Ah)),document.removeEventListener("paste",c(this,Ch))},Kk=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},gn=function(e){Object.entries(e).some(([r,i])=>c(this,Oh)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,Oh),e)}),c(this,Xt)===Me.HIGHLIGHT&&e.hasSelectedEditor===!1&&E(this,W,$s).call(this,[[fe.HIGHLIGHT_FREE,!0]]))},$s=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Yk=function(){if(!c(this,eo)){b(this,eo,!0);for(const e of c(this,qt).values())e.enable();for(const e of c(this,Mt).values())e.enable()}},Zk=function(){if(this.unselectAll(),c(this,eo)){b(this,eo,!1);for(const e of c(this,qt).values())e.disable();for(const e of c(this,Mt).values())e.disable()}},hw=function(e){const t=c(this,qt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Qk=function(){let e=null;for(e of c(this,Ue));return e},od=function(){if(c(this,Mt).size===0)return!0;if(c(this,Mt).size===1)for(const e of c(this,Mt).values())return e.isEmpty();return!1},fw=function(e){for(const t of c(this,Ue))t.unselect();c(this,Ue).clear();for(const t of e)t.isEmpty()||(c(this,Ue).add(t),t.select());E(this,W,gn).call(this,{hasSelectedEditor:this.hasSelection})},me(su,"TRANSLATE_SMALL",1),me(su,"TRANSLATE_BIG",10);let Sl=su;var es,ts,Ir,ns,Xn,Su,Fr,Nh,pw;const Wi=class Wi{constructor(e){S(this,Nh);S(this,es,"");S(this,ts,!1);S(this,Ir,null);S(this,ns,null);S(this,Xn,null);S(this,Su,!1);S(this,Fr,null);b(this,Fr,e)}static initialize(e){Wi._l10nPromise||(Wi._l10nPromise=e)}async render(){const e=b(this,Ir,document.createElement("button"));e.className="altText";const t=await Wi._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const r=c(this,Fr)._uiManager._signal;e.addEventListener("contextmenu",Un,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),c(this,Fr)._uiManager.editAltText(c(this,Fr))};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(b(this,Su,!0),i(s))},{signal:r}),await E(this,Nh,pw).call(this),e}finish(){c(this,Ir)&&(c(this,Ir).focus({focusVisible:c(this,Su)}),b(this,Su,!1))}isEmpty(){return!c(this,es)&&!c(this,ts)}get data(){return{altText:c(this,es),decorative:c(this,ts)}}set data({altText:e,decorative:t}){c(this,es)===e&&c(this,ts)===t||(b(this,es,e),b(this,ts,t),E(this,Nh,pw).call(this))}toggle(e=!1){c(this,Ir)&&(!e&&c(this,Xn)&&(clearTimeout(c(this,Xn)),b(this,Xn,null)),c(this,Ir).disabled=!e)}destroy(){var e;(e=c(this,Ir))==null||e.remove(),b(this,Ir,null),b(this,ns,null)}};es=new WeakMap,ts=new WeakMap,Ir=new WeakMap,ns=new WeakMap,Xn=new WeakMap,Su=new WeakMap,Fr=new WeakMap,Nh=new WeakSet,pw=async function(){var i;const e=c(this,Ir);if(!e)return;if(!c(this,es)&&!c(this,ts)){e.classList.remove("done"),(i=c(this,ns))==null||i.remove();return}e.classList.add("done"),Wi._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let t=c(this,ns);if(!t){b(this,ns,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const s=t.id=`alt-text-tooltip-${c(this,Fr).id}`;e.setAttribute("aria-describedby",s);const o=100,a=c(this,Fr)._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(c(this,Xn)),b(this,Xn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{b(this,Xn,setTimeout(()=>{b(this,Xn,null),c(this,ns).classList.add("show"),c(this,Fr)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:a}),e.addEventListener("mouseleave",()=>{var l;c(this,Xn)&&(clearTimeout(c(this,Xn)),b(this,Xn,null)),(l=c(this,ns))==null||l.classList.remove("show")},{signal:a})}t.innerText=c(this,ts)?await Wi._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):c(this,es),t.parentNode||e.append(t);const r=c(this,Fr).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},me(Wi,"_l10nPromise",null);let xg=Wi;var xa,jr,un,xu,Aa,Kt,Ca,Au,Cu,cn,Ih,ka,no,Fh,Ta,rs,mi,ku,Tu,vr,jh,jg,Ce,mw,zh,gw,yw,Jk,eT,vw,ww,_w,tT,nT,rT,iT,bw,ad;const Qe=class Qe{constructor(e){S(this,Ce);S(this,xa,null);S(this,jr,null);S(this,un,null);S(this,xu,!1);S(this,Aa,!1);S(this,Kt,null);S(this,Ca,null);S(this,Au,this.focusin.bind(this));S(this,Cu,this.focusout.bind(this));S(this,cn,null);S(this,Ih,"");S(this,ka,!1);S(this,no,null);S(this,Fh,!1);S(this,Ta,!1);S(this,rs,!1);S(this,mi,null);S(this,ku,0);S(this,Tu,0);S(this,vr,null);me(this,"_initialOptions",Object.create(null));me(this,"_isVisible",!0);me(this,"_uiManager",null);me(this,"_focusEventsAllowed",!0);me(this,"_l10nPromise",null);S(this,jh,!1);S(this,jg,Qe._zIndex++);this.constructor===Qe&&Xe("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Qe.prototype._resizeWithKeyboard,t=Sl.TRANSLATE_SMALL,r=Sl.TRANSLATE_BIG;return Ne(this,"_resizerKeyboardManager",new ip([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Qe.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ne(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new A2({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,r){if(Qe._l10nPromise||(Qe._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),r!=null&&r.strings)for(const s of r.strings)Qe._l10nPromise.set(s,e.get(s));if(Qe._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Qe._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Xe("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,jh)}set _isDraggable(e){var t;b(this,jh,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,jg)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):E(this,Ce,ad).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,ka)?b(this,ka,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/o,this.fixAndSetPosition()}translate(e,t){E(this,Ce,mw).call(this,this.parentDimensions,e,t)}translateInPage(e,t){c(this,no)||b(this,no,[this.x,this.y]),E(this,Ce,mw).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){c(this,no)||b(this,no,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!c(this,no)&&(c(this,no)[0]!==this.x||c(this,no)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=Qe,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,r]=this.pageDimensions;let{x:i,y:s,width:o,height:a}=this;if(o*=t,a*=r,i*=t,s*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-o,i)),s=Math.max(0,Math.min(r-a,s));break;case 90:i=Math.max(0,Math.min(t-a,i)),s=Math.min(r,Math.max(o,s));break;case 180:i=Math.min(t,Math.max(o,i)),s=Math.min(r,Math.max(a,s));break;case 270:i=Math.min(t,Math.max(a,i)),s=Math.max(0,Math.min(r-o,s));break}this.x=i/=t,this.y=s/=r;const[l,u]=this.getBaseTranslation();i+=l,s+=u;const{style:d}=this.div;d.left=`${(100*i).toFixed(2)}%`,d.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return E(r=Qe,zh,gw).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return E(r=Qe,zh,gw).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this,i=t*e,s=r*e;return Dn.isCSSRoundSupported?[Math.round(i),Math.round(s)]:[i,s]}setDims(e,t){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,c(this,Aa)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!c(this,Aa)&&t.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!c(this,Aa)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=c(this,un))==null||e.finish()}async addEditToolbar(){return c(this,cn)||c(this,Ta)?c(this,cn):(b(this,cn,new iw(this)),this.div.append(c(this,cn).render()),c(this,un)&&c(this,cn).addAltTextButton(await c(this,un).render()),c(this,cn))}removeEditToolbar(){var e;c(this,cn)&&(c(this,cn).remove(),b(this,cn,null),(e=c(this,un))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){c(this,un)||(xg.initialize(Qe._l10nPromise),b(this,un,new xg(this)),c(this,xa)&&(c(this,un).data=c(this,xa),b(this,xa,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=c(this,un))==null?void 0:e.data}set altTextData(e){c(this,un)&&(c(this,un).data=e)}hasAltText(){var e;return!((e=c(this,un))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(this,xu)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",c(this,Au),{signal:e}),this.div.addEventListener("focusout",c(this,Cu),{signal:e});const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*r/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),Sg(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Dn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(b(this,ka,!0),this._isDraggable){E(this,Ce,tT).call(this,e);return}E(this,Ce,_w).call(this,e)}moveInDOM(){c(this,mi)&&clearTimeout(c(this,mi)),b(this,mi,setTimeout(()=>{var e;b(this,mi,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,u=e/i,d=t/i,h=this.x*s,f=this.y*o,p=this.width*s,m=this.height*o;switch(r){case 0:return[h+u+a,o-f-d-m+l,h+u+p+a,o-f-d+l];case 90:return[h+d+a,o-f+u+l,h+d+m+a,o-f+u+p+l];case 180:return[h-u-p+a,o-f+d+l,h-u+a,o-f+d+m+l];case 270:return[h-d-m+a,o-f-u-p+l,h-d+a,o-f-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,o]=e,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,t-o,a,l];case 90:return[r,t-i,l,a];case 180:return[s,t-i,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){b(this,Ta,!0)}disableEditMode(){b(this,Ta,!1)}isInEditMode(){return c(this,Ta)}shouldGetKeyboardEvents(){return c(this,rs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,r;const e=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",c(this,Au),{signal:e}),(r=this.div)==null||r.addEventListener("focusout",c(this,Cu),{signal:e})}rotate(e){}serialize(e=!1,t=null){Xe("An editor must be serializable")}static deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation,b(i,xa,e.accessibilityData);const[s,o]=i.pageDimensions,[a,l,u,d]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=l/o,i.width=u/s,i.height=d/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",c(this,Au)),this.div.removeEventListener("focusout",c(this,Cu)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,mi)&&(clearTimeout(c(this,mi)),b(this,mi,null)),E(this,Ce,ad).call(this),this.removeEditToolbar(),c(this,vr)){for(const e of c(this,vr).values())clearTimeout(e);b(this,vr,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(E(this,Ce,Jk).call(this),c(this,Kt).classList.remove("hidden"),Sg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),b(this,Ca,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=c(this,Kt).children;if(!c(this,jr)){b(this,jr,Array.from(t));const o=E(this,Ce,nT).bind(this),a=E(this,Ce,rT).bind(this),l=this._uiManager._signal;for(const u of c(this,jr)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",o,{signal:l}),u.addEventListener("blur",a,{signal:l}),u.addEventListener("focus",E(this,Ce,iT).bind(this,d),{signal:l}),Qe._l10nPromise.get(`pdfjs-editor-resizer-label-${d}`).then(h=>u.setAttribute("aria-label",h))}}const r=c(this,jr)[0];let i=0;for(const o of t){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(c(this,jr).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)c(this,Kt).append(c(this,Kt).firstChild);else if(s>i)for(let a=0;a<s-i;a++)c(this,Kt).firstChild.before(c(this,Kt).lastChild);let o=0;for(const a of t){const u=c(this,jr)[o++].getAttribute("data-resizer-name");Qe._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(d=>a.setAttribute("aria-label",d))}}E(this,Ce,bw).call(this,0),b(this,rs,!0),c(this,Kt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){c(this,rs)&&E(this,Ce,ww).call(this,c(this,Ih),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){E(this,Ce,ad).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!c(this,cn)){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=c(this,cn))==null||i.show())});return}(t=c(this,cn))==null||t.show()}unselect(){var e,t,r,i;(e=c(this,Kt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=c(this,cn))==null||i.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(this,Fh)}set isEditing(e){b(this,Fh,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){b(this,Aa,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){c(this,vr)||b(this,vr,new Map);const{action:r}=e;let i=c(this,vr).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),c(this,vr).delete(r),c(this,vr).size===0&&b(this,vr,null)},Qe._telemetryTimeout),c(this,vr).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),b(this,xu,!1)}disable(){this.div&&(this.div.tabIndex=-1),b(this,xu,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};xa=new WeakMap,jr=new WeakMap,un=new WeakMap,xu=new WeakMap,Aa=new WeakMap,Kt=new WeakMap,Ca=new WeakMap,Au=new WeakMap,Cu=new WeakMap,cn=new WeakMap,Ih=new WeakMap,ka=new WeakMap,no=new WeakMap,Fh=new WeakMap,Ta=new WeakMap,rs=new WeakMap,mi=new WeakMap,ku=new WeakMap,Tu=new WeakMap,vr=new WeakMap,jh=new WeakMap,jg=new WeakMap,Ce=new WeakSet,mw=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this.fixAndSetPosition()},zh=new WeakSet,gw=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},yw=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},Jk=function(){if(c(this,Kt))return;b(this,Kt,document.createElement("div")),c(this,Kt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");c(this,Kt).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",E(this,Ce,eT).bind(this,r),{signal:t}),i.addEventListener("contextmenu",Un,{signal:t}),i.tabIndex=-1}this.div.prepend(c(this,Kt))},eT=function(e,t){var y;t.preventDefault();const{isMac:r}=Dn.platform;if(t.button!==0||t.ctrlKey&&r)return;(y=c(this,un))==null||y.toggle(!1);const i=E(this,Ce,ww).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const o=this._uiManager._signal,a={passive:!0,capture:!0,signal:o};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,a),window.addEventListener("contextmenu",Un,{signal:o});const l=this.x,u=this.y,d=this.width,h=this.height,f=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const m=()=>{var w;this.parent.togglePointerEvents(!0),(w=c(this,un))==null||w.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",m),window.removeEventListener("blur",m),window.removeEventListener("pointermove",i,a),window.removeEventListener("contextmenu",Un),this.parent.div.style.cursor=f,this.div.style.cursor=p,E(this,Ce,vw).call(this,l,u,d,h)};window.addEventListener("pointerup",m,{signal:o}),window.addEventListener("blur",m,{signal:o})},vw=function(e,t,r,i){const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===r&&l===i||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[u,d]=this.parentDimensions;this.setDims(u*a,d*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=t;const[u,d]=this.parentDimensions;this.setDims(u*r,d*i),this.fixAndSetPosition()},mustExec:!0})},ww=function(e,t){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,u=Qe.MIN_SIZE/r,d=Qe.MIN_SIZE/i,h=V=>Math.round(V*1e4)/1e4,f=E(this,Ce,yw).call(this,this.rotation),p=(V,F)=>[f[0]*V+f[2]*F,f[1]*V+f[3]*F],m=E(this,Ce,yw).call(this,360-this.rotation),y=(V,F)=>[m[0]*V+m[2]*F,m[1]*V+m[3]*F];let w,g,v=!1,_=!1;switch(e){case"topLeft":v=!0,w=(V,F)=>[0,0],g=(V,F)=>[V,F];break;case"topMiddle":w=(V,F)=>[V/2,0],g=(V,F)=>[V/2,F];break;case"topRight":v=!0,w=(V,F)=>[V,0],g=(V,F)=>[0,F];break;case"middleRight":_=!0,w=(V,F)=>[V,F/2],g=(V,F)=>[0,F/2];break;case"bottomRight":v=!0,w=(V,F)=>[V,F],g=(V,F)=>[0,0];break;case"bottomMiddle":w=(V,F)=>[V/2,F],g=(V,F)=>[V/2,0];break;case"bottomLeft":v=!0,w=(V,F)=>[0,F],g=(V,F)=>[V,0];break;case"middleLeft":_=!0,w=(V,F)=>[0,F/2],g=(V,F)=>[V,F/2];break}const x=w(a,l),C=g(a,l);let k=p(...C);const P=h(s+k[0]),A=h(o+k[1]);let D=1,I=1,[j,ne]=this.screenToPageTranslation(t.movementX,t.movementY);if([j,ne]=y(j/r,ne/i),v){const V=Math.hypot(a,l);D=I=Math.max(Math.min(Math.hypot(C[0]-x[0]-j,C[1]-x[1]-ne)/V,1/a,1/l),u/a,d/l)}else _?D=Math.max(u,Math.min(1,Math.abs(C[0]-x[0]-j)))/a:I=Math.max(d,Math.min(1,Math.abs(C[1]-x[1]-ne)))/l;const J=h(a*D),X=h(l*I);k=p(...g(J,X));const he=P-k[0],pe=A-k[1];this.width=J,this.height=X,this.x=he,this.y=pe,this.setDims(r*J,i*X),this.fixAndSetPosition()},_w=function(e){const{isMac:t}=Dn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},tT=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,i;const s=this._uiManager._signal;t&&(this.div.classList.add("moving"),r={passive:!0,capture:!0,signal:s},b(this,ku,e.clientX),b(this,Tu,e.clientY),i=a=>{const{clientX:l,clientY:u}=a,[d,h]=this.screenToPageTranslation(l-c(this,ku),u-c(this,Tu));b(this,ku,l),b(this,Tu,u),this._uiManager.dragSelectedEditors(d,h)},window.addEventListener("pointermove",i,r));const o=()=>{window.removeEventListener("pointerup",o),window.removeEventListener("blur",o),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,r)),b(this,ka,!1),this._uiManager.endDragSession()||E(this,Ce,_w).call(this,e)};window.addEventListener("pointerup",o,{signal:s}),window.addEventListener("blur",o,{signal:s})},nT=function(e){Qe._resizerKeyboardManager.exec(this,e)},rT=function(e){var t;c(this,rs)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==c(this,Kt)&&E(this,Ce,ad).call(this)},iT=function(e){b(this,Ih,c(this,rs)?e:"")},bw=function(e){if(c(this,jr))for(const t of c(this,jr))t.tabIndex=e},ad=function(){if(b(this,rs,!1),E(this,Ce,bw).call(this,-1),c(this,Ca)){const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=c(this,Ca);E(this,Ce,vw).call(this,e,t,r,i),b(this,Ca,null)}},S(Qe,zh),me(Qe,"_borderLineWidth",-1),me(Qe,"_colorManager",new lw),me(Qe,"_zIndex",1),me(Qe,"_telemetryTimeout",1e3);let He=Qe;class A2 extends He{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const yx=3285377520,gr=4294901760,li=65535;class sT{constructor(e){this.h1=e?e&4294967295:yx,this.h2=e?e&4294967295:yx}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let y=0,w=e.length;y<w;y++){const g=e.charCodeAt(y);g<=255?t[r++]=g:(t[r++]=g>>>8,t[r++]=g&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(t.buffer,0,i);let a=0,l=0,u=this.h1,d=this.h2;const h=3432918353,f=461845907,p=h&li,m=f&li;for(let y=0;y<i;y++)y&1?(a=o[y],a=a*h&gr|a*p&li,a=a<<15|a>>>17,a=a*f&gr|a*m&li,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(l=o[y],l=l*h&gr|l*p&li,l=l<<15|l>>>17,l=l*f&gr|l*m&li,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(a=0,s){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*h&gr|a*p&li,a=a<<15|a>>>17,a=a*f&gr|a*m&li,i&1?u^=a:d^=a}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&gr|e*36045&li,t=t*4283543511&gr|((t<<16|e>>>16)*2950163797&gr)>>>16,e^=t>>>1,e=e*444984403&gr|e*60499&li,t=t*3301882366&gr|((t<<16|e>>>16)*3120437893&gr)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Ew=Object.freeze({map:null,hash:"",transfer:void 0});var Ra,Yt,zg,oT;class Ib{constructor(){S(this,zg);S(this,Ra,!1);S(this,Yt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=c(this,Yt).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return c(this,Yt).get(e)}remove(e){if(c(this,Yt).delete(e),c(this,Yt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of c(this,Yt).values())if(t instanceof He)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=c(this,Yt).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(t))r[s]!==o&&(i=!0,r[s]=o);else i=!0,c(this,Yt).set(e,t);i&&E(this,zg,oT).call(this),t instanceof He&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return c(this,Yt).has(e)}getAll(){return c(this,Yt).size>0?Rb(c(this,Yt)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return c(this,Yt).size}resetModified(){c(this,Ra)&&(b(this,Ra,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new aT(this)}get serializable(){if(c(this,Yt).size===0)return Ew;const e=new Map,t=new sT,r=[],i=Object.create(null);let s=!1;for(const[o,a]of c(this,Yt)){const l=a instanceof He?a.serialize(!1,i):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:Ew}get editorStats(){let e=null;const t=new Map;for(const r of c(this,Yt).values()){if(!(r instanceof He))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let u=o.get(a);u||(u=new Map,o.set(a,u));const d=u.get(l)??0;u.set(l,d+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}}Ra=new WeakMap,Yt=new WeakMap,zg=new WeakSet,oT=function(){c(this,Ra)||(b(this,Ra,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Bh;class aT extends Ib{constructor(t){super();S(this,Bh);const{map:r,hash:i,transfer:s}=t.serializable,o=structuredClone(r,s?{transfer:s}:null);b(this,Bh,{map:o,hash:i,transfer:s})}get print(){Xe("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,Bh)}}Bh=new WeakMap;var Ru;class C2{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){S(this,Ru,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,Ru).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||c(this,Ru).has(e.loadedName))){if(jt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,o=new FontFace(r,i,s);this.addNativeFontFace(o);try{await o.load(),c(this,Ru).add(r),t==null||t(e)}catch{xe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Xe("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw xe(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Ne(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(fn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ne(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(jt(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ne(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(x,C){return x.charCodeAt(C)<<24|x.charCodeAt(C+1)<<16|x.charCodeAt(C+2)<<8|x.charCodeAt(C+3)&255}function i(x,C,k,P){const A=x.substring(0,C),D=x.substring(C+k);return A+P+D}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let u=0;function d(x,C){if(++u>30){xe("Load test font never loaded."),C();return}if(l.font="30px "+x,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(d.bind(null,x,C))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,h.length,h);const m=16,y=1482184792;let w=r(f,m);for(s=0,o=h.length-3;s<o;s+=4)w=w-y+r(h,s)|0;s<h.length&&(w=w-y+r(h+"XXX",s)|0),f=i(f,m,4,u2(w));const g=`url(data:font/opentype;base64,${btoa(f)});`,v=`@font-face {font-family:"${h}";src:${g}}`;this.insertRule(v);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const x of[e.loadedName,h]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=x,_.append(C)}this._document.body.append(_),d(h,()=>{_.remove(),t.complete()})}}Ru=new WeakMap;class k2{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=Tk(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),r}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(s){xe(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(s,o){};const i=[];for(let s=0,o=r.length;s<o;)switch(r[s++]){case zi.BEZIER_CURVE_TO:{const[a,l,u,d,h,f]=r.slice(s,s+6);i.push(p=>p.bezierCurveTo(a,l,u,d,h,f)),s+=6}break;case zi.MOVE_TO:{const[a,l]=r.slice(s,s+2);i.push(u=>u.moveTo(a,l)),s+=2}break;case zi.LINE_TO:{const[a,l]=r.slice(s,s+2);i.push(u=>u.lineTo(a,l)),s+=2}break;case zi.QUADRATIC_CURVE_TO:{const[a,l,u,d]=r.slice(s,s+4);i.push(h=>h.quadraticCurveTo(a,l,u,d)),s+=4}break;case zi.RESTORE:i.push(a=>a.restore());break;case zi.SAVE:i.push(a=>a.save());break;case zi.SCALE:jt(i.length===2,"Scale command is only valid at the third position.");break;case zi.TRANSFORM:{const[a,l,u,d,h,f]=r.slice(s,s+6);i.push(p=>p.transform(a,l,u,d,h,f)),s+=6}break;case zi.TRANSLATE:{const[a,l]=r.slice(s,s+2);i.push(u=>u.translate(a,l)),s+=2}break}return this.compiledGlyphs[t]=function(o,a){i[0](o),i[1](o),o.scale(a,-a);for(let l=2,u=i.length;l<u;l++)i[l](o)}}}if(fn){var Sw=Promise.withResolvers(),kd=null;(async()=>{const e=await Dp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Dp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Dp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Dp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:t,https:r,url:i,canvas:s,path2d:o}))})().then(e=>{kd=e,Sw.resolve()},e=>{xe(`loadPackages: ${e}`),kd=new Map,Sw.resolve()})}class Ni{static get promise(){return Sw.promise}static get(e){return kd==null?void 0:kd.get(e)}}const lT=function(n){return Ni.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class T2 extends Ly{}class R2 extends Eg{_createCanvas(e,t){return Ni.get("canvas").createCanvas(e,t)}}class P2 extends My{_fetchData(e,t){return lT(e).then(r=>({cMapData:r,compressionType:t}))}}class L2 extends Oy{_fetchData(e){return lT(e)}}const bn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function xw(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class sp{constructor(){this.constructor===sp&&Xe("Cannot initialize BaseShadingPattern.")}getPattern(){Xe("Abstract method `getPattern` called.")}}class M2 extends sp{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===bn.STROKE||i===bn.FILL){const o=t.current.getClippedPathBoundingBox(i,dt(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",a,l,!0),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),r=te.transform(r,[1,0,0,1,o[0],o[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),xw(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(r);s.setTransform(h)}else xw(e,this._bbox),s=this._createGradient(e);return s}}function Nv(n,e,t,r,i,s,o,a){const l=e.coords,u=e.colors,d=n.data,h=n.width*4;let f;l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=o,o=f),l[r+1]>l[i+1]&&(f=r,r=i,i=f,f=o,o=a,a=f),l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=o,o=f);const p=(l[t]+e.offsetX)*e.scaleX,m=(l[t+1]+e.offsetY)*e.scaleY,y=(l[r]+e.offsetX)*e.scaleX,w=(l[r+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,v=(l[i+1]+e.offsetY)*e.scaleY;if(m>=v)return;const _=u[s],x=u[s+1],C=u[s+2],k=u[o],P=u[o+1],A=u[o+2],D=u[a],I=u[a+1],j=u[a+2],ne=Math.round(m),J=Math.round(v);let X,he,pe,V,F,$,ie,Re;for(let ue=ne;ue<=J;ue++){if(ue<w){const Se=ue<m?0:(m-ue)/(m-w);X=p-(p-y)*Se,he=_-(_-k)*Se,pe=x-(x-P)*Se,V=C-(C-A)*Se}else{let Se;ue>v?Se=1:w===v?Se=0:Se=(w-ue)/(w-v),X=y-(y-g)*Se,he=k-(k-D)*Se,pe=P-(P-I)*Se,V=A-(A-j)*Se}let Ee;ue<m?Ee=0:ue>v?Ee=1:Ee=(m-ue)/(m-v),F=p-(p-g)*Ee,$=_-(_-D)*Ee,ie=x-(x-I)*Ee,Re=C-(C-j)*Ee;const Ye=Math.round(Math.min(X,F)),lt=Math.round(Math.max(X,F));let De=h*ue+Ye*4;for(let Se=Ye;Se<=lt;Se++)Ee=(X-Se)/(X-F),Ee<0?Ee=0:Ee>1&&(Ee=1),d[De++]=he-(he-$)*Ee|0,d[De++]=pe-(pe-ie)*Ee|0,d[De++]=V-(V-Re)*Ee|0,d[De++]=255}}function O2(n,e,t){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,u=a-1;for(s=0;s<l;s++){let d=s*a;for(let h=0;h<u;h++,d++)Nv(n,t,r[d],r[d+1],r[d+a],i[d],i[d+1],i[d+a]),Nv(n,t,r[d+a+1],r[d+1],r[d+a],i[d+a+1],i[d+1],i[d+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)Nv(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class D2 extends sp{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=u/h,m=d/f,y={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/m},w=h+2*2,g=f+2*2,v=r.getCanvas("mesh",w,g,!1),_=v.context,x=_.createImageData(h,f);if(t){const k=x.data;for(let P=0,A=k.length;P<A;P+=4)k[P]=t[0],k[P+1]=t[1],k[P+2]=t[2],k[P+3]=255}for(const k of this._figures)O2(x,k,y);return _.putImageData(x,2,2),{canvas:v.canvas,offsetX:a-2*p,offsetY:l-2*m,scaleX:p,scaleY:m}}getPattern(e,t,r,i){xw(e,this._bbox);let s;if(i===bn.SHADING)s=te.singularValueDecompose2dScale(dt(e));else if(s=te.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=te.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,i===bn.SHADING?null:this._background,t.cachedCanvases);return i!==bn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class N2 extends sp{getPattern(){return"hotpink"}}function I2(n){switch(n[0]){case"RadialAxial":return new M2(n);case"Mesh":return new D2(n);case"Dummy":return new N2}throw new Error(`Unknown IR type: ${n[0]}`)}const vx={COLORED:1,UNCOLORED:2},Bg=class Bg{constructor(e,t,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,r=this.bbox,i=this.xstep,s=this.ystep,o=this.paintType,a=this.tilingType,l=this.color,u=this.canvasGraphicsFactory;Ty("TilingType: "+a);const d=r[0],h=r[1],f=r[2],p=r[3],m=te.singularValueDecompose2dScale(this.matrix),y=te.singularValueDecompose2dScale(this.baseTransform),w=[m[0]*y[0],m[1]*y[1]],g=this.getSizeAndScale(i,this.ctx.canvas.width,w[0]),v=this.getSizeAndScale(s,this.ctx.canvas.height,w[1]),_=e.cachedCanvases.getCanvas("pattern",g.size,v.size,!0),x=_.context,C=u.createCanvasGraphics(x);C.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(C,o,l);let k=d,P=h,A=f,D=p;return d<0&&(k=0,A+=Math.abs(d)),h<0&&(P=0,D+=Math.abs(h)),x.translate(-(g.scale*k),-(v.scale*P)),C.transform(g.scale,0,0,v.scale,0,0),x.save(),this.clipBbox(C,k,P,A,D),C.baseTransform=dt(C.ctx),C.executeOperatorList(t),C.endDrawing(),{canvas:_.canvas,scaleX:g.scale,scaleY:v.scale,offsetX:k,offsetY:P}}getSizeAndScale(e,t,r){e=Math.abs(e);const i=Math.max(Bg.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const o=i-t,a=s-r;e.ctx.rect(t,r,o,a),e.current.updateRectMinMax(dt(e.ctx),[t,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case vx.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case vx.UNCOLORED:const a=te.makeHexColor(r[0],r[1],r[2]);i.fillStyle=a,i.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new l2(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,i){let s=r;i!==bn.SHADING&&(s=te.transform(s,t.baseTransform),this.matrix&&(s=te.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};me(Bg,"MAX_PATTERN_SIZE",3e3);let Aw=Bg;function F2({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=Dn.isLittleEndian?4278190080:255,[l,u]=o?[s,a]:[a,s],d=r>>3,h=r&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let m=0;m<i;m++){for(const w=e+d;e<w;e++){const g=e<f?n[e]:255;t[p++]=g&128?u:l,t[p++]=g&64?u:l,t[p++]=g&32?u:l,t[p++]=g&16?u:l,t[p++]=g&8?u:l,t[p++]=g&4?u:l,t[p++]=g&2?u:l,t[p++]=g&1?u:l}if(h===0)continue;const y=e<f?n[e++]:255;for(let w=0;w<h;w++)t[p++]=y&1<<7-w?u:l}return{srcPos:e,destPos:p}}const wx=16,_x=100,j2=15,bx=10,Ex=1e3,Ln=16;function z2(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,s,o,a,l){e.transform(r,i,s,o,a,l),this.__originalTransform(r,i,s,o,a,l)},n.setTransform=function(r,i,s,o,a,l){e.setTransform(r,i,s,o,a,l),this.__originalSetTransform(r,i,s,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,o,a){e.bezierCurveTo(t,r,i,s,o,a),this.__originalBezierCurveTo(t,r,i,s,o,a)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class B2{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Np(n,e,t,r,i,s,o,a,l,u){const[d,h,f,p,m,y]=dt(n);if(h===0&&f===0){const v=o*d+m,_=Math.round(v),x=a*p+y,C=Math.round(x),k=(o+l)*d+m,P=Math.abs(Math.round(k)-_)||1,A=(a+u)*p+y,D=Math.abs(Math.round(A)-C)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(p),_,C),n.drawImage(e,t,r,i,s,0,0,P,D),n.setTransform(d,h,f,p,m,y),[P,D]}if(d===0&&p===0){const v=a*f+m,_=Math.round(v),x=o*h+y,C=Math.round(x),k=(a+u)*f+m,P=Math.abs(Math.round(k)-_)||1,A=(o+l)*h+y,D=Math.abs(Math.round(A)-C)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,_,C),n.drawImage(e,t,r,i,s,0,0,D,P),n.setTransform(d,h,f,p,m,y),[D,P]}n.drawImage(e,t,r,i,s,o,a,l,u);const w=Math.hypot(d,h),g=Math.hypot(f,p);return[w*l,g*u]}function U2(n){const{width:e,height:t}=n;if(e>Ex||t>Ex)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),a,l,u;const d=e+7&-8;let h=new Uint8Array(d*t),f=0;for(const g of n.data){let v=128;for(;v>0;)h[f++]=g&v?0:255,v>>=1}let p=0;for(f=0,h[f]!==0&&(o[0]=1,++p),l=1;l<e;l++)h[f]!==h[f+1]&&(o[l]=h[f]?2:1,++p),f++;for(h[f]!==0&&(o[l]=2,++p),a=1;a<t;a++){f=a*d,u=a*s,h[f-d]!==h[f]&&(o[u]=h[f]?1:8,++p);let g=(h[f]?4:0)+(h[f-d]?8:0);for(l=1;l<e;l++)g=(g>>2)+(h[f+1]?4:0)+(h[f-d+1]?8:0),i[g]&&(o[u+l]=i[g],++p),f++;if(h[f-d]!==h[f]&&(o[u+l]=h[f]?2:4,++p),p>r)return null}for(f=d*(t-1),u=a*s,h[f]!==0&&(o[u]=8,++p),l=1;l<e;l++)h[f]!==h[f+1]&&(o[u+l]=h[f]?4:8,++p),f++;if(h[f]!==0&&(o[u+l]=4,++p),p>r)return null;const m=new Int32Array([0,s,-1,0,-s,0,0,0,1]),y=new Path2D;for(a=0;p&&a<=t;a++){let g=a*s;const v=g+e;for(;g<v&&!o[g];)g++;if(g===v)continue;y.moveTo(g%s,a);const _=g;let x=o[g];do{const C=m[x];do g+=C;while(!o[g]);const k=o[g];k!==5&&k!==10?(x=k,o[g]=0):(x=k&51*x>>4,o[g]&=x>>2|x<<2),y.lineTo(g%s,g/s|0),o[g]||--p}while(_!==g);--a}return h=null,o=null,function(g){g.save(),g.scale(1/e,-1/t),g.translate(0,-t),g.fill(y),g.beginPath(),g.restore()}}class Sx{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Ck,this.textMatrixScale=1,this.fontMatrix=Z0,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=an.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=te.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=te.applyTransform(t,e),i=te.applyTransform(t.slice(2),e),s=te.applyTransform([t[0],t[3]],e),o=te.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],o[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],o[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],o[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],o[1])}updateScalingPathMinMax(e,t){te.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,s,o,a,l,u,d){const h=te.bezierBoundingBox(t,r,i,s,o,a,l,u,d);d||this.updateRectMinMax(e,h)}getPathBoundingBox(e=bn.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===bn.STROKE){t||Xe("Stroke bounding box must include transform.");const i=te.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=o,r[2]+=s,r[3]+=o}return r}updateClipFromPath(){const e=te.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=bn.FILL,t=null){return te.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function xx(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%Ln,s=(t-i)/Ln,o=i===0?s:s+1,a=n.createImageData(r,Ln);let l=0,u;const d=e.data,h=a.data;let f,p,m,y;if(e.kind===tm.GRAYSCALE_1BPP){const w=d.byteLength,g=new Uint32Array(h.buffer,0,h.byteLength>>2),v=g.length,_=r+7>>3,x=4294967295,C=Dn.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(m=f<s?Ln:i,u=0,p=0;p<m;p++){const k=w-l;let P=0;const A=k>_?r:k*8-7,D=A&-8;let I=0,j=0;for(;P<D;P+=8)j=d[l++],g[u++]=j&128?x:C,g[u++]=j&64?x:C,g[u++]=j&32?x:C,g[u++]=j&16?x:C,g[u++]=j&8?x:C,g[u++]=j&4?x:C,g[u++]=j&2?x:C,g[u++]=j&1?x:C;for(;P<A;P++)I===0&&(j=d[l++],I=128),g[u++]=j&I?x:C,I>>=1}for(;u<v;)g[u++]=0;n.putImageData(a,0,f*Ln)}}else if(e.kind===tm.RGBA_32BPP){for(p=0,y=r*Ln*4,f=0;f<s;f++)h.set(d.subarray(l,l+y)),l+=y,n.putImageData(a,0,p),p+=Ln;f<o&&(y=r*i*4,h.set(d.subarray(l,l+y)),n.putImageData(a,0,p))}else if(e.kind===tm.RGB_24BPP)for(m=Ln,y=r*m,f=0;f<o;f++){for(f>=s&&(m=i,y=r*m),u=0,p=y;p--;)h[u++]=d[l++],h[u++]=d[l++],h[u++]=d[l++],h[u++]=255;n.putImageData(a,0,f*Ln)}else throw new Error(`bad image kind: ${e.kind}`)}function Ax(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%Ln,s=(t-i)/Ln,o=i===0?s:s+1,a=n.createImageData(r,Ln);let l=0;const u=e.data,d=a.data;for(let h=0;h<o;h++){const f=h<s?Ln:i;({srcPos:l}=F2({src:u,srcPos:l,dest:d,width:r,height:f,nonBlackColor:0})),n.putImageData(a,0,h*Ln)}}function Gc(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Ip(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!fn){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function Cx(n,e){if(e)return!0;const t=te.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*jo.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const H2=["butt","round","square"],$2=["miter","round","bevel"],V2={},kx={};var Bo,Cw,kw;const Gb=class Gb{constructor(e,t,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,u){S(this,Bo);this.ctx=e,this.current=new Sx(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new B2(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...dt(this.compositeCtx))}this.ctx.save(),Ip(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=dt(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const u=l-a>bx&&typeof r=="function",d=u?Date.now()+j2:0;let h=0;const f=this.commonObjs,p=this.objs;let m;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(m=o[a],m!==Or.dependency)this[m].apply(this,s[a]);else for(const y of s[a]){const w=y.startsWith("g_")?f:p;if(!w.has(y))return w.get(y,r),a}if(a++,a===l)return a;if(u&&++h>bx){if(Date.now()>d)return r(),a;h=0}}}endDrawing(){E(this,Bo,Cw).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),E(this,Bo,kw).call(this)}_scaleImage(e,t){const r=e.width,i=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=i,u="prescale1",d,h;for(;s>2&&a>1||o>2&&l>1;){let f=a,p=l;s>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/f),o>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/p),d=this.cachedCanvases.getCanvas(u,f,p),h=d.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,a,l,0,0,f,p),e=d.canvas,a=f,l=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,a=dt(t);let l,u,d,h;if((e.bitmap||e.data)&&e.count>1){const A=e.bitmap||e.data.buffer;u=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(A),l||(l=new Map,this._cachedBitmapsMap.set(A,l));const D=l.get(u);if(D&&!o){const I=Math.round(Math.min(a[0],a[2])+a[4]),j=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:D,offsetX:I,offsetY:j}}d=D}d||(h=this.cachedCanvases.getCanvas("maskCanvas",r,i),Ax(h.context,e));let f=te.transform(a,[1/r,0,0,-1/i,0,0]);f=te.transform(f,[1,0,0,1,0,-i]);const[p,m,y,w]=te.getAxialAlignedBoundingBox([0,0,r,i],f),g=Math.round(y-p)||1,v=Math.round(w-m)||1,_=this.cachedCanvases.getCanvas("fillCanvas",g,v),x=_.context,C=p,k=m;x.translate(-C,-k),x.transform(...f),d||(d=this._scaleImage(h.canvas,Bi(x)),d=d.img,l&&o&&l.set(u,d)),x.imageSmoothingEnabled=Cx(dt(x),e.interpolate),Np(x,d,0,0,d.width,d.height,0,0,r,i),x.globalCompositeOperation="source-in";const P=te.transform(Bi(x),[1,0,0,1,-C,-k]);return x.fillStyle=o?s.getPattern(t,this,P,bn.FILL):s,x.fillRect(0,0,r,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,_.canvas)),{canvas:_.canvas,offsetX:Math.round(C),offsetY:Math.round(k)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=H2[e]}setLineJoin(e){this.ctx.lineJoin=$2[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...dt(this.suspendedCtx)),Gc(this.suspendedCtx,s),z2(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Gc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,o,a,l,u,d,h){let f=e.canvas,p=l-d,m=u-h;if(o){if(p<0||m<0||p+r>f.width||m+i>f.height){const w=this.cachedCanvases.getCanvas("maskExtension",r,i),g=w.context;g.drawImage(f,-p,-m),o.some(v=>v!==0)&&(g.globalCompositeOperation="destination-atop",g.fillStyle=te.makeHexColor(...o),g.fillRect(0,0,r,i),g.globalCompositeOperation="source-over"),f=w.canvas,p=m=0}else if(o.some(w=>w!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const w=new Path2D;w.rect(p,m,r,i),e.clip(w),e.globalCompositeOperation="destination-atop",e.fillStyle=te.makeHexColor(...o),e.fillRect(p,m,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const y=new Path2D;y.rect(l,u,r,i),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(f,p,m,r,i,l,u,r,i),t.restore()}save(){this.inSMaskMode?(Gc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Gc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,s,o){this.ctx.transform(e,t,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const i=this.ctx,s=this.current;let o=s.x,a=s.y,l,u;const d=dt(i),h=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,f=h?r.slice(0):null;for(let p=0,m=0,y=e.length;p<y;p++)switch(e[p]|0){case Or.rectangle:o=t[m++],a=t[m++];const w=t[m++],g=t[m++],v=o+w,_=a+g;i.moveTo(o,a),w===0||g===0?i.lineTo(v,_):(i.lineTo(v,a),i.lineTo(v,_),i.lineTo(o,_)),h||s.updateRectMinMax(d,[o,a,v,_]),i.closePath();break;case Or.moveTo:o=t[m++],a=t[m++],i.moveTo(o,a),h||s.updatePathMinMax(d,o,a);break;case Or.lineTo:o=t[m++],a=t[m++],i.lineTo(o,a),h||s.updatePathMinMax(d,o,a);break;case Or.curveTo:l=o,u=a,o=t[m+4],a=t[m+5],i.bezierCurveTo(t[m],t[m+1],t[m+2],t[m+3],o,a),s.updateCurvePathMinMax(d,l,u,t[m],t[m+1],t[m+2],t[m+3],o,a,f),m+=6;break;case Or.curveTo2:l=o,u=a,i.bezierCurveTo(o,a,t[m],t[m+1],t[m+2],t[m+3]),s.updateCurvePathMinMax(d,l,u,o,a,t[m],t[m+1],t[m+2],t[m+3],f),o=t[m+2],a=t[m+3],m+=4;break;case Or.curveTo3:l=o,u=a,o=t[m+2],a=t[m+3],i.bezierCurveTo(t[m],t[m+1],o,a,o,a),s.updateCurvePathMinMax(d,l,u,t[m],t[m+1],o,a,o,a,f),m+=4;break;case Or.closePath:i.closePath();break}h&&s.updateScalingPathMinMax(d,f),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,Bi(t),bn.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,Bi(t),bn.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=V2}eoClip(){this.pendingClip=kx}beginText(){this.current.textMatrix=Ck,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var d;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||Z0,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&xe("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((d=r.systemFontInfo)==null?void 0:d.css)||`"${s}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let u=t;t<wx?u=wx:t>_x&&(u=_x),this.current.fontSizeScale=t/u,this.ctx.font=`${l} ${a} ${u}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,s,o){this.current.textMatrix=[e,t,r,i,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,d=l&an.FILL_STROKE_MASK,h=!!(l&an.ADD_TO_PATH_FLAG),f=o.patternFill&&!a.missingFile;let p;(a.disableFontFace||h||f)&&(p=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||f?(s.save(),s.translate(t,r),s.beginPath(),p(s,u),i&&s.setTransform(...i),(d===an.FILL||d===an.FILL_STROKE)&&s.fill(),(d===an.STROKE||d===an.FILL_STROKE)&&s.stroke(),s.restore()):((d===an.FILL||d===an.FILL_STROKE)&&s.fillText(e,t,r),(d===an.STROKE||d===an.FILL_STROKE)&&s.strokeText(e,t,r)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:dt(s),x:t,y:r,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return Ne(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,u=t.fontDirection,d=t.textHScale*u,h=e.length,f=r.vertical,p=f?1:-1,m=r.defaultVMetrics,y=i*t.fontMatrix[0],w=t.textRenderingMode===an.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),u>0?s.scale(d,-1):s.scale(d,1);let g;if(t.patternFill){s.save();const k=t.fillColor.getPattern(s,this,Bi(s),bn.FILL);g=dt(s),s.restore(),s.fillStyle=k}let v=t.lineWidth;const _=t.textMatrixScale;if(_===0||v===0){const k=t.textRenderingMode&an.FILL_STROKE_MASK;(k===an.STROKE||k===an.FILL_STROKE)&&(v=this.getSinglePixelWidth())}else v/=_;if(o!==1&&(s.scale(o,o),v/=o),s.lineWidth=v,r.isInvalidPDFjsFont){const k=[];let P=0;for(const A of e)k.push(A.unicode),P+=A.width;s.fillText(k.join(""),0,0),t.x+=P*y*d,s.restore(),this.compose();return}let x=0,C;for(C=0;C<h;++C){const k=e[C];if(typeof k=="number"){x+=p*k*i/1e3;continue}let P=!1;const A=(k.isSpace?l:0)+a,D=k.fontChar,I=k.accent;let j,ne,J=k.width;if(f){const he=k.vmetric||m,pe=-(k.vmetric?he[1]:J*.5)*y,V=he[2]*y;J=he?-he[0]:J,j=pe/o,ne=(x+V)/o}else j=x/o,ne=0;if(r.remeasure&&J>0){const he=s.measureText(D).width*1e3/i*o;if(J<he&&this.isFontSubpixelAAEnabled){const pe=J/he;P=!0,s.save(),s.scale(pe,1),j/=pe}else J!==he&&(j+=(J-he)/2e3*i/o)}if(this.contentVisible&&(k.isInFont||r.missingFile)){if(w&&!I)s.fillText(D,j,ne);else if(this.paintChar(D,j,ne,g),I){const he=j+i*I.offset.x/o,pe=ne-i*I.offset.y/o;this.paintChar(I.fontChar,he,pe,g)}}const X=f?J*y-A*u:J*y+A*u;x+=X,P&&s.restore()}f?t.y-=x:t.x+=x*d,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,u=r.wordSpacing,d=r.textHScale*o,h=r.fontMatrix||Z0,f=e.length,p=r.textRenderingMode===an.INVISIBLE;let m,y,w,g;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(d,o),m=0;m<f;++m){if(y=e[m],typeof y=="number"){g=a*y*s/1e3,this.ctx.translate(g,0),r.x+=g*d;continue}const v=(y.isSpace?u:0)+l,_=i.charProcOperatorList[y.operatorListId];if(!_){xe(`Type3 character "${y.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=y,this.save(),t.scale(s,s),t.transform(...h),this.executeOperatorList(_),this.restore()),w=te.applyTransform([y.width,0],h)[0]*s+v,t.translate(w,0),r.x+=w*d}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,o){this.ctx.rect(r,i,s-r,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||dt(this.ctx),s={createCanvasGraphics:o=>new Gb(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Aw(e,r,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){const i=te.makeHexColor(e,t,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,r){const i=te.makeHexColor(e,t,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=I2(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,Bi(t),bn.SHADING);const i=Bi(t);if(i){const{width:s,height:o}=t.canvas,[a,l,u,d]=te.getAxialAlignedBoundingBox([0,0,s,o],i);this.ctx.fillRect(a,l,u-a,d-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Xe("Should not call beginInlineImage")}beginImageData(){Xe("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=dt(this.ctx),t)){const r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(dt(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Ty("TODO: Support non-isolated groups."),e.knockout&&xe("Knockout groups not supported.");const r=dt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=te.getAxialAlignedBoundingBox(e.bbox,dt(t));const s=[0,0,t.canvas.width,t.canvas.height];i=te.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),u=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,u]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,l,u),f=h.context;f.translate(-o,-a),f.transform(...r),e.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),Gc(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=dt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=te.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(E(this,Bo,Cw).call(this),Ip(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,u]=te.singularValueDecompose2dScale(dt(this.ctx)),{viewportScale:d}=this,h=Math.ceil(o*this.outputScaleX*d),f=Math.ceil(a*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,f);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,a*u),Ip(this.ctx)}else Ip(this.ctx),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new Sx(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),E(this,Bo,kw).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=U2(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=dt(a);a.transform(t,r,i,s,0,0);const u=this._createMaskCanvas(e);a.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let d=0,h=o.length;d<h;d+=2){const f=te.transform(l,[t,r,i,s,o[d],o[d+1]]),[p,m]=te.applyTransform([0,0],f);a.drawImage(u.canvas,p,m)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:u}=s,d=this.cachedCanvases.getCanvas("maskCanvas",a,l),h=d.context;h.save();const f=this.getObject(o,s);Ax(h,f),h.globalCompositeOperation="source-in",h.fillStyle=i?r.getPattern(h,this,Bi(t),bn.FILL):r,h.fillRect(0,0,a,l),h.restore(),t.save(),t.transform(...u),t.scale(1,-1),Np(t,d.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){xe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){xe("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let u=0,d=i.length;u<d;u+=2)l.push({transform:[t,0,0,r,i[u],i[u+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;if(this.save(),!fn){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/t,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,r).context;xx(l,e),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,Bi(i));i.imageSmoothingEnabled=Cx(dt(i),e.interpolate),Np(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;xx(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),Np(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===kx?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=dt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)o=a=1/l;else{const d=l*e;o=a=d<1?1/d:1}else if(e===0)o=1/l,a=1/u;else{const d=l*e,h=u*e;o=d<1?1/d:1,a=h<1?1/h:1}}else{const l=Math.abs(t*s-r*i),u=Math.hypot(t,r),d=Math.hypot(i,s);if(e===0)o=d/l,a=u/l;else{const h=e*l;o=d>h?d/h:1,a=u>h?u/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(i,s),o.length>0){const a=Math.max(i,s);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Bo=new WeakSet,Cw=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},kw=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let fu=Gb;for(const n in Or)fu.prototype[n]!==void 0&&(fu.prototype[Or[n]]=fu.prototype[n]);var Uh,Hh;class xs{static get workerPort(){return c(this,Uh)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");b(this,Uh,e)}static get workerSrc(){return c(this,Hh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");b(this,Hh,e)}}Uh=new WeakMap,Hh=new WeakMap,S(xs,Uh,null),S(xs,Hh,"");const Fp={UNKNOWN:0,DATA:1,ERROR:2},Ct={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Vn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||Xe('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Ll(n.message);case"MissingPDFException":return new Pl(n.message);case"PasswordException":return new J0(n.message,n.code);case"UnexpectedResponseException":return new Ry(n.message,n.status);case"UnknownErrorException":return new ew(n.message,n.details);default:return new ew(n.message,n.toString())}}var Li,uT,cT,am;class ld{constructor(e,t,r){S(this,Li);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const s=i.data;if(s.targetName!==this.sourceName)return;if(s.stream){E(this,Li,cT).call(this,s);return}if(s.callback){const a=s.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],s.callback===Fp.DATA)l.resolve(s.data);else if(s.callback===Fp.ERROR)l.reject(Vn(s.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const a=this.sourceName,l=s.sourceName;new Promise(function(u){u(o(s.data))}).then(function(u){r.postMessage({sourceName:a,targetName:l,callback:Fp.DATA,callbackId:s.callbackId,data:u})},function(u){r.postMessage({sourceName:a,targetName:l,callback:Fp.ERROR,callbackId:s.callbackId,reason:Vn(u)})});return}if(s.streamId){E(this,Li,uT).call(this,s);return}o(s.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:u.desiredSize},i),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:o,targetName:a,stream:Ct.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{jt(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:Ct.CANCEL,streamId:s,reason:Vn(u)}),d.promise}},r)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Li=new WeakSet,uT=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(u,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:Ct.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Ct.CLOSE,streamId:t}),delete o.streamSinks[t])},error(u){jt(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Ct.ERROR,streamId:t,reason:Vn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(u){u(a(e.data,l))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Ct.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:Ct.START_COMPLETE,streamId:t,reason:Vn(u)})})},cT=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case Ct.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Vn(e.reason));break;case Ct.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Vn(e.reason));break;case Ct.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:Ct.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var u;l((u=a.onPull)==null?void 0:u.call(a))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Ct.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:Ct.PULL_COMPLETE,streamId:t,reason:Vn(l)})});break;case Ct.ENQUEUE:if(jt(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case Ct.CLOSE:if(jt(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),E(this,Li,am).call(this,o,t);break;case Ct.ERROR:jt(o,"error should have stream controller"),o.controller.error(Vn(e.reason)),E(this,Li,am).call(this,o,t);break;case Ct.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Vn(e.reason)),E(this,Li,am).call(this,o,t);break;case Ct.CANCEL:if(!a)break;new Promise(function(l){var u;l((u=a.onCancel)==null?void 0:u.call(a,Vn(e.reason)))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Ct.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:Ct.CANCEL_COMPLETE,streamId:t,reason:Vn(l)})}),a.sinkCapability.reject(Vn(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},am=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Pa,$h;class W2{constructor({parsedData:e,rawData:t}){S(this,Pa);S(this,$h);b(this,Pa,e),b(this,$h,t)}getRaw(){return c(this,$h)}get(e){return c(this,Pa).get(e)??null}getAll(){return Rb(c(this,Pa))}has(e){return c(this,Pa).has(e)}}Pa=new WeakMap,$h=new WeakMap;const Vs=Symbol("INTERNAL");var Vh,Wh,Gh,Pu;class G2{constructor(e,{name:t,intent:r,usage:i}){S(this,Vh,!1);S(this,Wh,!1);S(this,Gh,!1);S(this,Pu,!0);b(this,Vh,!!(e&br.DISPLAY)),b(this,Wh,!!(e&br.PRINT)),this.name=t,this.intent=r,this.usage=i}get visible(){if(c(this,Gh))return c(this,Pu);if(!c(this,Pu))return!1;const{print:e,view:t}=this.usage;return c(this,Vh)?(t==null?void 0:t.viewState)!=="OFF":c(this,Wh)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Vs&&Xe("Internal method `_setVisible` called."),b(this,Gh,r),b(this,Pu,t)}}Vh=new WeakMap,Wh=new WeakMap,Gh=new WeakMap,Pu=new WeakMap;var ro,Ge,Lu,Mu,qh,Tw;class q2{constructor(e,t=br.DISPLAY){S(this,qh);S(this,ro,null);S(this,Ge,new Map);S(this,Lu,null);S(this,Mu,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,b(this,Mu,e.order);for(const r of e.groups)c(this,Ge).set(r.id,new G2(t,r));if(e.baseState==="OFF")for(const r of c(this,Ge).values())r._setVisible(Vs,!1);for(const r of e.on)c(this,Ge).get(r)._setVisible(Vs,!0);for(const r of e.off)c(this,Ge).get(r)._setVisible(Vs,!1);b(this,Lu,this.getHash())}}isVisible(e){if(c(this,Ge).size===0)return!0;if(!e)return Ty("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,Ge).has(e.id)?c(this,Ge).get(e.id).visible:(xe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return E(this,qh,Tw).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!c(this,Ge).has(t))return xe(`Optional content group not found: ${t}`),!0;if(c(this,Ge).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!c(this,Ge).has(t))return xe(`Optional content group not found: ${t}`),!0;if(!c(this,Ge).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!c(this,Ge).has(t))return xe(`Optional content group not found: ${t}`),!0;if(!c(this,Ge).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!c(this,Ge).has(t))return xe(`Optional content group not found: ${t}`),!0;if(c(this,Ge).get(t).visible)return!1}return!0}return xe(`Unknown optional content policy ${e.policy}.`),!0}return xe(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const r=c(this,Ge).get(e);if(!r){xe(`Optional content group not found: ${e}`);return}r._setVisible(Vs,!!t,!0),b(this,ro,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=c(this,Ge).get(i);if(s)switch(r){case"ON":s._setVisible(Vs,!0);break;case"OFF":s._setVisible(Vs,!1);break;case"Toggle":s._setVisible(Vs,!s.visible);break}}b(this,ro,null)}get hasInitialVisibility(){return c(this,Lu)===null||this.getHash()===c(this,Lu)}getOrder(){return c(this,Ge).size?c(this,Mu)?c(this,Mu).slice():[...c(this,Ge).keys()]:null}getGroups(){return c(this,Ge).size>0?Rb(c(this,Ge)):null}getGroup(e){return c(this,Ge).get(e)||null}getHash(){if(c(this,ro)!==null)return c(this,ro);const e=new sT;for(const[t,r]of c(this,Ge))e.update(`${t}:${r.visible}`);return b(this,ro,e.hexdigest())}}ro=new WeakMap,Ge=new WeakMap,Lu=new WeakMap,Mu=new WeakMap,qh=new WeakSet,Tw=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=E(this,qh,Tw).call(this,s);else if(c(this,Ge).has(s))o=c(this,Ge).get(s).visible;else return xe(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class X2{constructor(e,{disableRange:t=!1,disableStream:r=!1}){jt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});jt(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){jt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new K2(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new Y2(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class K2{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=Db(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Y2{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Z2(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let d=a(t);return d=unescape(d),d=l(d),d=u(d),s(d)}if(t=o(n),t){const d=u(t);return s(d)}if(t=r("filename","i").exec(n),t){t=t[1];let d=a(t);return d=u(d),s(d)}function r(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),p=Py(h);h=f.decode(p),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function o(d){const h=[];let f;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(d))!==null;){let[,y,w,g]=f;if(y=parseInt(y,10),y in h){if(y===0)break;continue}h[y]=[w,g]}const m=[];for(let y=0;y<h.length&&y in h;++y){let[w,g]=h[y];g=a(g),w&&(g=unescape(g),y===0&&(g=l(g))),m.push(g)}return m.join("")}function a(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),m=d.slice(h+1).replace(/^[^']*'/,"");return i(f,m)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,m){if(p==="q"||p==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,w){return String.fromCharCode(parseInt(w,16))}),i(f,m);try{m=atob(m)}catch{}return i(f,m)})}return""}function Fb({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function jb(n){const e=n("Content-Disposition");if(e){let t=Z2(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(Db(t))return t}return null}function Ny(n,e){return n===404||n===0&&e.startsWith("file:")?new Pl('Missing PDF "'+e+'".'):new Ry(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function dT(n){return n===200||n===206}function hT(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function fT(n){const e=new Headers;for(const t in n){const r=n[t];r!==void 0&&e.append(t,r)}return e}function pT(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(xe(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class Tx{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return jt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Q2(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new J2(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Q2{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=fT(this._stream.httpHeaders);const r=t.url;fetch(r,hT(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!dT(i.status))throw Ny(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=l=>i.headers.get(l),{allowRangeRequests:o,suggestedLength:a}=Fb({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=jb(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ll("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:pT(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class J2{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=fT(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${r-1}`);const s=i.url;fetch(s,hT(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!dT(o.status))throw Ny(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:pT(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Iv=200,Fv=206;function ej(n){const e=n.response;return typeof e!="string"?e:Py(e).buffer}class tj{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){const i={begin:e,end:t};for(const s in r)i[s]=r[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];o!==void 0&&t.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=Fv):i.expectedStatus=Iv,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){var l,u,d;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const s=i.status||Iv;if(!(s===Iv&&r.expectedStatus===Fv)&&s!==r.expectedStatus){(u=r.onError)==null||u.call(r,i.status);return}const a=ej(i);if(s===Fv){const h=i.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);r.onDone({begin:parseInt(f[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):(d=r.onError)==null||d.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class nj{constructor(e){this._source=e,this._manager=new tj(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return jt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new rj(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new ij(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class rj{constructor(e,t){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=o=>t.getResponseHeader(o),{allowRangeRequests:i,suggestedLength:s}=Fb({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=jb(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Ny(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ij{constructor(e,t,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Ny(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const mT=/^file:\/\/\/[a-zA-Z]:\//;function sj(n){const e=Ni.get("url"),t=e.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?e.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class oj{constructor(e){this.source=e,this.url=sj(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return jt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new uj(this):new aj(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new cj(this,e,t):new lj(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class gT{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ll("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class yT{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Ag(n,e){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:e}}class aj extends gT{constructor(e){super(e);const t=r=>{if(r.statusCode===404){const a=new Pl(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=Fb({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=jb(i)};if(this._request=null,this._url.protocol==="http:"){const r=Ni.get("http");this._request=r.request(Ag(this._url,e.httpHeaders),t)}else{const r=Ni.get("https");this._request=r.request(Ag(this._url,e.httpHeaders),t)}this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class lj extends yT{constructor(e,t,r){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const o=e.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${t}-${r-1}`;const i=s=>{if(s.statusCode===404){const o=new Pl(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=Ni.get("http");this._request=s.request(Ag(this._url,this._httpHeaders),i)}else{const s=Ni.get("https");this._request=s.request(Ag(this._url,this._httpHeaders),i)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class uj extends gT{constructor(e){super(e);let t=decodeURIComponent(this._url.path);mT.test(this._url.href)&&(t=t.replace(/^\//,""));const r=Ni.get("fs");r.promises.lstat(t).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(t)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Pl(`Missing PDF "${t}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class cj extends yT{constructor(e,t,r){super(e);let i=decodeURIComponent(this._url.path);mT.test(this._url.href)&&(i=i.replace(/^\//,""));const s=Ni.get("fs");this._setReadableStream(s.createReadStream(i,{start:t,end:r-1}))}}const dj=1e5,Tn=30,hj=.8;var Wx,io,Pn,Xh,Kh,La,is,Yh,Zh,Ma,Ou,Du,so,Nu,Qh,Iu,Oa,Jh,ef,It,Da,Na,oo,Fu,Ds,vT,wT,Rw,Mi,lm,_T,bT;let Cg=(It=class{constructor({textContentSource:e,container:t,viewport:r}){S(this,Ds);S(this,io,Promise.withResolvers());S(this,Pn,null);S(this,Xh,!1);S(this,Kh,!!((Wx=globalThis.FontInspector)!=null&&Wx.enabled));S(this,La,null);S(this,is,null);S(this,Yh,0);S(this,Zh,0);S(this,Ma,null);S(this,Ou,null);S(this,Du,0);S(this,so,0);S(this,Nu,Object.create(null));S(this,Qh,[]);S(this,Iu,null);S(this,Oa,[]);S(this,Jh,new WeakMap);S(this,ef,null);var l;if(e instanceof ReadableStream)b(this,Iu,e);else if(typeof e=="object")b(this,Iu,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');b(this,Pn,b(this,Ou,t)),b(this,so,r.scale*(globalThis.devicePixelRatio||1)),b(this,Du,r.rotation),b(this,is,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;b(this,ef,[1,0,0,-1,-o,a+s]),b(this,Zh,i),b(this,Yh,s),E(l=It,Mi,_T).call(l),El(t,r),c(this,io).promise.catch(()=>{}).then(()=>{c(It,Fu).delete(this),b(this,is,null),b(this,Nu,null)})}render(){const e=()=>{c(this,Ma).read().then(({value:t,done:r})=>{if(r){c(this,io).resolve();return}c(this,La)??b(this,La,t.lang),Object.assign(c(this,Nu),t.styles),E(this,Ds,vT).call(this,t.items),e()},c(this,io).reject)};return b(this,Ma,c(this,Iu).getReader()),c(It,Fu).add(this),e(),c(this,io).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==c(this,Du)&&(t==null||t(),b(this,Du,i),El(c(this,Ou),{rotation:i})),r!==c(this,so)){t==null||t(),b(this,so,r);const o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:E(s=It,Mi,lm).call(s,c(this,La))};for(const a of c(this,Oa))o.properties=c(this,Jh).get(a),o.div=a,E(this,Ds,Rw).call(this,o)}}cancel(){var t;const e=new Ll("TextLayer task cancelled.");(t=c(this,Ma))==null||t.cancel(e).catch(()=>{}),b(this,Ma,null),c(this,io).reject(e)}get textDivs(){return c(this,Oa)}get textContentItemsStr(){return c(this,Qh)}static cleanup(){if(!(c(this,Fu).size>0)){c(this,Da).clear();for(const{canvas:e}of c(this,Na).values())e.remove();c(this,Na).clear()}}},io=new WeakMap,Pn=new WeakMap,Xh=new WeakMap,Kh=new WeakMap,La=new WeakMap,is=new WeakMap,Yh=new WeakMap,Zh=new WeakMap,Ma=new WeakMap,Ou=new WeakMap,Du=new WeakMap,so=new WeakMap,Nu=new WeakMap,Qh=new WeakMap,Iu=new WeakMap,Oa=new WeakMap,Jh=new WeakMap,ef=new WeakMap,Da=new WeakMap,Na=new WeakMap,oo=new WeakMap,Fu=new WeakMap,Ds=new WeakSet,vT=function(e){var i,s;if(c(this,Xh))return;(s=c(this,is)).ctx??(s.ctx=E(i=It,Mi,lm).call(i,c(this,La)));const t=c(this,Oa),r=c(this,Qh);for(const o of e){if(t.length>dj){xe("Ignoring additional textDivs for performance reasons."),b(this,Xh,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=c(this,Pn);b(this,Pn,document.createElement("span")),c(this,Pn).classList.add("markedContent"),o.id!==null&&c(this,Pn).setAttribute("id",`${o.id}`),a.append(c(this,Pn))}else o.type==="endMarkedContent"&&b(this,Pn,c(this,Pn).parentNode);continue}r.push(o.str),E(this,Ds,wT).call(this,o)}},wT=function(e){var y;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,Oa).push(t);const i=te.transform(c(this,ef),e.transform);let s=Math.atan2(i[1],i[0]);const o=c(this,Nu)[e.fontName];o.vertical&&(s+=Math.PI/2);const a=c(this,Kh)&&o.fontSubstitution||o.fontFamily,l=Math.hypot(i[2],i[3]),u=l*E(y=It,Mi,bT).call(y,a,c(this,La));let d,h;s===0?(d=i[4],h=i[5]-u):(d=i[4]+u*Math.sin(s),h=i[5]-u*Math.cos(s));const f="calc(var(--scale-factor)*",p=t.style;c(this,Pn)===c(this,Ou)?(p.left=`${(100*d/c(this,Zh)).toFixed(2)}%`,p.top=`${(100*h/c(this,Yh)).toFixed(2)}%`):(p.left=`${f}${d.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${(c(It,oo)*l).toFixed(2)}px)`,p.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,c(this,Kh)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const w=Math.abs(e.transform[0]),g=Math.abs(e.transform[3]);w!==g&&Math.max(w,g)/Math.min(w,g)>1.5&&(m=!0)}if(m&&(r.canvasWidth=o.vertical?e.height:e.width),c(this,Jh).set(t,r),c(this,is).div=t,c(this,is).properties=r,E(this,Ds,Rw).call(this,c(this,is)),r.hasText&&c(this,Pn).append(t),r.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),c(this,Pn).append(w)}},Rw=function(e){const{div:t,properties:r,ctx:i,prevFontSize:s,prevFontFamily:o}=e,{style:a}=t;let l="";if(c(It,oo)>1&&(l=`scale(${1/c(It,oo)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:u}=a,{canvasWidth:d,fontSize:h}=r;(s!==h||o!==u)&&(i.font=`${h*c(this,so)}px ${u}`,e.prevFontSize=h,e.prevFontFamily=u);const{width:f}=i.measureText(t.textContent);f>0&&(l=`scaleX(${d*c(this,so)/f}) ${l}`)}r.angle!==0&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(a.transform=l)},Mi=new WeakSet,lm=function(e=null){let t=c(this,Na).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),c(this,Na).set(e,t)}return t},_T=function(){if(c(this,oo)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),b(this,oo,e.getBoundingClientRect().height),e.remove()},bT=function(e,t){const r=c(this,Da).get(e);if(r)return r;const i=E(this,Mi,lm).call(this,t),s=i.font;i.canvas.width=i.canvas.height=Tn,i.font=`${Tn}px ${e}`;const o=i.measureText("");let a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);if(a){const h=a/(a+l);return c(this,Da).set(e,h),i.canvas.width=i.canvas.height=0,i.font=s,h}i.strokeStyle="red",i.clearRect(0,0,Tn,Tn),i.strokeText("g",0,0);let u=i.getImageData(0,0,Tn,Tn).data;l=0;for(let h=u.length-1-3;h>=0;h-=4)if(u[h]>0){l=Math.ceil(h/4/Tn);break}i.clearRect(0,0,Tn,Tn),i.strokeText("A",0,Tn),u=i.getImageData(0,0,Tn,Tn).data,a=0;for(let h=0,f=u.length;h<f;h+=4)if(u[h]>0){a=Tn-Math.floor(h/4/Tn);break}i.canvas.width=i.canvas.height=0,i.font=s;const d=a?a/(a+l):hj;return c(this,Da).set(e,d),d},S(It,Mi),S(It,Da,new Map),S(It,Na,new Map),S(It,oo,null),S(It,Fu,new Set),It);function fj(){Ok("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:e,viewport:t,...r}=arguments[0],i=Object.keys(r);i.length>0&&xe("Ignoring `renderTextLayer` parameters: "+i.join(", "));const s=new Cg({textContentSource:n,container:e,viewport:t}),{textDivs:o,textContentItemsStr:a}=s;return{promise:s.render(),textDivs:o,textContentItemsStr:a}}function pj(){Ok("`updateTextLayer`, please use `TextLayer` instead.")}class dh{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(dh.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const u of s.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const mj=65536,gj=100,yj=5e3,vj=fn?R2:g2,wj=fn?P2:Lk,_j=fn?T2:m2,bj=fn?L2:Mk;function Ej(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new Pw,{docId:t}=e,r=n.url?Sj(n.url):null,i=n.data?xj(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof ET?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:mj;let d=n.worker instanceof pu?n.worker:null;const h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!Ob(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,m=n.cMapPacked!==!1,y=n.CMapReaderFactory||wj,w=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,g=n.StandardFontDataFactory||bj,v=n.stopAtErrors!==!0,_=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,x=n.isEvalSupported!==!1,C=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!fn,k=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,P=typeof n.disableFontFace=="boolean"?n.disableFontFace:fn,A=n.fontExtraProperties===!0,D=n.enableXfa===!0,I=n.ownerDocument||globalThis.document,j=n.disableRange===!0,ne=n.disableStream===!0,J=n.disableAutoFetch===!0,X=n.pdfBug===!0,he=n.enableHWA===!0,pe=l?l.length:n.length??NaN,V=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!fn&&!P,F=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:y===Lk&&g===Mk&&p&&w&&sd(p,document.baseURI)&&sd(w,document.baseURI),$=n.canvasFactory||new vj({ownerDocument:I,enableHWA:he}),ie=n.filterFactory||new _j({docId:t,ownerDocument:I}),Re=null;i2(h);const ue={canvasFactory:$,filterFactory:ie};if(F||(ue.cMapReaderFactory=new y({baseUrl:p,isCompressed:m}),ue.standardFontDataFactory=new g({baseUrl:w})),!d){const lt={verbosity:h,port:xs.workerPort};d=lt.port?pu.fromPort(lt):new pu(lt),e._worker=d}const Ee={docId:t,apiVersion:"4.4.168",data:i,password:a,disableAutoFetch:J,rangeChunkSize:u,length:pe,docBaseUrl:f,enableXfa:D,evaluatorOptions:{maxImageSize:_,disableFontFace:P,ignoreErrors:v,isEvalSupported:x,isOffscreenCanvasSupported:C,canvasMaxAreaInBytes:k,fontExtraProperties:A,useSystemFonts:V,cMapUrl:F?p:null,standardFontDataUrl:F?w:null}},Ye={disableFontFace:P,fontExtraProperties:A,ownerDocument:I,pdfBug:X,styleElement:Re,loadingParams:{disableAutoFetch:J,enableXfa:D}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const lt=d.messageHandler.sendWithPromise("GetDocRequest",Ee,i?[i.buffer]:null);let De;if(l)De=new X2(l,{disableRange:j,disableStream:ne});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");De=(yt=>fn?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&sd(yt.url)?new Tx(yt):new oj(yt):sd(yt.url)?new Tx(yt):new nj(yt))({url:r,length:pe,httpHeaders:s,withCredentials:o,rangeChunkSize:u,disableRange:j,disableStream:ne})}return lt.then(Se=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const yt=new ld(t,Se,d.port),fr=new Tj(yt,e,De,Ye,ue);e._transport=fr,yt.send("Ready",null)})}).catch(e._capability.reject),e}function Sj(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(fn&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function xj(n){if(fn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Py(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Rx(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var Ug;const Hg=class Hg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${$n(Hg,Ug)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Ug=new WeakMap,S(Hg,Ug,0);let Pw=Hg,ET=class{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Xe("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class Aj{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ne(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ao,ss,xr,Hl,um;class Cj{constructor(e,t,r,i=!1){S(this,xr);S(this,ao,null);S(this,ss,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new mx:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new ST,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new rp({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ne(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=Zs.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:d=null}){var _,x;(_=this._stats)==null||_.time("Overall");const h=this._transport.getRenderingIntent(r,i,d),{renderingIntent:f,cacheKey:p}=h;b(this,ss,!1),E(this,xr,um).call(this),a||(a=this._transport.getOptionalContentConfig(f));let m=this._intentStates.get(p);m||(m=Object.create(null),this._intentStates.set(p,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const y=!!(f&br.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(x=this._stats)==null||x.time("Page Request"),this._pumpOperatorList(h));const w=C=>{var k;m.renderTasks.delete(g),(this._maybeCleanupAfterRender||y)&&b(this,ss,!0),E(this,xr,Hl).call(this,!y),C?(g.capability.reject(C),this._abortOperatorList({intentState:m,reason:C instanceof Error?C:new Error(C)})):g.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(k=globalThis.Stats)!=null&&k.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},g=new Mw({callback:w,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:u});(m.renderTasks||(m.renderTasks=new Set)).add(g);const v=g.task;return Promise.all([m.displayReadyCapability.promise,a]).then(([C,k])=>{var P;if(this.destroyed){w();return}if((P=this._stats)==null||P.time("Rendering"),!(k.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");g.initializeGraphics({transparency:C,optionalContentConfig:k}),g.operatorListChanged()}).catch(w),v}getOperatorList({intent:e="display",annotationMode:t=Zs.ENABLE,printAnnotationStorage:r=null}={}){var l;function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}const s=this._transport.getRenderingIntent(e,t,r,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=i,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>dh.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:u}){if(u){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),b(this,ss,!1),E(this,xr,um).call(this),Promise.all(e)}cleanup(e=!1){b(this,ss,!0);const t=E(this,xr,Hl).call(this,!1);return e&&t&&this._stats&&(this._stats=new mx),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&E(this,xr,Hl).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r}){const{map:i,transfer:s}=r,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i},s).getReader(),l=this._intentStates.get(t);l.streamReader=a;const u=()=>{a.read().then(({value:d,done:h})=>{if(h){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,l),u())},d=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const h of l.renderTasks)h.operatorListChanged();E(this,xr,Hl).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(d);else if(l.opListReadCapability)l.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof Mb){let i=gj;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Ll(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}ao=new WeakMap,ss=new WeakMap,xr=new WeakSet,Hl=function(e=!1){if(E(this,xr,um).call(this),!c(this,ss)||this.destroyed)return!1;if(e)return b(this,ao,setTimeout(()=>{b(this,ao,null),E(this,xr,Hl).call(this,!1)},yj)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),b(this,ss,!1),!0},um=function(){c(this,ao)&&(clearTimeout(c(this,ao)),b(this,ao,null))};var Ia,$g;class kj{constructor(){S(this,Ia,new Set);S(this,$g,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};c(this,$g).then(()=>{for(const i of c(this,Ia))i.call(this,r)})}addEventListener(e,t){c(this,Ia).add(t)}removeEventListener(e,t){c(this,Ia).delete(t)}terminate(){c(this,Ia).clear()}}Ia=new WeakMap,$g=new WeakMap;const Ki={isWorkerDisabled:!1,fakeWorkerId:0};fn&&(Ki.isWorkerDisabled=!0,xs.workerSrc||(xs.workerSrc="./pdf.worker.mjs")),Ki.isSameOrigin=function(n,e){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const r=new URL(e,t);return t.origin===r.origin},Ki.createCDNWrapper=function(n){const e=`await import("${n}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var Fa,ju,cm,zu,dm;const Wn=class Wn{constructor({name:e=null,port:t=null,verbosity:r=s2()}={}){S(this,ju);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=c(Wn,Fa))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(c(Wn,Fa)||b(Wn,Fa,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return fn?Promise.all([Ni.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new ld("main","worker",e),this._messageHandler.on("ready",function(){}),E(this,ju,cm).call(this)}_initialize(){if(Ki.isWorkerDisabled||c(Wn,zu,dm)){this._setupFakeWorker();return}let{workerSrc:e}=Wn;try{Ki.isSameOrigin(window.location.href,e)||(e=Ki.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new ld("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),r.on("test",a=>{if(s.abort(),this.destroyed||!a){i();return}this._messageHandler=r,this._port=t,this._webWorker=t,E(this,ju,cm).call(this)}),r.on("ready",a=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{Ty("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Ki.isWorkerDisabled||(xe("Setting up fake worker."),Ki.isWorkerDisabled=!0),Wn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new kj;this._port=t;const r=`fake${Ki.fakeWorkerId++}`,i=new ld(r+"_worker",r,t);e.setup(i,t),this._messageHandler=new ld(r,r+"_worker",t),E(this,ju,cm).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=c(Wn,Fa))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=c(this,Fa))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Wn(e)}static get workerSrc(){if(xs.workerSrc)return xs.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ne(this,"_setupFakeWorkerGlobal",(async()=>c(this,zu,dm)?c(this,zu,dm):(await import(this.workerSrc)).WorkerMessageHandler)())}};Fa=new WeakMap,ju=new WeakSet,cm=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},zu=new WeakSet,dm=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},S(Wn,zu),S(Wn,Fa);let pu=Wn;var os,gi,Bu,Uu,yi,ja,ud;class Tj{constructor(e,t,r,i,s){S(this,ja);S(this,os,new Map);S(this,gi,new Map);S(this,Bu,new Map);S(this,Uu,new Map);S(this,yi,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new ST,this.fontLoader=new C2({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ne(this,"annotationStorage",new Ib)}getRenderingIntent(e,t=Zs.ENABLE,r=null,i=!1){let s=br.DISPLAY,o=Ew;switch(e){case"any":s=br.ANY;break;case"display":break;case"print":s=br.PRINT;break;default:xe(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case Zs.DISABLE:s+=br.ANNOTATIONS_DISABLE;break;case Zs.ENABLE:break;case Zs.ENABLE_FORMS:s+=br.ANNOTATIONS_FORMS;break;case Zs.ENABLE_STORAGE:s+=br.ANNOTATIONS_STORAGE,o=(s&br.PRINT&&r instanceof aT?r:this.annotationStorage).serializable;break;default:xe(`getRenderingIntent - invalid annotationMode: ${t}`)}return i&&(s+=br.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=c(this,yi))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of c(this,gi).values())e.push(i._destroy());c(this,gi).clear(),c(this,Bu).clear(),c(this,Uu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),c(this,os).clear(),this.filterFactory.destroy(),Cg.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Ll("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{jt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}jt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",r=>{const i=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var o;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),s.onProgress=a=>{var l;(l=t.onProgress)==null||l.call(t,{loaded:a.loaded,total:a.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(r,i)=>{jt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}jt(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new Aj(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new J0(r.message,r.code);break;case"InvalidPDFException":i=new kk(r.message);break;case"MissingPDFException":i=new Pl(r.message);break;case"UnexpectedResponseException":i=new Ry(r.message,r.status);break;case"UnknownErrorException":i=new ew(r.message,r.details);break;default:Xe("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",r=>{if(b(this,yi,Promise.withResolvers()),t.onPassword){const i=s=>{s instanceof Error?c(this,yi).reject(s):c(this,yi).resolve({password:s})};try{t.onPassword(i,r.code)}catch(s){c(this,yi).reject(s)}}else c(this,yi).reject(new J0(r.message,r.code));return c(this,yi).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;c(this,gi).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in s){const p=s.error;xe(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const d=u&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,h=new k2(s,{disableFontFace:a,inspectFont:d});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&h.data&&(h.data=null),this.commonObjs.resolve(r,h)});break;case"CopyLocalImage":const{imageRef:f}=s;jt(f,"The imageRef must be defined.");for(const p of c(this,gi).values())for(const[,m]of p.objs)if((m==null?void 0:m.ref)===f)return m.dataLen?(this.commonObjs.resolve(r,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var l;if(this.destroyed)return;const a=c(this,gi).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":a.objs.resolve(r,o),(o==null?void 0:o.dataLen)>e2&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&xe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=c(this,Bu).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&c(this,Uu).set(s.refStr,e);const o=new Cj(t,s,this,this._params.pdfBug);return c(this,gi).set(t,o),o});return c(this,Bu).set(t,i),i}getPageIndex(e){return Rx(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return E(this,ja,ud).call(this,"GetFieldObjects")}hasJSActions(){return E(this,ja,ud).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return E(this,ja,ud).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return E(this,ja,ud).call(this,"GetOptionalContentConfig").then(t=>new q2(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=c(this,os).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new W2(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return c(this,os).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of c(this,gi).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,os).clear(),this.filterFactory.destroy(!0),Cg.cleanup()}}cachedPageNumber(e){if(!Rx(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,Uu).get(t)??null}}os=new WeakMap,gi=new WeakMap,Bu=new WeakMap,Uu=new WeakMap,yi=new WeakMap,ja=new WeakSet,ud=function(e,t=null){const r=c(this,os).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return c(this,os).set(e,i),i};const jp=Symbol("INITIAL_DATA");var zr,tf,Lw;class ST{constructor(){S(this,tf);S(this,zr,Object.create(null))}get(e,t=null){if(t){const i=E(this,tf,Lw).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=c(this,zr)[e];if(!r||r.data===jp)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=c(this,zr)[e];return!!t&&t.data!==jp}resolve(e,t=null){const r=E(this,tf,Lw).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in c(this,zr)){const{data:r}=c(this,zr)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}b(this,zr,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,zr)){const{data:t}=c(this,zr)[e];t!==jp&&(yield[e,t])}}}zr=new WeakMap,tf=new WeakSet,Lw=function(e){var t;return(t=c(this,zr))[e]||(t[e]={...Promise.withResolvers(),data:jp})};var lo;class Rj{constructor(e){S(this,lo,null);b(this,lo,e),this.onContinue=null}get promise(){return c(this,lo).capability.promise}cancel(e=0){c(this,lo).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,lo).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=c(this,lo);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}lo=new WeakMap;var uo,za;const oa=class oa{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null}){S(this,uo,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Rj(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(c(oa,za).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(oa,za).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:o}=this.params;this.gfx=new fu(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),c(this,uo)&&(window.cancelAnimationFrame(c(this,uo)),b(this,uo,null)),c(oa,za).delete(this._canvas),this.callback(e||new Mb(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?b(this,uo,window.requestAnimationFrame(()=>{b(this,uo,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(oa,za).delete(this._canvas),this.callback())))}};uo=new WeakMap,za=new WeakMap,S(oa,za,new WeakSet);let Mw=oa;const Pj="4.4.168",Lj="19fbc8998";function Px(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function qc(n){return Math.max(0,Math.min(255,255*n))}class Lx{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=qc(e),[e,e,e]}static G_HTML([e]){const t=Px(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(qc)}static RGB_HTML(e){return`#${e.map(Px).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[qc(1-Math.min(1,e+i)),qc(1-Math.min(1,r+i)),qc(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class xT{static setupStorage(e,t,r,i,s){const o=i.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,u]of Object.entries(o))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var h,f;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);o.append(p),a&&dh.shouldBuildText(i.name)&&u.push(p)}return{textDivs:u}}const d=[[i,-1,o]];for(;d.length>0;){const[p,m,y]=d.at(-1);if(m+1===p.children.length){d.pop();continue}const w=p.children[++d.at(-1)[1]];if(w===null)continue;const{name:g}=w;if(g==="#text"){const _=document.createTextNode(w.value);u.push(_),y.append(_);continue}const v=(h=w==null?void 0:w.attributes)!=null&&h.xmlns?document.createElementNS(w.attributes.xmlns,g):document.createElement(g);if(y.append(v),w.attributes&&this.setAttributes({html:v,element:w,storage:t,intent:s,linkService:r}),((f=w.children)==null?void 0:f.length)>0)d.push([w,-1,v]);else if(w.value){const _=document.createTextNode(w.value);a&&dh.shouldBuildText(g)&&u.push(_),v.append(_)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const op=1e3,Mj=9,xl=new WeakSet;function As(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class Oj{static create(e){switch(e.data.annotationType){case Lt.LINK:return new AT(e);case Lt.TEXT:return new Dj(e);case Lt.WIDGET:switch(e.data.fieldType){case"Tx":return new Nj(e);case"Btn":return e.data.radioButton?new TT(e):e.data.checkBox?new Fj(e):new jj(e);case"Ch":return new zj(e);case"Sig":return new Ij(e)}return new Ml(e);case Lt.POPUP:return new Dw(e);case Lt.FREETEXT:return new OT(e);case Lt.LINE:return new Uj(e);case Lt.SQUARE:return new Hj(e);case Lt.CIRCLE:return new $j(e);case Lt.POLYLINE:return new DT(e);case Lt.CARET:return new Wj(e);case Lt.INK:return new NT(e);case Lt.POLYGON:return new Vj(e);case Lt.HIGHLIGHT:return new Gj(e);case Lt.UNDERLINE:return new qj(e);case Lt.SQUIGGLY:return new Xj(e);case Lt.STRIKEOUT:return new Kj(e);case Lt.STAMP:return new IT(e);case Lt.FILEATTACHMENT:return new Yj(e);default:return new xt(e)}}}var Ba,Hu,$u,nf,Ow;const qb=class qb{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){S(this,nf);S(this,Ba,null);S(this,Hu,!1);S(this,$u,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get hasPopupData(){return qb._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;c(this,Ba)||b(this,Ba,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&E(this,nf,Ow).call(this,t),(r=c(this,$u))==null||r.popup.updateEdited(e)}resetEdited(){var e;c(this,Ba)&&(E(this,nf,Ow).call(this,c(this,Ba).rect),(e=c(this,$u))==null||e.popup.resetEdited(),b(this,Ba,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Ml||(s.tabIndex=op);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof Dw){const{rotation:y}=t;return!t.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:a,height:l}=As(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const y=t.borderStyle.horizontalCornerRadius,w=t.borderStyle.verticalCornerRadius;if(y>0||w>0){const v=`calc(${y}px * var(--scale-factor)) / calc(${w}px * var(--scale-factor))`;o.borderRadius=v}else if(this instanceof TT){const v=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=v}switch(t.borderStyle.style){case Wc.SOLID:o.borderStyle="solid";break;case Wc.DASHED:o.borderStyle="dashed";break;case Wc.BEVELED:xe("Unimplemented border style: beveled");break;case Wc.INSET:xe("Unimplemented border style: inset");break;case Wc.UNDERLINE:o.borderBottomStyle="solid";break}const g=t.borderColor||null;g?(b(this,Hu,!0),o.borderColor=te.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):o.borderWidth=0}const u=te.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=i.rawDims;o.left=`${100*(u[0]-f)/d}%`,o.top=`${100*(u[1]-p)/h}%`;const{rotation:m}=t;return t.hasOwnCanvas||m===0?(o.width=`${100*a/d}%`,o.height=`${100*l/h}%`):this.setRotation(m,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:o}=As(this.data.rect);let a,l;e%180===0?(a=100*s/r,l=100*o/i):(a=100*o/r,l=100*s/i),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],o=s[0],a=s.slice(1);i.target.style[r]=Lx[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:Lx[`${o}_rgb`](a)})};return Ne(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,w,g,v]=e.subarray(2,6);if(i===y&&s===w&&t===g&&r===v)return}const{style:o}=this.container;let a;if(c(this,Hu)){const{borderColor:y,borderWidth:w}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${w}">`],this.container.classList.add("hasBorder")}const l=i-t,u=s-r,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const f=d.createElement("defs");h.append(f);const p=d.createElement("clipPath"),m=`clippath_${this.data.id}`;p.setAttribute("id",m),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let y=2,w=e.length;y<w;y+=8){const g=e[y],v=e[y+1],_=e[y+2],x=e[y+3],C=d.createElement("rect"),k=(_-t)/l,P=(s-v)/u,A=(g-_)/l,D=(v-x)/u;C.setAttribute("x",k),C.setAttribute("y",P),C.setAttribute("width",A),C.setAttribute("height",D),p.append(C),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${P}" width="${A}" height="${D}"/>`)}c(this,Hu)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const r=b(this,$u,new Dw({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){Xe("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!xl.has(u)){xe(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&xl.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Ba=new WeakMap,Hu=new WeakMap,$u=new WeakMap,nf=new WeakSet,Ow=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:u,height:d}=As(e);t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,i===0?(t.width=`${100*u/s}%`,t.height=`${100*d/o}%`):this.setRotation(i)};let xt=qb;var nr,ta,CT,kT;class AT extends xt{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});S(this,nr);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(E(this,nr,CT).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(E(this,nr,kT).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&E(this,nr,ta).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),E(this,nr,ta).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),E(this,nr,ta).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),E(this,nr,ta).call(this),!this._fieldObjects){xe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var h;i==null||i();const{fields:s,refs:o,include:a}=r,l=[];if(s.length!==0||o.length!==0){const f=new Set(o);for(const p of s){const m=this._fieldObjects[p]||[];for(const{id:y}of m)f.add(y)}for(const p of Object.values(this._fieldObjects))for(const m of p)f.has(m.id)===a&&l.push(m)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const u=this.annotationStorage,d=[];for(const f of l){const{id:p}=f;switch(d.push(p),f.type){case"text":{const y=f.defaultValue||"";u.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=f.defaultValue===f.exportValues;u.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=f.defaultValue||"";u.setValue(p,{value:y});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!xl.has(m)){xe(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}nr=new WeakSet,ta=function(){this.container.setAttribute("data-internal-link","")},CT=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},E(this,nr,ta).call(this)},kT=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),E(this,nr,ta).call(this)};class Dj extends xt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ml extends xt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Dn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,r,i){var s,o,a;for(const[l,u]of r)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,i),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":te.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Mj,s=e.style;let o;const a=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),d=Math.round(u/(Mv*i))||1,h=u/d;o=Math.min(i,l(h/Mv))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(u/Mv))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=te.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Nj extends Ml{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let u=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),xl.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=op,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(r,"value",f.target.value,"value"),d.formattedValue=null}),r.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";r.value=d.userValue=p,d.formattedValue=null});let h=f=>{const{formattedValue:p}=d;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",p=>{var y;if(d.focused)return;const{target:m}=p;d.userValue&&(m.value=d.userValue),d.lastCommittedValue=m.value,d.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(d.focused=!0)}),r.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const m={value(y){d.userValue=y.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),y.target.value=d.userValue},formattedValue(y){const{formattedValue:w}=y.detail;d.formattedValue=w,w!=null&&y.target!==document.activeElement&&(y.target.value=w),e.setValue(t,{formattedValue:w})},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var _;const{charLimit:w}=y.detail,{target:g}=y;if(w===0){g.removeAttribute("maxLength");return}g.setAttribute("maxLength",w);let v=d.userValue;!v||v.length<=w||(v=v.slice(0,w),g.value=d.userValue=v,e.setValue(t,{value:v}),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:1,selStart:g.selectionStart,selEnd:g.selectionEnd}}))}};this._dispatchEventFromSandbox(m,p)}),r.addEventListener("keydown",p=>{var w;d.commitKey=1;let m=-1;if(p.key==="Escape"?m=0:p.key==="Enter"&&!this.data.multiLine?m=2:p.key==="Tab"&&(d.commitKey=3),m===-1)return;const{value:y}=p.target;d.lastCommittedValue!==y&&(d.lastCommittedValue=y,d.userValue=y,(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:m,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=h;h=null,r.addEventListener("blur",p=>{var y,w;if(!d.focused||!p.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(d.focused=!1);const{value:m}=p.target;d.userValue=m,d.lastCommittedValue!==m&&((w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:m,willCommit:!0,commitKey:d.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",p=>{var C;d.lastCommittedValue=null;const{data:m,target:y}=p,{value:w,selectionStart:g,selectionEnd:v}=y;let _=g,x=v;switch(p.inputType){case"deleteWordBackward":{const k=w.substring(0,g).match(/\w*[^\w]*$/);k&&(_-=k[0].length);break}case"deleteWordForward":{const k=w.substring(g).match(/^[^\w]*\w*/);k&&(x+=k[0].length);break}case"deleteContentBackward":g===v&&(_-=1);break;case"deleteContentForward":g===v&&(x+=1);break}p.preventDefault(),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,change:m||"",willCommit:!1,selStart:_,selEnd:x}})}),this._setEventListeners(r,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(h&&r.addEventListener("blur",h),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Ij extends Ml{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Fj extends Ml{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return xl.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=op,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,r)){const d=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class TT extends Ml{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(xl.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=op,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:u=>{const d=o===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=d&&h.id===r;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class jj extends AT{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class zj extends Ml{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");xl.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=op;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,r.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),i.append(h)}let o=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),o=()=>{d.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=d=>{const h=d?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,m=>m.selected).map(m=>m[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let l=a(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const h={value(f){o==null||o();const p=f.detail.value,m=new Set(Array.isArray(p)?p:[p]);for(const y of i.options)y.selected=m.has(y.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,m=f.detail.remove;p[m].selected=!1,i.remove(m),p.length>0&&Array.prototype.findIndex.call(p,w=>w.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(f){const{index:p,displayValue:m,exportValue:y}=f.detail.insert,w=i.children[p],g=document.createElement("option");g.textContent=m,g.value=y,w?w.before(g):i.append(g),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const m of p){const{displayValue:y,exportValue:w}=m,g=document.createElement("option");g.textContent=y,g.value=w,i.append(g)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const m of f.target.options)m.selected=p.has(m.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("input",d=>{var p;const h=a(!0),f=a(!1);e.setValue(t,{value:h}),d.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Dw extends xt{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:xt._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Bj({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${Rk}${r}`).join(",")),this.container}}var Vu,Vg,Wg,Wu,Ua,wt,as,Ha,rf,sf,Gu,ls,Br,us,of,cs,af,$a,Va,Ke,hm,Nw,RT,PT,LT,MT,fm,pm,Iw;class Bj{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:u,parentRect:d,open:h}){S(this,Ke);S(this,Vu,E(this,Ke,LT).bind(this));S(this,Vg,E(this,Ke,Iw).bind(this));S(this,Wg,E(this,Ke,pm).bind(this));S(this,Wu,E(this,Ke,fm).bind(this));S(this,Ua,null);S(this,wt,null);S(this,as,null);S(this,Ha,null);S(this,rf,null);S(this,sf,null);S(this,Gu,null);S(this,ls,!1);S(this,Br,null);S(this,us,null);S(this,of,null);S(this,cs,null);S(this,af,null);S(this,$a,null);S(this,Va,!1);var f;b(this,wt,e),b(this,af,i),b(this,as,o),b(this,cs,a),b(this,sf,l),b(this,Ua,t),b(this,of,u),b(this,Gu,d),b(this,rf,r),b(this,Ha,Dk.toDateObject(s)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",c(this,Wu)),p.addEventListener("mouseenter",c(this,Wg)),p.addEventListener("mouseleave",c(this,Vg)),p.classList.add("popupTriggerArea");for(const p of r)(f=p.container)==null||f.addEventListener("keydown",c(this,Vu));c(this,wt).hidden=!0,h&&E(this,Ke,fm).call(this)}render(){if(c(this,Br))return;const e=b(this,Br,document.createElement("div"));if(e.className="popup",c(this,Ua)){const s=e.style.outlineColor=te.makeHexColor(...c(this,Ua));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=te.makeHexColor(...c(this,Ua).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=c(this,af),e.append(t),c(this,Ha)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:c(this,Ha).toLocaleDateString(),time:c(this,Ha).toLocaleTimeString()})),t.append(s)}const i=c(this,Ke,hm);if(i)xT.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(c(this,as));e.append(s)}c(this,wt).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;c(this,$a)||b(this,$a,{contentsObj:c(this,as),richText:c(this,cs)}),e&&b(this,us,null),t&&(b(this,cs,E(this,Ke,PT).call(this,t)),b(this,as,null)),(r=c(this,Br))==null||r.remove(),b(this,Br,null)}resetEdited(){var e;c(this,$a)&&({contentsObj:$n(this,as)._,richText:$n(this,cs)._}=c(this,$a),b(this,$a,null),(e=c(this,Br))==null||e.remove(),b(this,Br,null),b(this,us,null))}forceHide(){b(this,Va,this.isVisible),c(this,Va)&&(c(this,wt).hidden=!0)}maybeShow(){c(this,Va)&&(c(this,Br)||E(this,Ke,pm).call(this),b(this,Va,!1),c(this,wt).hidden=!1)}get isVisible(){return c(this,wt).hidden===!1}}Vu=new WeakMap,Vg=new WeakMap,Wg=new WeakMap,Wu=new WeakMap,Ua=new WeakMap,wt=new WeakMap,as=new WeakMap,Ha=new WeakMap,rf=new WeakMap,sf=new WeakMap,Gu=new WeakMap,ls=new WeakMap,Br=new WeakMap,us=new WeakMap,of=new WeakMap,cs=new WeakMap,af=new WeakMap,$a=new WeakMap,Va=new WeakMap,Ke=new WeakSet,hm=function(){const e=c(this,cs),t=c(this,as);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&c(this,cs).html||null},Nw=function(){var e,t,r;return((r=(t=(e=c(this,Ke,hm))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},RT=function(){var e,t,r;return((r=(t=(e=c(this,Ke,hm))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},PT=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:c(this,Ke,RT),fontSize:c(this,Ke,Nw)?`calc(${c(this,Ke,Nw)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},LT=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,ls))&&E(this,Ke,fm).call(this)},MT=function(){if(c(this,us)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=c(this,sf);let o=!!c(this,Gu),a=o?c(this,Gu):c(this,of);for(const m of c(this,rf))if(!a||te.intersect(m.data.rect,a)!==null){a=m.data.rect,o=!0;break}const l=te.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),d=o?a[2]-a[0]+5:0,h=l[0]+d,f=l[1];b(this,us,[100*(h-i)/t,100*(f-s)/r]);const{style:p}=c(this,wt);p.left=`${c(this,us)[0]}%`,p.top=`${c(this,us)[1]}%`},fm=function(){b(this,ls,!c(this,ls)),c(this,ls)?(E(this,Ke,pm).call(this),c(this,wt).addEventListener("click",c(this,Wu)),c(this,wt).addEventListener("keydown",c(this,Vu))):(E(this,Ke,Iw).call(this),c(this,wt).removeEventListener("click",c(this,Wu)),c(this,wt).removeEventListener("keydown",c(this,Vu)))},pm=function(){c(this,Br)||this.render(),this.isVisible?c(this,ls)&&c(this,wt).classList.add("focused"):(E(this,Ke,MT).call(this),c(this,wt).hidden=!1,c(this,wt).style.zIndex=parseInt(c(this,wt).style.zIndex)+1e3)},Iw=function(){c(this,wt).classList.remove("focused"),!(c(this,ls)||!this.isVisible)&&(c(this,wt).hidden=!0,c(this,wt).style.zIndex=parseInt(c(this,wt).style.zIndex)-1e3)};class OT extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Me.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var lf;class Uj extends xt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,lf,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:i}=As(t.rect),s=this.svgFactory.create(r,i,!0),o=b(this,lf,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,lf)}addHighlightArea(){this.container.classList.add("highlightArea")}}lf=new WeakMap;var uf;class Hj extends xt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,uf,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:i}=As(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=b(this,uf,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,uf)}addHighlightArea(){this.container.classList.add("highlightArea")}}uf=new WeakMap;var cf;class $j extends xt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,cf,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:i}=As(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=b(this,cf,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,cf)}addHighlightArea(){this.container.classList.add("highlightArea")}}cf=new WeakMap;var df;class DT extends xt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,df,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s}}=this;if(!r)return this.container;const{width:o,height:a}=As(t),l=this.svgFactory.create(o,a,!0);let u=[];for(let h=0,f=r.length;h<f;h+=2){const p=r[h]-t[0],m=t[3]-r[h+1];u.push(`${p},${m}`)}u=u.join(" ");const d=b(this,df,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,df)}addHighlightArea(){this.container.classList.add("highlightArea")}}df=new WeakMap;class Vj extends DT{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Wj extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var hf;class NT extends xt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,hf,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Me.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:r,borderStyle:i,popupRef:s}}=this,{width:o,height:a}=As(t),l=this.svgFactory.create(o,a,!0);for(const u of r){let d=[];for(let f=0,p=u.length;f<p;f+=2){const m=u[f]-t[0],y=t[3]-u[f+1];d.push(`${m},${y}`)}d=d.join(" ");const h=this.svgFactory.createElement(this.svgElementName);c(this,hf).push(h),h.setAttribute("points",d),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),!s&&this.hasPopupData&&this._createPopup(),l.append(h)}return this.container.append(l),this.container}getElementsToTriggerPopup(){return c(this,hf)}addHighlightArea(){this.container.classList.add("highlightArea")}}hf=new WeakMap;class Gj extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class qj extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Xj extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Kj extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class IT extends xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var ff,pf,Fw;class Yj extends xt{constructor(t){var i;super(t,{isRenderable:!0});S(this,pf);S(this,ff,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",E(this,pf,Fw).bind(this)),b(this,ff,i);const{isMac:s}=Dn.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&E(this,pf,Fw).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return c(this,ff)}addHighlightArea(){this.container.classList.add("highlightArea")}}ff=new WeakMap,pf=new WeakSet,Fw=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var mf,Wa,qu,Cl,FT,jw,Gx;let Zj=(Gx=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o}){S(this,Cl);S(this,mf,null);S(this,Wa,null);S(this,qu,new Map);this.div=e,b(this,mf,t),b(this,Wa,r),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var o;const{annotations:t}=e,r=this.div;El(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Lb,annotationStorage:e.annotationStorage||new Ib,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===Lt.POPUP;if(l){const h=i.get(a.id);if(!h)continue;s.elements=h}else{const{width:h,height:f}=As(a.rect);if(h<=0||f<=0)continue}s.data=a;const u=Oj.create(s);if(!u.isRenderable)continue;if(!l&&a.popupRef){const h=i.get(a.popupRef);h?h.push(u):i.set(a.popupRef,[u])}const d=u.render();a.hidden&&(d.style.visibility="hidden"),E(this,Cl,FT).call(this,d,a.id),u.annotationEditorType>0&&(c(this,qu).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}E(this,Cl,jw).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,El(t,{rotation:e.rotation}),E(this,Cl,jw).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(c(this,qu).values())}getEditableAnnotation(e){return c(this,qu).get(e)}},mf=new WeakMap,Wa=new WeakMap,qu=new WeakMap,Cl=new WeakSet,FT=function(e,t){var i;const r=e.firstChild||e;r.id=`${Rk}${t}`,this.div.append(e),(i=c(this,mf))==null||i.moveElementInDOM(this.div,e,r,!1)},jw=function(){if(!c(this,Wa))return;const e=this.div;for(const[t,r]of c(this,Wa)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}c(this,Wa).clear()},Gx);const zp=/\r\n?|\n/g;var gf,yf,vf,wf,_f,Ur,Kn,bf,Yn,Xu,Rt,jT,zT,BT,mm,ks,gm,ym,UT,Bw,HT;const nt=class nt extends He{constructor(t){super({...t,name:"freeTextEditor"});S(this,Rt);S(this,gf,this.editorDivBlur.bind(this));S(this,yf,this.editorDivFocus.bind(this));S(this,vf,this.editorDivInput.bind(this));S(this,wf,this.editorDivKeydown.bind(this));S(this,_f,this.editorDivPaste.bind(this));S(this,Ur);S(this,Kn,"");S(this,bf,`${this.id}-editor`);S(this,Yn);S(this,Xu,null);b(this,Ur,t.color||nt._defaultColor||He._defaultLineColor),b(this,Yn,t.fontSize||nt._defaultFontSize)}static get _keyboardManager(){const t=nt.prototype,r=o=>o.isEmpty(),i=Sl.TRANSLATE_SMALL,s=Sl.TRANSLATE_BIG;return Ne(this,"_keyboardManager",new ip([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){He.initialize(t,r,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case fe.FREETEXT_SIZE:nt._defaultFontSize=r;break;case fe.FREETEXT_COLOR:nt._defaultColor=r;break}}updateParams(t,r){switch(t){case fe.FREETEXT_SIZE:E(this,Rt,jT).call(this,r);break;case fe.FREETEXT_COLOR:E(this,Rt,zT).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[fe.FREETEXT_SIZE,nt._defaultFontSize],[fe.FREETEXT_COLOR,nt._defaultColor||He._defaultLineColor]]}get propertiesToUpdate(){return[[fe.FREETEXT_SIZE,c(this,Yn)],[fe.FREETEXT_COLOR,c(this,Ur)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-nt._internalPadding*t,-(nt._internalPadding+c(this,Yn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Me.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",c(this,wf),{signal:t}),this.editorDiv.addEventListener("focus",c(this,yf),{signal:t}),this.editorDiv.addEventListener("blur",c(this,gf),{signal:t}),this.editorDiv.addEventListener("input",c(this,vf),{signal:t}),this.editorDiv.addEventListener("paste",c(this,_f),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,bf)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",c(this,wf)),this.editorDiv.removeEventListener("focus",c(this,yf)),this.editorDiv.removeEventListener("blur",c(this,gf)),this.editorDiv.removeEventListener("input",c(this,vf)),this.editorDiv.removeEventListener("paste",c(this,_f)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=c(this,Kn),r=b(this,Kn,E(this,Rt,BT).call(this).trimEnd());if(t===r)return;const i=s=>{if(b(this,Kn,s),!s){this.remove();return}E(this,Rt,ym).call(this),this._uiManager.rebuild(this),E(this,Rt,mm).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),E(this,Rt,mm).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){nt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,bf)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),He._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var o;return(o=this.editorDiv)==null?void 0:o.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${c(this,Yn)}px * var(--scale-factor))`,i.color=c(this,Ur),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Sg(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=c(this,Xu);let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,h]=this.pageDimensions,[f,p]=this.pageTranslation;let m,y;switch(this.rotation){case 0:m=t+(a[0]-f)/d,y=r+this.height-(a[1]-p)/h;break;case 90:m=t+(a[0]-f)/d,y=r-(a[1]-p)/h,[l,u]=[u,-l];break;case 180:m=t-this.width+(a[0]-f)/d,y=r-(a[1]-p)/h,[l,u]=[-l,-u];break;case 270:m=t+(a[0]-f-this.height*h)/d,y=r+(a[1]-p-this.width*d)/h,[l,u]=[-u,l];break}this.setAt(m*s,y*o,l,u)}else this.setAt(t*s,r*o,this.width*s,this.height*o);E(this,Rt,ym).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var m,y,w;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=E(m=nt,ks,Bw).call(m,r.getData("text")||"").replaceAll(zp,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:u}=a,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const g=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(zp,"")),g!==this.editorDiv){let v=d;for(const _ of this.editorDiv.childNodes){if(_===g){v=h;continue}v.push(E(y=nt,ks,gm).call(y,_))}}d.push(l.nodeValue.slice(0,u).replaceAll(zp,""))}else if(l===this.editorDiv){let g=d,v=0;for(const _ of this.editorDiv.childNodes)v++===u&&(g=h),g.push(E(w=nt,ks,gm).call(w,_))}b(this,Kn,`${d.join(`
`)}${s}${h.join(`
`)}`),E(this,Rt,ym).call(this);const f=new Range;let p=d.reduce((g,v)=>g+v.length,0);for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const v=g.nodeValue.length;if(p<=v){f.setStart(g,p),f.setEnd(g,p);break}p-=v}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static deserialize(t,r,i){var a;let s=null;if(t instanceof OT){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:h,id:f},textContent:p,textPosition:m,parent:{page:{pageNumber:y}}}=t;if(!p||p.length===0)return null;s=t={annotationType:Me.FREETEXT,color:Array.from(u),fontSize:l,value:p.join(`
`),position:m,pageIndex:y-1,rect:d.slice(0),rotation:h,id:f,deleted:!1}}const o=super.deserialize(t,r,i);return b(o,Yn,t.fontSize),b(o,Ur,te.makeHexColor(...t.color)),b(o,Kn,E(a=nt,ks,Bw).call(a,t.value)),o.annotationElementId=t.id||null,b(o,Xu,s),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const r=nt._internalPadding*this.parentScale,i=this.getRect(r,r),s=He._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,Ur)),o={annotationType:Me.FREETEXT,color:s,fontSize:c(this,Yn),value:E(this,Rt,UT).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!E(this,Rt,HT).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${c(this,Yn)}px * var(--scale-factor))`,i.color=c(this,Ur),r.replaceChildren();for(const o of c(this,Kn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}const s=nt._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:c(this,Kn)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};gf=new WeakMap,yf=new WeakMap,vf=new WeakMap,wf=new WeakMap,_f=new WeakMap,Ur=new WeakMap,Kn=new WeakMap,bf=new WeakMap,Yn=new WeakMap,Xu=new WeakMap,Rt=new WeakSet,jT=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-c(this,Yn))*this.parentScale),b(this,Yn,s),E(this,Rt,mm).call(this)},i=c(this,Yn);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},zT=function(t){const r=s=>{b(this,Ur,this.editorDiv.style.color=s)},i=c(this,Ur);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},BT=function(){var r;const t=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)t.push(E(r=nt,ks,gm).call(r,i));return t.join(`
`)},mm=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},ks=new WeakSet,gm=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(zp,"")},ym=function(){if(this.editorDiv.replaceChildren(),!!c(this,Kn))for(const t of c(this,Kn).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},UT=function(){return c(this,Kn).replaceAll(""," ")},Bw=function(t){return t.replaceAll(" ","")},HT=function(t){const{value:r,fontSize:i,color:s,pageIndex:o}=c(this,Xu);return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},S(nt,ks),me(nt,"_freeTextDefaultContent",""),me(nt,"_internalPadding",0),me(nt,"_defaultColor",null),me(nt,"_defaultFontSize",10),me(nt,"_type","freetext"),me(nt,"_editorType",Me.FREETEXT);let zw=nt;var Ef,co,Hr,xn,$T,vm,VT,WT,Hw;class Uw{constructor(e,t=0,r=0,i=!0){S(this,xn);S(this,Ef);S(this,co,[]);S(this,Hr,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const d=10**-4;for(const{x:g,y:v,width:_,height:x}of e){const C=Math.floor((g-t)/d)*d,k=Math.ceil((g+_+t)/d)*d,P=Math.floor((v-t)/d)*d,A=Math.ceil((v+x+t)/d)*d,D=[C,P,A,!0],I=[k,P,A,!1];c(this,co).push(D,I),s=Math.min(s,C),o=Math.max(o,k),a=Math.min(a,P),l=Math.max(l,A)}const h=o-s+2*r,f=l-a+2*r,p=s-r,m=a-r,y=c(this,co).at(i?-1:-2),w=[y[0],y[2]];for(const g of c(this,co)){const[v,_,x]=g;g[0]=(v-p)/h,g[1]=(_-m)/f,g[2]=(x-m)/f}b(this,Ef,{x:p,y:m,width:h,height:f,lastPoint:w})}getOutlines(){c(this,co).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of c(this,co))t[3]?(e.push(...E(this,xn,Hw).call(this,t)),E(this,xn,VT).call(this,t)):(E(this,xn,WT).call(this,t),e.push(...E(this,xn,Hw).call(this,t)));return E(this,xn,$T).call(this,e)}}Ef=new WeakMap,co=new WeakMap,Hr=new WeakMap,xn=new WeakSet,$T=function(e){const t=[],r=new Set;for(const o of e){const[a,l,u]=o;t.push([a,l,o],[a,u,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],u=t[o+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,l,u,d,h]=o;r.delete(o);let f=a,p=l;for(s=[a,u],i.push(s);;){let m;if(r.has(d))m=d;else if(r.has(h))m=h;else break;r.delete(m),[a,l,u,d,h]=m,f!==a&&(s.push(f,p,a,p===l?l:u),f=a),p=p===l?u:l}s.push(f,p)}return new Qj(i,c(this,Ef))},vm=function(e){const t=c(this,Hr);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,o=t[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},VT=function([,e,t]){const r=E(this,xn,vm).call(this,e);c(this,Hr).splice(r,0,[e,t])},WT=function([,e,t]){const r=E(this,xn,vm).call(this,e);for(let i=r;i<c(this,Hr).length;i++){const[s,o]=c(this,Hr)[i];if(s!==e)break;if(s===e&&o===t){c(this,Hr).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=c(this,Hr)[i];if(s!==e)break;if(s===e&&o===t){c(this,Hr).splice(i,1);return}}},Hw=function(e){const[t,r,i]=e,s=[[t,r,i]],o=E(this,xn,vm).call(this,i);for(let a=0;a<o;a++){const[l,u]=c(this,Hr)[a];for(let d=0,h=s.length;d<h;d++){const[,f,p]=s[d];if(!(u<=f||p<=l)){if(f>=l){if(p>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,p>u&&s.push([t,u,p])}}}return s};class GT{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof Vw}}var Sf,Ku;class Qj extends GT{constructor(t,r){super();S(this,Sf);S(this,Ku);b(this,Ku,t),b(this,Sf,r)}toSVGPath(){const t=[];for(const r of c(this,Ku)){let[i,s]=r;t.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const a=r[o],l=r[o+1];a===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],o){const a=[],l=i-t,u=s-r;for(const d of c(this,Ku)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=t+d[f]*l,h[f+1]=s-d[f+1]*u;a.push(h)}return a}get box(){return c(this,Sf)}}Sf=new WeakMap,Ku=new WeakMap;var vi,ds,Yu,Zu,wi,Le,Ga,qa,xf,Af,Qu,Ju,ho,Cf,Gg,qg,kf,$w;const Gi=class Gi{constructor({x:e,y:t},r,i,s,o,a=0){S(this,kf);S(this,vi);S(this,ds,[]);S(this,Yu);S(this,Zu);S(this,wi,[]);S(this,Le,new Float64Array(18));S(this,Ga);S(this,qa);S(this,xf);S(this,Af);S(this,Qu);S(this,Ju);S(this,ho,[]);b(this,vi,r),b(this,Ju,s*i),b(this,Zu,o),c(this,Le).set([NaN,NaN,NaN,NaN,e,t],6),b(this,Yu,a),b(this,Af,c(Gi,Cf)*i),b(this,xf,c(Gi,qg)*i),b(this,Qu,i),c(this,ho).push(e,t)}get free(){return!0}isEmpty(){return isNaN(c(this,Le)[8])}add({x:e,y:t}){var D;b(this,Ga,e),b(this,qa,t);const[r,i,s,o]=c(this,vi);let[a,l,u,d]=c(this,Le).subarray(8,12);const h=e-u,f=t-d,p=Math.hypot(h,f);if(p<c(this,xf))return!1;const m=p-c(this,Af),y=m/p,w=y*h,g=y*f;let v=a,_=l;a=u,l=d,u+=w,d+=g,(D=c(this,ho))==null||D.push(e,t);const x=-g/m,C=w/m,k=x*c(this,Ju),P=C*c(this,Ju);return c(this,Le).set(c(this,Le).subarray(2,8),0),c(this,Le).set([u+k,d+P],4),c(this,Le).set(c(this,Le).subarray(14,18),12),c(this,Le).set([u-k,d-P],16),isNaN(c(this,Le)[6])?(c(this,wi).length===0&&(c(this,Le).set([a+k,l+P],2),c(this,wi).push(NaN,NaN,NaN,NaN,(a+k-r)/s,(l+P-i)/o),c(this,Le).set([a-k,l-P],14),c(this,ds).push(NaN,NaN,NaN,NaN,(a-k-r)/s,(l-P-i)/o)),c(this,Le).set([v,_,a,l,u,d],6),!this.isEmpty()):(c(this,Le).set([v,_,a,l,u,d],6),Math.abs(Math.atan2(_-l,v-a)-Math.atan2(g,w))<Math.PI/2?([a,l,u,d]=c(this,Le).subarray(2,6),c(this,wi).push(NaN,NaN,NaN,NaN,((a+u)/2-r)/s,((l+d)/2-i)/o),[a,l,v,_]=c(this,Le).subarray(14,18),c(this,ds).push(NaN,NaN,NaN,NaN,((v+a)/2-r)/s,((_+l)/2-i)/o),!0):([v,_,a,l,u,d]=c(this,Le).subarray(0,6),c(this,wi).push(((v+5*a)/6-r)/s,((_+5*l)/6-i)/o,((5*a+u)/6-r)/s,((5*l+d)/6-i)/o,((a+u)/2-r)/s,((l+d)/2-i)/o),[u,d,a,l,v,_]=c(this,Le).subarray(12,18),c(this,ds).push(((v+5*a)/6-r)/s,((_+5*l)/6-i)/o,((5*a+u)/6-r)/s,((5*l+d)/6-i)/o,((a+u)/2-r)/s,((l+d)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,wi),t=c(this,ds),r=c(this,Le).subarray(4,6),i=c(this,Le).subarray(16,18),[s,o,a,l]=c(this,vi),[u,d,h,f]=E(this,kf,$w).call(this);if(isNaN(c(this,Le)[6])&&!this.isEmpty())return`M${(c(this,Le)[2]-s)/a} ${(c(this,Le)[3]-o)/l} L${(c(this,Le)[4]-s)/a} ${(c(this,Le)[5]-o)/l} L${u} ${d} L${h} ${f} L${(c(this,Le)[16]-s)/a} ${(c(this,Le)[17]-o)/l} L${(c(this,Le)[14]-s)/a} ${(c(this,Le)[15]-o)/l} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let m=6;m<e.length;m+=6)isNaN(e[m])?p.push(`L${e[m+4]} ${e[m+5]}`):p.push(`C${e[m]} ${e[m+1]} ${e[m+2]} ${e[m+3]} ${e[m+4]} ${e[m+5]}`);p.push(`L${(r[0]-s)/a} ${(r[1]-o)/l} L${u} ${d} L${h} ${f} L${(i[0]-s)/a} ${(i[1]-o)/l}`);for(let m=t.length-6;m>=6;m-=6)isNaN(t[m])?p.push(`L${t[m+4]} ${t[m+5]}`):p.push(`C${t[m]} ${t[m+1]} ${t[m+2]} ${t[m+3]} ${t[m+4]} ${t[m+5]}`);return p.push(`L${t[4]} ${t[5]} Z`),p.join(" ")}getOutlines(){var g;const e=c(this,wi),t=c(this,ds),r=c(this,Le),i=r.subarray(4,6),s=r.subarray(16,18),[o,a,l,u]=c(this,vi),d=new Float64Array((((g=c(this,ho))==null?void 0:g.length)??0)+2);for(let v=0,_=d.length-2;v<_;v+=2)d[v]=(c(this,ho)[v]-o)/l,d[v+1]=(c(this,ho)[v+1]-a)/u;d[d.length-2]=(c(this,Ga)-o)/l,d[d.length-1]=(c(this,qa)-a)/u;const[h,f,p,m]=E(this,kf,$w).call(this);if(isNaN(r[6])&&!this.isEmpty()){const v=new Float64Array(36);return v.set([NaN,NaN,NaN,NaN,(r[2]-o)/l,(r[3]-a)/u,NaN,NaN,NaN,NaN,(r[4]-o)/l,(r[5]-a)/u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(r[16]-o)/l,(r[17]-a)/u,NaN,NaN,NaN,NaN,(r[14]-o)/l,(r[15]-a)/u],0),new Vw(v,d,c(this,vi),c(this,Qu),c(this,Yu),c(this,Zu))}const y=new Float64Array(c(this,wi).length+24+c(this,ds).length);let w=e.length;for(let v=0;v<w;v+=2){if(isNaN(e[v])){y[v]=y[v+1]=NaN;continue}y[v]=e[v],y[v+1]=e[v+1]}y.set([NaN,NaN,NaN,NaN,(i[0]-o)/l,(i[1]-a)/u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(s[0]-o)/l,(s[1]-a)/u],w),w+=24;for(let v=t.length-6;v>=6;v-=6)for(let _=0;_<6;_+=2){if(isNaN(t[v+_])){y[w]=y[w+1]=NaN,w+=2;continue}y[w]=t[v+_],y[w+1]=t[v+_+1],w+=2}return y.set([NaN,NaN,NaN,NaN,t[4],t[5]],w),new Vw(y,d,c(this,vi),c(this,Qu),c(this,Yu),c(this,Zu))}};vi=new WeakMap,ds=new WeakMap,Yu=new WeakMap,Zu=new WeakMap,wi=new WeakMap,Le=new WeakMap,Ga=new WeakMap,qa=new WeakMap,xf=new WeakMap,Af=new WeakMap,Qu=new WeakMap,Ju=new WeakMap,ho=new WeakMap,Cf=new WeakMap,Gg=new WeakMap,qg=new WeakMap,kf=new WeakSet,$w=function(){const e=c(this,Le).subarray(4,6),t=c(this,Le).subarray(16,18),[r,i,s,o]=c(this,vi);return[(c(this,Ga)+(e[0]-t[0])/2-r)/s,(c(this,qa)+(e[1]-t[1])/2-i)/o,(c(this,Ga)+(t[0]-e[0])/2-r)/s,(c(this,qa)+(t[1]-e[1])/2-i)/o]},S(Gi,Cf,8),S(Gi,Gg,2),S(Gi,qg,c(Gi,Cf)+c(Gi,Gg));let kg=Gi;var ec,Xa,hs,Tf,Zn,Rf,Et,Nn,cd,dd,qT;class Vw extends GT{constructor(t,r,i,s,o,a){super();S(this,Nn);S(this,ec);S(this,Xa,null);S(this,hs);S(this,Tf);S(this,Zn);S(this,Rf);S(this,Et);b(this,Et,t),b(this,Zn,r),b(this,ec,i),b(this,Rf,s),b(this,hs,o),b(this,Tf,a),E(this,Nn,qT).call(this,a);const{x:l,y:u,width:d,height:h}=c(this,Xa);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-l)/d,t[f+1]=(t[f+1]-u)/h;for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-l)/d,r[f+1]=(r[f+1]-u)/h}toSVGPath(){const t=[`M${c(this,Et)[4]} ${c(this,Et)[5]}`];for(let r=6,i=c(this,Et).length;r<i;r+=6){if(isNaN(c(this,Et)[r])){t.push(`L${c(this,Et)[r+4]} ${c(this,Et)[r+5]}`);continue}t.push(`C${c(this,Et)[r]} ${c(this,Et)[r+1]} ${c(this,Et)[r+2]} ${c(this,Et)[r+3]} ${c(this,Et)[r+4]} ${c(this,Et)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],o){const a=i-t,l=s-r;let u,d;switch(o){case 0:u=E(this,Nn,cd).call(this,c(this,Et),t,s,a,-l),d=E(this,Nn,cd).call(this,c(this,Zn),t,s,a,-l);break;case 90:u=E(this,Nn,dd).call(this,c(this,Et),t,r,a,l),d=E(this,Nn,dd).call(this,c(this,Zn),t,r,a,l);break;case 180:u=E(this,Nn,cd).call(this,c(this,Et),i,r,-a,l),d=E(this,Nn,cd).call(this,c(this,Zn),i,r,-a,l);break;case 270:u=E(this,Nn,dd).call(this,c(this,Et),i,s,-a,-l),d=E(this,Nn,dd).call(this,c(this,Zn),i,s,-a,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return c(this,Xa)}getNewOutline(t,r){const{x:i,y:s,width:o,height:a}=c(this,Xa),[l,u,d,h]=c(this,ec),f=o*d,p=a*h,m=i*d+l,y=s*h+u,w=new kg({x:c(this,Zn)[0]*f+m,y:c(this,Zn)[1]*p+y},c(this,ec),c(this,Rf),t,c(this,Tf),r??c(this,hs));for(let g=2;g<c(this,Zn).length;g+=2)w.add({x:c(this,Zn)[g]*f+m,y:c(this,Zn)[g+1]*p+y});return w.getOutlines()}}ec=new WeakMap,Xa=new WeakMap,hs=new WeakMap,Tf=new WeakMap,Zn=new WeakMap,Rf=new WeakMap,Et=new WeakMap,Nn=new WeakSet,cd=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)a[l]=r+t[l]*s,a[l+1]=i+t[l+1]*o;return a},dd=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)a[l]=r+t[l+1]*s,a[l+1]=i+t[l]*o;return a},qT=function(t){const r=c(this,Et);let i=r[4],s=r[5],o=i,a=s,l=i,u=s,d=i,h=s;const f=t?Math.max:Math.min;for(let g=6,v=r.length;g<v;g+=6){if(isNaN(r[g]))o=Math.min(o,r[g+4]),a=Math.min(a,r[g+5]),l=Math.max(l,r[g+4]),u=Math.max(u,r[g+5]),h<r[g+5]?(d=r[g+4],h=r[g+5]):h===r[g+5]&&(d=f(d,r[g+4]));else{const _=te.bezierBoundingBox(i,s,...r.slice(g,g+6));o=Math.min(o,_[0]),a=Math.min(a,_[1]),l=Math.max(l,_[2]),u=Math.max(u,_[3]),h<_[3]?(d=_[2],h=_[3]):h===_[3]&&(d=f(d,_[2]))}i=r[g+4],s=r[g+5]}const p=o-c(this,hs),m=a-c(this,hs),y=l-o+2*c(this,hs),w=u-a+2*c(this,hs);b(this,Xa,{x:p,y:m,width:y,height:w,lastPoint:[d,h]})};var Pf,Lf,$r,Ka,tc,Ot,Mf,nc,Of,Df,Vr,rc,et,Ww,Gw,XT,na,KT,Ws;const qi=class qi{constructor({editor:e=null,uiManager:t=null}){S(this,et);S(this,Pf,E(this,et,XT).bind(this));S(this,Lf,E(this,et,KT).bind(this));S(this,$r,null);S(this,Ka,null);S(this,tc);S(this,Ot,null);S(this,Mf,!1);S(this,nc,!1);S(this,Of,null);S(this,Df);S(this,Vr,null);S(this,rc);var r;e?(b(this,nc,!1),b(this,rc,fe.HIGHLIGHT_COLOR),b(this,Of,e)):(b(this,nc,!0),b(this,rc,fe.HIGHLIGHT_DEFAULT_COLOR)),b(this,Vr,(e==null?void 0:e._uiManager)||t),b(this,Df,c(this,Vr)._eventBus),b(this,tc,(e==null?void 0:e.color)||((r=c(this,Vr))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Ne(this,"_keyboardManager",new ip([[["Escape","mac+Escape"],qi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],qi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],qi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],qi.prototype._moveToPrevious],[["Home","mac+Home"],qi.prototype._moveToBeginning],[["End","mac+End"],qi.prototype._moveToEnd]]))}renderButton(){const e=b(this,$r,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=c(this,Vr)._signal;e.addEventListener("click",E(this,et,na).bind(this),{signal:t}),e.addEventListener("keydown",c(this,Pf),{signal:t});const r=b(this,Ka,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=c(this,tc),e.append(r),e}renderMainDropdown(){const e=b(this,Ot,E(this,et,Ww).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===c(this,$r)){E(this,et,na).call(this,e);return}const t=e.target.getAttribute("data-color");t&&E(this,et,Gw).call(this,t,e)}_moveToNext(e){var t,r;if(!c(this,et,Ws)){E(this,et,na).call(this,e);return}if(e.target===c(this,$r)){(t=c(this,Ot).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=c(this,Ot))==null?void 0:t.firstChild)||e.target===c(this,$r)){c(this,et,Ws)&&this._hideDropdownFromKeyboard();return}c(this,et,Ws)||E(this,et,na).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!c(this,et,Ws)){E(this,et,na).call(this,e);return}(t=c(this,Ot).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!c(this,et,Ws)){E(this,et,na).call(this,e);return}(t=c(this,Ot).lastChild)==null||t.focus()}hideDropdown(){var e;(e=c(this,Ot))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",c(this,Lf))}_hideDropdownFromKeyboard(){var e;if(!c(this,nc)){if(!c(this,et,Ws)){(e=c(this,Of))==null||e.unselect();return}this.hideDropdown(),c(this,$r).focus({preventScroll:!0,focusVisible:c(this,Mf)})}}updateColor(e){if(c(this,Ka)&&(c(this,Ka).style.backgroundColor=e),!c(this,Ot))return;const t=c(this,Vr).highlightColors.values();for(const r of c(this,Ot).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=c(this,$r))==null||e.remove(),b(this,$r,null),b(this,Ka,null),(t=c(this,Ot))==null||t.remove(),b(this,Ot,null)}};Pf=new WeakMap,Lf=new WeakMap,$r=new WeakMap,Ka=new WeakMap,tc=new WeakMap,Ot=new WeakMap,Mf=new WeakMap,nc=new WeakMap,Of=new WeakMap,Df=new WeakMap,Vr=new WeakMap,rc=new WeakMap,et=new WeakSet,Ww=function(){const e=document.createElement("div"),t=c(this,Vr)._signal;e.addEventListener("contextmenu",Un,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of c(this,Vr).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${r}`);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.setAttribute("aria-selected",i===c(this,tc)),s.addEventListener("click",E(this,et,Gw).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",c(this,Pf),{signal:t}),e},Gw=function(e,t){t.stopPropagation(),c(this,Df).dispatch("switchannotationeditorparams",{source:this,type:c(this,rc),value:e})},XT=function(e){qi._keyboardManager.exec(this,e)},na=function(e){if(c(this,et,Ws)){this.hideDropdown();return}if(b(this,Mf,e.detail===0),window.addEventListener("pointerdown",c(this,Lf),{signal:c(this,Vr)._signal}),c(this,Ot)){c(this,Ot).classList.remove("hidden");return}const t=b(this,Ot,E(this,et,Ww).call(this));c(this,$r).append(t)},KT=function(e){var t;(t=c(this,Ot))!=null&&t.contains(e.target)||this.hideDropdown()},Ws=function(){return c(this,Ot)&&!c(this,Ot).classList.contains("hidden")};let Tg=qi;var ic,Nf,fo,Ya,sc,wr,If,Ff,Za,Wr,yn,Qn,Xg,oc,Qa,Dt,ac,_i,jf,ke,qw,Xw,YT,ZT,QT,Kw,hd,Ar,$l,JT,wm,fd,eR,tR,nR,rR;const je=class je extends He{constructor(t){super({...t,name:"highlightEditor"});S(this,ke);S(this,ic,null);S(this,Nf,0);S(this,fo);S(this,Ya,null);S(this,sc,null);S(this,wr,null);S(this,If,null);S(this,Ff,0);S(this,Za,null);S(this,Wr,null);S(this,yn,null);S(this,Qn,!1);S(this,Xg,E(this,ke,JT).bind(this));S(this,oc,null);S(this,Qa);S(this,Dt,null);S(this,ac,"");S(this,_i);S(this,jf,"");this.color=t.color||je._defaultColor,b(this,_i,t.thickness||je._defaultThickness),b(this,Qa,t.opacity||je._defaultOpacity),b(this,fo,t.boxes||null),b(this,jf,t.methodOfCreation||""),b(this,ac,t.text||""),this._isDraggable=!1,t.highlightId>-1?(b(this,Qn,!0),E(this,ke,Xw).call(this,t),E(this,ke,hd).call(this)):(b(this,ic,t.anchorNode),b(this,Nf,t.anchorOffset),b(this,If,t.focusNode),b(this,Ff,t.focusOffset),E(this,ke,qw).call(this),E(this,ke,hd).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=je.prototype;return Ne(this,"_keyboardManager",new ip([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,Qn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,_i),methodOfCreation:c(this,jf)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;He.initialize(t,r),je._defaultColor||(je._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case fe.HIGHLIGHT_DEFAULT_COLOR:je._defaultColor=r;break;case fe.HIGHLIGHT_THICKNESS:je._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return c(this,oc)}updateParams(t,r){switch(t){case fe.HIGHLIGHT_COLOR:E(this,ke,YT).call(this,r);break;case fe.HIGHLIGHT_THICKNESS:E(this,ke,ZT).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[fe.HIGHLIGHT_DEFAULT_COLOR,je._defaultColor],[fe.HIGHLIGHT_THICKNESS,je._defaultThickness]]}get propertiesToUpdate(){return[[fe.HIGHLIGHT_COLOR,this.color||je._defaultColor],[fe.HIGHLIGHT_THICKNESS,c(this,_i)||je._defaultThickness],[fe.HIGHLIGHT_FREE,c(this,Qn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(b(this,sc,new Tg({editor:this})),t.addColorPicker(c(this,sc))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(E(this,ke,fd).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,E(this,ke,fd).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){E(this,ke,Kw).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(E(this,ke,hd).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?E(this,ke,Kw).call(this):t&&(E(this,ke,hd).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,o,a;const{drawLayer:r}=this.parent;let i;c(this,Qn)?(t=(t-this.rotation+360)%360,i=E(s=je,Ar,$l).call(s,c(this,Wr).box,t)):i=E(o=je,Ar,$l).call(o,this,t),r.rotate(c(this,yn),t),r.rotate(c(this,Dt),t),r.updateBox(c(this,yn),i),r.updateBox(c(this,Dt),E(a=je,Ar,$l).call(a,c(this,wr).box,t))}render(){if(this.div)return this.div;const t=super.render();c(this,ac)&&(t.setAttribute("aria-label",c(this,ac)),t.setAttribute("role","mark")),c(this,Qn)?t.classList.add("free"):this.div.addEventListener("keydown",c(this,Xg),{signal:this._uiManager._signal});const r=b(this,Za,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=c(this,Ya);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),Sg(this,c(this,Za),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(c(this,Dt),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(c(this,Dt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:E(this,ke,wm).call(this,!0);break;case 1:case 3:E(this,ke,wm).call(this,!1);break}}select(){var t,r;super.select(),c(this,Dt)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,Dt),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(c(this,Dt),"selected"))}unselect(){var t;super.unselect(),c(this,Dt)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,Dt),"selected"),c(this,Qn)||E(this,ke,wm).call(this,!1))}get _mustFixPosition(){return!c(this,Qn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(c(this,yn),t),this.parent.drawLayer.show(c(this,Dt),t))}static startHighlighting(t,r,{target:i,x:s,y:o}){const{x:a,y:l,width:u,height:d}=i.getBoundingClientRect(),h=w=>{E(this,Ar,nR).call(this,t,w)},f=t._signal,p={capture:!0,passive:!1,signal:f},m=w=>{w.preventDefault(),w.stopPropagation()},y=w=>{i.removeEventListener("pointermove",h),window.removeEventListener("blur",y),window.removeEventListener("pointerup",y),window.removeEventListener("pointerdown",m,p),window.removeEventListener("contextmenu",Un),E(this,Ar,rR).call(this,t,w)};window.addEventListener("blur",y,{signal:f}),window.addEventListener("pointerup",y,{signal:f}),window.addEventListener("pointerdown",m,p),window.addEventListener("contextmenu",Un,{signal:f}),i.addEventListener("pointermove",h,{signal:f}),this._freeHighlight=new kg({x:s,y:o},[a,l,u,d],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,r,i){var y;const s=super.deserialize(t,r,i),{rect:[o,a,l,u],color:d,quadPoints:h}=t;s.color=te.makeHexColor(...d),b(s,Qa,t.opacity);const[f,p]=s.pageDimensions;s.width=(l-o)/f,s.height=(u-a)/p;const m=b(s,fo,[]);for(let w=0;w<h.length;w+=8)m.push({x:(h[4]-l)/f,y:(u-(1-h[w+5]))/p,width:(h[w+2]-h[w])/f,height:(h[w+5]-h[w+1])/p});return E(y=s,ke,qw).call(y),s}serialize(t=!1){if(this.isEmpty()||t)return null;const r=this.getRect(0,0),i=He._colorManager.convert(this.color);return{annotationType:Me.HIGHLIGHT,color:i,opacity:c(this,Qa),thickness:c(this,_i),quadPoints:E(this,ke,eR).call(this),outlines:E(this,ke,tR).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:E(this,ke,fd).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};ic=new WeakMap,Nf=new WeakMap,fo=new WeakMap,Ya=new WeakMap,sc=new WeakMap,wr=new WeakMap,If=new WeakMap,Ff=new WeakMap,Za=new WeakMap,Wr=new WeakMap,yn=new WeakMap,Qn=new WeakMap,Xg=new WeakMap,oc=new WeakMap,Qa=new WeakMap,Dt=new WeakMap,ac=new WeakMap,_i=new WeakMap,jf=new WeakMap,ke=new WeakSet,qw=function(){const t=new Uw(c(this,fo),.001);b(this,Wr,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=c(this,Wr).box;const r=new Uw(c(this,fo),.0025,.001,this._uiManager.direction==="ltr");b(this,wr,r.getOutlines());const{lastPoint:i}=c(this,wr).box;b(this,oc,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Xw=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var h,f;if(b(this,Wr,t),b(this,wr,t.getNewOutline(c(this,_i)/2+1.5,.0025)),r>=0)b(this,yn,r),b(this,Ya,i),this.parent.drawLayer.finalizeLine(r,t),b(this,Dt,this.parent.drawLayer.highlightOutline(c(this,wr)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(c(this,yn),t),this.parent.drawLayer.updateBox(c(this,yn),E(h=je,Ar,$l).call(h,c(this,Wr).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(c(this,Dt),c(this,wr)),this.parent.drawLayer.updateBox(c(this,Dt),E(f=je,Ar,$l).call(f,c(this,wr).box,p))}const{x:o,y:a,width:l,height:u}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=u;break;case 90:{const[p,m]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*m/p,this.height=u*p/m;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=u;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*m/p,this.height=u*p/m;break}}const{lastPoint:d}=c(this,wr).box;b(this,oc,[(d[0]-o)/l,(d[1]-a)/u])},YT=function(t){const r=s=>{var o,a;this.color=s,(o=this.parent)==null||o.drawLayer.changeColor(c(this,yn),s),(a=c(this,sc))==null||a.updateColor(s)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},ZT=function(t){const r=c(this,_i),i=s=>{b(this,_i,s),E(this,ke,QT).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},QT=function(t){if(!c(this,Qn))return;E(this,ke,Xw).call(this,{highlightOutlines:c(this,Wr).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},Kw=function(){c(this,yn)===null||!this.parent||(this.parent.drawLayer.remove(c(this,yn)),b(this,yn,null),this.parent.drawLayer.remove(c(this,Dt)),b(this,Dt,null))},hd=function(t=this.parent){c(this,yn)===null&&({id:$n(this,yn)._,clipPathId:$n(this,Ya)._}=t.drawLayer.highlight(c(this,Wr),this.color,c(this,Qa)),b(this,Dt,t.drawLayer.highlightOutline(c(this,wr))),c(this,Za)&&(c(this,Za).style.clipPath=c(this,Ya)))},Ar=new WeakSet,$l=function({x:t,y:r,width:i,height:s},o){switch(o){case 90:return{x:1-r-s,y:t,width:s,height:i};case 180:return{x:1-t-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-t-i,width:s,height:i}}return{x:t,y:r,width:i,height:s}},JT=function(t){je._keyboardManager.exec(this,t)},wm=function(t){if(!c(this,ic))return;const r=window.getSelection();t?r.setPosition(c(this,ic),c(this,Nf)):r.setPosition(c(this,If),c(this,Ff))},fd=function(){return c(this,Qn)?this.rotation:0},eR=function(){if(c(this,Qn))return null;const[t,r]=this.pageDimensions,i=c(this,fo),s=new Float32Array(i.length*8);let o=0;for(const{x:a,y:l,width:u,height:d}of i){const h=a*t,f=(1-l-d)*r;s[o]=s[o+4]=h,s[o+1]=s[o+3]=f,s[o+2]=s[o+6]=h+u*t,s[o+5]=s[o+7]=f+d*r,o+=8}return s},tR=function(t){return c(this,Wr).serialize(t,E(this,ke,fd).call(this))},nR=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},rR=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},S(je,Ar),me(je,"_defaultColor",null),me(je,"_defaultOpacity",1),me(je,"_defaultThickness",12),me(je,"_l10nPromise"),me(je,"_type","highlight"),me(je,"_editorType",Me.HIGHLIGHT),me(je,"_freeHighlightId",-1),me(je,"_freeHighlight",null),me(je,"_freeHighlightClipId","");let Rg=je;var Ja,el,zf,Bf,Uf,tl,bi,fs,_r,nl,rl,ps,il,sl,po,G,iR,sR,oR,aR,Zw,lR,Qw,uR,cR,dR,hR,fR,ra,Jw,_m,bm,Vl,e_,Em,Ns,pR,t_,mR,gR,n_,Sm,pd;const ct=class ct extends He{constructor(t){super({...t,name:"inkEditor"});S(this,G);S(this,Ja,0);S(this,el,0);S(this,zf,this.canvasPointermove.bind(this));S(this,Bf,this.canvasPointerleave.bind(this));S(this,Uf,this.canvasPointerup.bind(this));S(this,tl,this.canvasPointerdown.bind(this));S(this,bi,null);S(this,fs,new Path2D);S(this,_r,!1);S(this,nl,!1);S(this,rl,!1);S(this,ps,null);S(this,il,0);S(this,sl,0);S(this,po,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,r){He.initialize(t,r)}static updateDefaultParams(t,r){switch(t){case fe.INK_THICKNESS:ct._defaultThickness=r;break;case fe.INK_COLOR:ct._defaultColor=r;break;case fe.INK_OPACITY:ct._defaultOpacity=r/100;break}}updateParams(t,r){switch(t){case fe.INK_THICKNESS:E(this,G,iR).call(this,r);break;case fe.INK_COLOR:E(this,G,sR).call(this,r);break;case fe.INK_OPACITY:E(this,G,oR).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[fe.INK_THICKNESS,ct._defaultThickness],[fe.INK_COLOR,ct._defaultColor||He._defaultLineColor],[fe.INK_OPACITY,Math.round(ct._defaultOpacity*100)]]}get propertiesToUpdate(){return[[fe.INK_THICKNESS,this.thickness||ct._defaultThickness],[fe.INK_COLOR,this.color||ct._defaultColor||He._defaultLineColor],[fe.INK_OPACITY,Math.round(100*(this.opacity??ct._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(E(this,G,_m).call(this),E(this,G,bm).call(this)),this.isAttachedToDOM||(this.parent.add(this),E(this,G,Vl).call(this)),E(this,G,pd).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(this,bi)&&(clearTimeout(c(this,bi)),b(this,bi,null)),(t=c(this,ps))==null||t.disconnect(),b(this,ps,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,r]=this.parentDimensions,i=this.width*t,s=this.height*r;this.setDimensions(i,s)}enableEditMode(){c(this,_r)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",c(this,tl),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",c(this,tl)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){c(this,_r)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),b(this,_r,!0),this.div.classList.add("disabled"),E(this,G,pd).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||c(this,_r)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),E(this,G,lR).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),E(this,G,Qw).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),E(this,G,Jw).call(this,t)}canvasPointerleave(t){E(this,G,Jw).call(this,t)}get isResizable(){return!this.isEmpty()&&c(this,_r)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,o,a]=E(this,G,aR).call(this);if(this.setAt(i,s,0,0),this.setDims(o,a),E(this,G,_m).call(this),this.width){const[l,u]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*u),this.setAt(t*l,r*u,this.width*l,this.height*u),b(this,rl,!0),E(this,G,Vl).call(this),this.setDims(this.width*l,this.height*u),E(this,G,ra).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return E(this,G,bm).call(this),this.div}setDimensions(t,r){const i=Math.round(t),s=Math.round(r);if(c(this,il)===i&&c(this,sl)===s)return;b(this,il,i),b(this,sl,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=r/a,this.fixAndSetPosition(),c(this,_r)&&E(this,G,e_).call(this,t,r),E(this,G,Vl).call(this),E(this,G,ra).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,r,i){var w,g,v;if(t instanceof NT)return null;const s=super.deserialize(t,r,i);s.thickness=t.thickness,s.color=te.makeHexColor(...t.color),s.opacity=t.opacity;const[o,a]=s.pageDimensions,l=s.width*o,u=s.height*a,d=s.parentScale,h=t.thickness/2;b(s,_r,!0),b(s,il,Math.round(l)),b(s,sl,Math.round(u));const{paths:f,rect:p,rotation:m}=t;for(let{bezier:_}of f){_=E(w=ct,Ns,mR).call(w,_,p,m);const x=[];s.paths.push(x);let C=d*(_[0]-h),k=d*(_[1]-h);for(let A=2,D=_.length;A<D;A+=6){const I=d*(_[A]-h),j=d*(_[A+1]-h),ne=d*(_[A+2]-h),J=d*(_[A+3]-h),X=d*(_[A+4]-h),he=d*(_[A+5]-h);x.push([[C,k],[I,j],[ne,J],[X,he]]),C=X,k=he}const P=E(this,Ns,pR).call(this,x);s.bezierPath2D.push(P)}const y=E(g=s,G,n_).call(g);return b(s,el,Math.max(He.MIN_SIZE,y[2]-y[0])),b(s,Ja,Math.max(He.MIN_SIZE,y[3]-y[1])),E(v=s,G,e_).call(v,l,u),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),r=He._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Me.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:E(this,G,gR).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Ja=new WeakMap,el=new WeakMap,zf=new WeakMap,Bf=new WeakMap,Uf=new WeakMap,tl=new WeakMap,bi=new WeakMap,fs=new WeakMap,_r=new WeakMap,nl=new WeakMap,rl=new WeakMap,ps=new WeakMap,il=new WeakMap,sl=new WeakMap,po=new WeakMap,G=new WeakSet,iR=function(t){const r=s=>{this.thickness=s,E(this,G,pd).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},sR=function(t){const r=s=>{this.color=s,E(this,G,ra).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fe.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},oR=function(t){const r=s=>{this.opacity=s,E(this,G,ra).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fe.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},aR=function(){const{parentRotation:t,parentDimensions:[r,i]}=this;switch(t){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},Zw=function(){const{ctx:t,color:r,opacity:i,thickness:s,parentScale:o,scaleFactor:a}=this;t.lineWidth=s*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${r}${E2(i)}`},lR=function(t,r){const i=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Un,{signal:i}),this.canvas.addEventListener("pointerleave",c(this,Bf),{signal:i}),this.canvas.addEventListener("pointermove",c(this,zf),{signal:i}),this.canvas.addEventListener("pointerup",c(this,Uf),{signal:i}),this.canvas.removeEventListener("pointerdown",c(this,tl)),this.isEditing=!0,c(this,rl)||(b(this,rl,!0),E(this,G,Vl).call(this),this.thickness||(this.thickness=ct._defaultThickness),this.color||(this.color=ct._defaultColor||He._defaultLineColor),this.opacity??(this.opacity=ct._defaultOpacity)),this.currentPath.push([t,r]),b(this,nl,!1),E(this,G,Zw).call(this),b(this,po,()=>{E(this,G,dR).call(this),c(this,po)&&window.requestAnimationFrame(c(this,po))}),window.requestAnimationFrame(c(this,po))},Qw=function(t,r){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&r===s)return;const o=this.currentPath;let a=c(this,fs);if(o.push([t,r]),b(this,nl,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,r);return}o.length===3&&(b(this,fs,a=new Path2D),a.moveTo(...o[0])),E(this,G,hR).call(this,a,...o.at(-3),...o.at(-2),t,r)},uR=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);c(this,fs).lineTo(...t)},cR=function(t,r){b(this,po,null),t=Math.min(Math.max(t,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),E(this,G,Qw).call(this,t,r),E(this,G,uR).call(this);let i;if(this.currentPath.length!==1)i=E(this,G,fR).call(this);else{const u=[t,r];i=[[u,u.slice(),u.slice(),u]]}const s=c(this,fs),o=this.currentPath;this.currentPath=[],b(this,fs,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(E(this,G,_m).call(this),E(this,G,bm).call(this)),E(this,G,pd).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},dR=function(){if(!c(this,nl))return;b(this,nl,!1);const t=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(a=>a[0]),s=r.map(a=>a[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(c(this,fs)),o.restore()},hR=function(t,r,i,s,o,a,l){const u=(r+s)/2,d=(i+o)/2,h=(s+a)/2,f=(o+l)/2;t.bezierCurveTo(u+2*(s-u)/3,d+2*(o-d)/3,h+2*(s-h)/3,f+2*(o-f)/3,h,f)},fR=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const r=[];let i,[s,o]=t[0];for(i=1;i<t.length-2;i++){const[p,m]=t[i],[y,w]=t[i+1],g=(p+y)/2,v=(m+w)/2,_=[s+2*(p-s)/3,o+2*(m-o)/3],x=[g+2*(p-g)/3,v+2*(m-v)/3];r.push([[s,o],_,x,[g,v]]),[s,o]=[g,v]}const[a,l]=t[i],[u,d]=t[i+1],h=[s+2*(a-s)/3,o+2*(l-o)/3],f=[u+2*(a-u)/3,d+2*(l-d)/3];return r.push([[s,o],h,f,[u,d]]),r},ra=function(){if(this.isEmpty()){E(this,G,Em).call(this);return}E(this,G,Zw).call(this);const{canvas:t,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),E(this,G,Em).call(this);for(const i of this.bezierPath2D)r.stroke(i)},Jw=function(t){this.canvas.removeEventListener("pointerleave",c(this,Bf)),this.canvas.removeEventListener("pointermove",c(this,zf)),this.canvas.removeEventListener("pointerup",c(this,Uf)),this.canvas.addEventListener("pointerdown",c(this,tl),{signal:this._uiManager._signal}),c(this,bi)&&clearTimeout(c(this,bi)),b(this,bi,setTimeout(()=>{b(this,bi,null),this.canvas.removeEventListener("contextmenu",Un)},10)),E(this,G,cR).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},_m=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},bm=function(){b(this,ps,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),c(this,ps).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=c(this,ps))==null||t.disconnect(),b(this,ps,null)},{once:!0})},Vl=function(){if(!c(this,rl))return;const[t,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*r),E(this,G,Em).call(this)},e_=function(t,r){const i=E(this,G,Sm).call(this),s=(t-i)/c(this,el),o=(r-i)/c(this,Ja);this.scaleFactor=Math.min(s,o)},Em=function(){const t=E(this,G,Sm).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Ns=new WeakSet,pR=function(t){const r=new Path2D;for(let i=0,s=t.length;i<s;i++){const[o,a,l,u]=t[i];i===0&&r.moveTo(...o),r.bezierCurveTo(a[0],a[1],l[0],l[1],u[0],u[1])}return r},t_=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]+=s,t[u+1]=l-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=t[u+1]+s,t[u+1]=h+o}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=a-t[u],t[u+1]+=o;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=a-t[u+1],t[u+1]=l-h}break;default:throw new Error("Invalid rotation")}return t},mR=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]-=s,t[u+1]=l-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=t[u+1]-o,t[u+1]=h-s}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=a-t[u],t[u+1]-=o;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=l-t[u+1],t[u+1]=a-h}break;default:throw new Error("Invalid rotation")}return t},gR=function(t,r,i,s){var d,h;const o=[],a=this.thickness/2,l=t*r+a,u=t*i+a;for(const f of this.paths){const p=[],m=[];for(let y=0,w=f.length;y<w;y++){const[g,v,_,x]=f[y];if(g[0]===x[0]&&g[1]===x[1]&&w===1){const J=t*g[0]+l,X=t*g[1]+u;p.push(J,X),m.push(J,X);break}const C=t*g[0]+l,k=t*g[1]+u,P=t*v[0]+l,A=t*v[1]+u,D=t*_[0]+l,I=t*_[1]+u,j=t*x[0]+l,ne=t*x[1]+u;y===0&&(p.push(C,k),m.push(C,k)),p.push(P,A,D,I,j,ne),m.push(P,A),y===w-1&&m.push(j,ne)}o.push({bezier:E(d=ct,Ns,t_).call(d,p,s,this.rotation),points:E(h=ct,Ns,t_).call(h,m,s,this.rotation)})}return o},n_=function(){let t=1/0,r=-1/0,i=1/0,s=-1/0;for(const o of this.paths)for(const[a,l,u,d]of o){const h=te.bezierBoundingBox(...a,...l,...u,...d);t=Math.min(t,h[0]),i=Math.min(i,h[1]),r=Math.max(r,h[2]),s=Math.max(s,h[3])}return[t,i,r,s]},Sm=function(){return c(this,_r)?Math.ceil(this.thickness*this.parentScale):0},pd=function(t=!1){if(this.isEmpty())return;if(!c(this,_r)){E(this,G,ra).call(this);return}const r=E(this,G,n_).call(this),i=E(this,G,Sm).call(this);b(this,el,Math.max(He.MIN_SIZE,r[2]-r[0])),b(this,Ja,Math.max(He.MIN_SIZE,r[3]-r[1]));const s=Math.ceil(i+c(this,el)*this.scaleFactor),o=Math.ceil(i+c(this,Ja)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=s/a,this.height=o/l,this.setAspectRatio(s,o);const u=this.translationX,d=this.translationY;this.translationX=-r[0],this.translationY=-r[1],E(this,G,Vl).call(this),E(this,G,ra).call(this),b(this,il,s),b(this,sl,o),this.setDims(s,o);const h=t?i/this.scaleFactor/2:0;this.translate(u-this.translationX-h,d-this.translationY-h)},S(ct,Ns),me(ct,"_defaultColor",null),me(ct,"_defaultOpacity",1),me(ct,"_defaultThickness",1),me(ct,"_type","ink"),me(ct,"_editorType",Me.INK);let Yw=ct;var Zt,Qt,mo,ms,go,lc,Ei,gs,Si,Gr,Hf,Fe,md,gd,xm,i_,yR,vR,s_,Am,wR;const Td=class Td extends He{constructor(t){super({...t,name:"stampEditor"});S(this,Fe);S(this,Zt,null);S(this,Qt,null);S(this,mo,null);S(this,ms,null);S(this,go,null);S(this,lc,"");S(this,Ei,null);S(this,gs,null);S(this,Si,null);S(this,Gr,!1);S(this,Hf,!1);b(this,ms,t.bitmapUrl),b(this,go,t.bitmapFile)}static initialize(t,r){He.initialize(t,r)}static get supportedTypes(){return Ne(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return Ne(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(Me.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,r;c(this,Qt)&&(b(this,Zt,null),this._uiManager.imageManager.deleteId(c(this,Qt)),(t=c(this,Ei))==null||t.remove(),b(this,Ei,null),(r=c(this,gs))==null||r.disconnect(),b(this,gs,null),c(this,Si)&&(clearTimeout(c(this,Si)),b(this,Si,null))),super.remove()}rebuild(){if(!this.parent){c(this,Qt)&&E(this,Fe,xm).call(this);return}super.rebuild(),this.div!==null&&(c(this,Qt)&&c(this,Ei)===null&&E(this,Fe,xm).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(this,mo)||c(this,Zt)||c(this,ms)||c(this,go)||c(this,Qt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),c(this,Zt)?E(this,Fe,i_).call(this):E(this,Fe,xm).call(this),this.width){const[i,s]=this.parentDimensions;this.setAt(t*i,r*s,this.width*i,this.height*s)}return this.div}getImageForAltText(){return c(this,Ei)}static deserialize(t,r,i){if(t instanceof IT)return null;const s=super.deserialize(t,r,i),{rect:o,bitmapUrl:a,bitmapId:l,isSvg:u,accessibilityData:d}=t;l&&i.imageManager.isValidId(l)?b(s,Qt,l):b(s,ms,a),b(s,Gr,u);const[h,f]=s.pageDimensions;return s.width=(o[2]-o[0])/h,s.height=(o[3]-o[1])/f,d&&(s.altTextData=d),s}serialize(t=!1,r=null){if(this.isEmpty())return null;const i={annotationType:Me.STAMP,bitmapId:c(this,Qt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,Gr),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=E(this,Fe,Am).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:s,altText:o}=this.altTextData;if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),r===null)return i;r.stamps||(r.stamps=new Map);const a=c(this,Gr)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(c(this,Qt)))r.stamps.set(c(this,Qt),{area:a,serialized:i}),i.bitmap=E(this,Fe,Am).call(this,!1);else if(c(this,Gr)){const l=r.stamps.get(c(this,Qt));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=E(this,Fe,Am).call(this,!1))}return i}};Zt=new WeakMap,Qt=new WeakMap,mo=new WeakMap,ms=new WeakMap,go=new WeakMap,lc=new WeakMap,Ei=new WeakMap,gs=new WeakMap,Si=new WeakMap,Gr=new WeakMap,Hf=new WeakMap,Fe=new WeakSet,md=function(t,r=!1){if(!t){this.remove();return}b(this,Zt,t.bitmap),r||(b(this,Qt,t.id),b(this,Gr,t.isSvg)),t.file&&b(this,lc,t.file.name),E(this,Fe,i_).call(this)},gd=function(){b(this,mo,null),this._uiManager.enableWaiting(!1),c(this,Ei)&&this.div.focus()},xm=function(){if(c(this,Qt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,Qt)).then(i=>E(this,Fe,md).call(this,i,!0)).finally(()=>E(this,Fe,gd).call(this));return}if(c(this,ms)){const i=c(this,ms);b(this,ms,null),this._uiManager.enableWaiting(!0),b(this,mo,this._uiManager.imageManager.getFromUrl(i).then(s=>E(this,Fe,md).call(this,s)).finally(()=>E(this,Fe,gd).call(this)));return}if(c(this,go)){const i=c(this,go);b(this,go,null),this._uiManager.enableWaiting(!0),b(this,mo,this._uiManager.imageManager.getFromFile(i).then(s=>E(this,Fe,md).call(this,s)).finally(()=>E(this,Fe,gd).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Td.supportedTypesStr;const r=this._uiManager._signal;b(this,mo,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);E(this,Fe,md).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>E(this,Fe,gd).call(this))),t.click()},i_=function(){const{div:t}=this;let{width:r,height:i}=c(this,Zt);const[s,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>a*s||i>a*o){const h=Math.min(a*s/r,a*o/i);r*=h,i*=h}const[l,u]=this.parentDimensions;this.setDims(r*l/s,i*u/o),this._uiManager.enableWaiting(!1);const d=b(this,Ei,document.createElement("canvas"));t.append(d),t.hidden=!1,E(this,Fe,s_).call(this,r,i),E(this,Fe,wR).call(this),c(this,Hf)||(this.parent.addUndoableEditor(this),b(this,Hf,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,lc)&&d.setAttribute("aria-label",c(this,lc))},yR=function(t,r){var a;const[i,s]=this.parentDimensions;this.width=t/i,this.height=r/s,this.setDims(t,r),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,c(this,Si)!==null&&clearTimeout(c(this,Si)),b(this,Si,setTimeout(()=>{b(this,Si,null),E(this,Fe,s_).call(this,t,r)},200))},vR=function(t,r){const{width:i,height:s}=c(this,Zt);let o=i,a=s,l=c(this,Zt);for(;o>2*t||a>2*r;){const u=o,d=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(o,a);h.getContext("2d").drawImage(l,0,0,u,d,0,0,o,a),l=h.transferToImageBitmap()}return l},s_=function(t,r){t=Math.ceil(t),r=Math.ceil(r);const i=c(this,Ei);if(!i||i.width===t&&i.height===r)return;i.width=t,i.height=r;const s=c(this,Gr)?c(this,Zt):E(this,Fe,vR).call(this,t,r);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(t,r).getContext("2d");l.drawImage(s,0,0,s.width,s.height,0,0,t,r),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,t,r).data,width:t,height:r,channels:4}}).then(u=>{const d=(u==null?void 0:u.output)||"";this.parent&&d&&!this.hasAltText()&&(this.altTextData={altText:d,decorative:!1})})}const o=i.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(s,0,0,s.width,s.height,0,0,t,r)},Am=function(t){if(t){if(c(this,Gr)){const s=this._uiManager.imageManager.getSvgUrl(c(this,Qt));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=c(this,Zt),r.getContext("2d").drawImage(c(this,Zt),0,0),r.toDataURL()}if(c(this,Gr)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*jo.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*jo.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(c(this,Zt),0,0,c(this,Zt).width,c(this,Zt).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(c(this,Zt))},wR=function(){this._uiManager._signal&&(b(this,gs,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&E(this,Fe,yR).call(this,r.width,r.height)})),c(this,gs).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=c(this,gs))==null||t.disconnect(),b(this,gs,null)},{once:!0}))},me(Td,"_type","stamp"),me(Td,"_editorType",Me.STAMP);let r_=Td;var ol,uc,xi,al,ys,vs,ws,Jn,yo,cc,dc,vn,se,vo,nn,_R,a_,l_,u_,Cm;const Lr=class Lr{constructor({uiManager:e,pageIndex:t,div:r,accessibilityManager:i,annotationLayer:s,drawLayer:o,textLayer:a,viewport:l,l10n:u}){S(this,nn);S(this,ol);S(this,uc,!1);S(this,xi,null);S(this,al,null);S(this,ys,null);S(this,vs,null);S(this,ws,null);S(this,Jn,new Map);S(this,yo,!1);S(this,cc,!1);S(this,dc,!1);S(this,vn,null);S(this,se);const d=[...c(Lr,vo).values()];if(!Lr._initialized){Lr._initialized=!0;for(const h of d)h.initialize(u,e)}e.registerEditorTypes(d),b(this,se,e),this.pageIndex=t,this.div=r,b(this,ol,i),b(this,xi,s),this.viewport=l,b(this,vn,a),this.drawLayer=o,c(this,se).addLayer(this)}get isEmpty(){return c(this,Jn).size===0}get isInvisible(){return this.isEmpty&&c(this,se).getMode()===Me.NONE}updateToolbar(e){c(this,se).updateToolbar(e)}updateMode(e=c(this,se).getMode()){switch(E(this,nn,Cm).call(this),e){case Me.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Me.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Me.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of c(Lr,vo).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=c(this,vn))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(c(this,se).getMode()!==Me.INK)return;if(!e){for(const r of c(this,Jn).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){c(this,se).setEditingState(e)}addCommands(e){c(this,se).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=c(this,xi))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of c(this,Jn).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(c(this,se).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!c(this,xi))return;const t=c(this,xi).getEditableAnnotations();for(const r of t){if(r.hide(),c(this,se).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;b(this,dc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of c(this,Jn).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(c(this,xi)){const s=c(this,xi).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(c(this,se).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(c(this,se).addChangedExistingAnnotation(l),l.renderAnnotationElement(o),l.show(!1)),o.show()}}E(this,nn,Cm).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of c(Lr,vo).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),b(this,dc,!1)}getEditableAnnotation(e){var t;return((t=c(this,xi))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,se).getActive()!==e&&c(this,se).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=c(this,vn))!=null&&e.div&&!c(this,vs)&&(b(this,vs,E(this,nn,_R).bind(this)),c(this,vn).div.addEventListener("pointerdown",c(this,vs),{signal:c(this,se)._signal}),c(this,vn).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,vn))!=null&&e.div&&c(this,vs)&&(c(this,vn).div.removeEventListener("pointerdown",c(this,vs)),b(this,vs,null),c(this,vn).div.classList.remove("highlighting"))}enableClick(){if(c(this,ys))return;const e=c(this,se)._signal;b(this,ys,this.pointerdown.bind(this)),b(this,al,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",c(this,ys),{signal:e}),this.div.addEventListener("pointerup",c(this,al),{signal:e})}disableClick(){c(this,ys)&&(this.div.removeEventListener("pointerdown",c(this,ys)),this.div.removeEventListener("pointerup",c(this,al)),b(this,ys,null),b(this,al,null))}attach(e){c(this,Jn).set(e.id,e);const{annotationElementId:t}=e;t&&c(this,se).isDeletedAnnotationElement(t)&&c(this,se).removeDeletedAnnotationElement(e)}detach(e){var t;c(this,Jn).delete(e.id),(t=c(this,ol))==null||t.removePointerInTextLayer(e.contentDiv),!c(this,dc)&&e.annotationElementId&&c(this,se).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,se).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,c(this,cc)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,se).addDeletedAnnotationElement(e.annotationElementId),He.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,se).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),c(this,se).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!c(this,ws)&&(e._focusEventsAllowed=!1,b(this,ws,setTimeout(()=>{b(this,ws,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:c(this,se)._signal}),t.focus())},0))),e._structTreeParentId=(r=c(this,ol))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return c(this,se).getId()}get _signal(){return c(this,se)._signal}canCreateNewEmptyEditor(){var e;return(e=c(this,nn,a_))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){c(this,se).updateToolbar(e),c(this,se).updateMode(e);const{offsetX:r,offsetY:i}=E(this,nn,u_).call(this),s=this.getNextId(),o=E(this,nn,l_).call(this,{parent:this,id:s,x:r,y:i,uiManager:c(this,se),isCentered:!0,...t});o&&this.add(o)}deserialize(e){var t;return((t=c(Lr,vo).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,c(this,se)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=E(this,nn,l_).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:c(this,se),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(E(this,nn,u_).call(this),!0)}setSelected(e){c(this,se).setSelected(e)}toggleSelected(e){c(this,se).toggleSelected(e)}isSelected(e){return c(this,se).isSelected(e)}unselect(e){c(this,se).unselect(e)}pointerup(e){const{isMac:t}=Dn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&c(this,yo)){if(b(this,yo,!1),!c(this,uc)){b(this,uc,!0);return}if(c(this,se).getMode()===Me.STAMP){c(this,se).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(c(this,se).getMode()===Me.HIGHLIGHT&&this.enableTextSelection(),c(this,yo)){b(this,yo,!1);return}const{isMac:t}=Dn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;b(this,yo,!0);const r=c(this,se).getActive();b(this,uc,!r||r.isEmpty())}findNewParent(e,t,r){const i=c(this,se).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=c(this,se).getActive())==null?void 0:e.parent)===this&&(c(this,se).commitOrRemove(),c(this,se).setActiveEditor(null)),c(this,ws)&&(clearTimeout(c(this,ws)),b(this,ws,null));for(const r of c(this,Jn).values())(t=c(this,ol))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,c(this,Jn).clear(),c(this,se).removeLayer(this)}render({viewport:e}){this.viewport=e,El(this.div,e);for(const t of c(this,se).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){c(this,se).commitOrRemove(),E(this,nn,Cm).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,El(this.div,{rotation:r}),t!==r)for(const i of c(this,Jn).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return c(this,se).viewParameters.realScale}};ol=new WeakMap,uc=new WeakMap,xi=new WeakMap,al=new WeakMap,ys=new WeakMap,vs=new WeakMap,ws=new WeakMap,Jn=new WeakMap,yo=new WeakMap,cc=new WeakMap,dc=new WeakMap,vn=new WeakMap,se=new WeakMap,vo=new WeakMap,nn=new WeakSet,_R=function(e){if(c(this,se).unselectAll(),e.target===c(this,vn).div){const{isMac:t}=Dn.platform;if(e.button!==0||e.ctrlKey&&t)return;c(this,se).showAllEditors("highlight",!0,!0),c(this,vn).div.classList.add("free"),Rg.startHighlighting(this,c(this,se).direction==="ltr",e),c(this,vn).div.addEventListener("pointerup",()=>{c(this,vn).div.classList.remove("free")},{once:!0,signal:c(this,se)._signal}),e.preventDefault()}},a_=function(){return c(Lr,vo).get(c(this,se).getMode())},l_=function(e){const t=c(this,nn,a_);return t?new t.prototype.constructor(e):null},u_=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),u=(s+a)/2-e,d=(o+l)/2-t,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}},Cm=function(){b(this,cc,!0);for(const e of c(this,Jn).values())e.isEmpty()&&e.remove();b(this,cc,!1)},me(Lr,"_initialized",!1),S(Lr,vo,new Map([zw,Yw,r_,Rg].map(e=>[e._editorType,e])));let o_=Lr;var Ai,$f,Nt,wo,Vf,d_,kl,h_,bR;const Gt=class Gt{constructor({pageIndex:e}){S(this,kl);S(this,Ai,null);S(this,$f,0);S(this,Nt,new Map);S(this,wo,new Map);this.pageIndex=e}setParent(e){if(!c(this,Ai)){b(this,Ai,e);return}if(c(this,Ai)!==e){if(c(this,Nt).size>0)for(const t of c(this,Nt).values())t.remove(),e.append(t);b(this,Ai,e)}}static get _svgFactory(){return Ne(this,"_svgFactory",new Lb)}highlight(e,t,r,i=!1){const s=$n(this,$f)._++,o=E(this,kl,h_).call(this,e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const a=Gt._svgFactory.createElement("defs");o.append(a);const l=Gt._svgFactory.createElement("path");a.append(l);const u=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",u),l.setAttribute("d",e.toSVGPath()),i&&c(this,wo).set(s,l);const d=E(this,kl,bR).call(this,a,u),h=Gt._svgFactory.createElement("use");return o.append(h),o.setAttribute("fill",t),o.setAttribute("fill-opacity",r),h.setAttribute("href",`#${u}`),c(this,Nt).set(s,o),{id:s,clipPathId:`url(#${d})`}}highlightOutline(e){const t=$n(this,$f)._++,r=E(this,kl,h_).call(this,e.box);r.classList.add("highlightOutline");const i=Gt._svgFactory.createElement("defs");r.append(i);const s=Gt._svgFactory.createElement("path");i.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){r.classList.add("free");const d=Gt._svgFactory.createElement("mask");i.append(d),a=`mask_p${this.pageIndex}_${t}`,d.setAttribute("id",a),d.setAttribute("maskUnits","objectBoundingBox");const h=Gt._svgFactory.createElement("rect");d.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const f=Gt._svgFactory.createElement("use");d.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=Gt._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const u=l.cloneNode();return r.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),c(this,Nt).set(t,r),t}finalizeLine(e,t){const r=c(this,wo).get(e);c(this,wo).delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){c(this,Nt).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),c(this,wo).delete(e)}updatePath(e,t){c(this,wo).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var r;E(r=Gt,Vf,d_).call(r,c(this,Nt).get(e),t)}show(e,t){c(this,Nt).get(e).classList.toggle("hidden",!t)}rotate(e,t){c(this,Nt).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){c(this,Nt).get(e).setAttribute("fill",t)}changeOpacity(e,t){c(this,Nt).get(e).setAttribute("fill-opacity",t)}addClass(e,t){c(this,Nt).get(e).classList.add(t)}removeClass(e,t){c(this,Nt).get(e).classList.remove(t)}remove(e){c(this,Ai)!==null&&(c(this,Nt).get(e).remove(),c(this,Nt).delete(e))}destroy(){b(this,Ai,null);for(const e of c(this,Nt).values())e.remove();c(this,Nt).clear()}};Ai=new WeakMap,$f=new WeakMap,Nt=new WeakMap,wo=new WeakMap,Vf=new WeakSet,d_=function(e,{x:t=0,y:r=0,width:i=1,height:s=1}={}){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},kl=new WeakSet,h_=function(e){var r;const t=Gt._svgFactory.create(1,1,!0);return c(this,Ai).append(t),t.setAttribute("aria-hidden",!0),E(r=Gt,Vf,d_).call(r,t,e),t},bR=function(e,t){const r=Gt._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Gt._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},S(Gt,Vf);let c_=Gt;var Jj=de.AbortException,ez=de.AnnotationEditorLayer,tz=de.AnnotationEditorParamsType,nz=de.AnnotationEditorType,rz=de.AnnotationEditorUIManager,ER=de.AnnotationLayer,SR=de.AnnotationMode,iz=de.CMapCompressionType,sz=de.ColorPicker,oz=de.DOMSVGFactory,az=de.DrawLayer,lz=de.FeatureTest,zb=de.GlobalWorkerOptions,uz=de.ImageKind,cz=de.InvalidPDFException,dz=de.MissingPDFException,hz=de.OPS,fz=de.Outliner,pz=de.PDFDataRangeTransport,mz=de.PDFDateString,gz=de.PDFWorker,yz=de.PasswordResponses,vz=de.PermissionFlag,wz=de.PixelsPerInch,_z=de.RenderingCancelledException,xR=de.TextLayer,bz=de.UnexpectedResponseException,Ez=de.Util,Sz=de.VerbosityLevel,xz=de.XfaLayer,Az=de.build,Cz=de.createValidAbsoluteUrl,kz=de.fetchData,AR=de.getDocument,Tz=de.getFilenameFromUrl,Rz=de.getPdfFilenameFromUrl,Pz=de.getXfaPageViewport,Lz=de.isDataScheme,Mz=de.isPdfFile,Oz=de.noContextMenu,Dz=de.normalizeUnicode,Nz=de.renderTextLayer,Iz=de.setLayerDimensions,Fz=de.shadow,jz=de.updateTextLayer,zz=de.version;const Bz=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Jj,AnnotationEditorLayer:ez,AnnotationEditorParamsType:tz,AnnotationEditorType:nz,AnnotationEditorUIManager:rz,AnnotationLayer:ER,AnnotationMode:SR,CMapCompressionType:iz,ColorPicker:sz,DOMSVGFactory:oz,DrawLayer:az,FeatureTest:lz,GlobalWorkerOptions:zb,ImageKind:uz,InvalidPDFException:cz,MissingPDFException:dz,OPS:hz,Outliner:fz,PDFDataRangeTransport:pz,PDFDateString:mz,PDFWorker:gz,PasswordResponses:yz,PermissionFlag:vz,PixelsPerInch:wz,RenderingCancelledException:_z,TextLayer:xR,UnexpectedResponseException:bz,Util:Ez,VerbosityLevel:Sz,XfaLayer:xz,build:Az,createValidAbsoluteUrl:Cz,fetchData:kz,getDocument:AR,getFilenameFromUrl:Tz,getPdfFilenameFromUrl:Rz,getXfaPageViewport:Pz,isDataScheme:Lz,isPdfFile:Mz,noContextMenu:Oz,normalizeUnicode:Dz,renderTextLayer:Nz,setLayerDimensions:Iz,shadow:Fz,updateTextLayer:jz,version:zz},Symbol.toStringTag,{value:"Module"}));var Bt=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},Uz=["onCopy","onCut","onPaste"],Hz=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],$z=["onFocus","onBlur"],Vz=["onInput","onInvalid","onReset","onSubmit"],Wz=["onLoad","onError"],Gz=["onKeyDown","onKeyPress","onKeyUp"],qz=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Xz=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Kz=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Yz=["onSelect"],Zz=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Qz=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Jz=["onScroll"],e3=["onWheel"],t3=["onAnimationStart","onAnimationEnd","onAnimationIteration"],n3=["onTransitionEnd"],r3=["onToggle"],i3=["onChange"],s3=Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt(Bt([],Uz,!0),Hz,!0),$z,!0),Vz,!0),Wz,!0),Gz,!0),qz,!0),Xz,!0),Kz,!0),Yz,!0),Zz,!0),Qz,!0),Jz,!0),e3,!0),t3,!0),n3,!0),i3,!0),r3,!0);function CR(n,e){var t={};return s3.forEach(function(r){var i=n[r];i&&(e?t[r]=function(s){return i(s,e(r))}:t[r]=i)}),t}function ap(n){var e=!1,t=new Promise(function(r,i){n.then(function(s){return!e&&r(s)}).catch(function(s){return!e&&i(s)})});return{promise:t,cancel:function(){e=!0}}}function kR(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=kR(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Iy(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=kR(n))&&(r&&(r+=" "),r+=e);return r}var o3="Invariant failed";function Je(n,e){if(!n)throw new Error(o3)}var a3=function(){},l3=a3;const hn=v_(l3);var Mx=Object.prototype.hasOwnProperty;function Ox(n,e,t){for(t of n.keys())if(mu(t,e))return t}function mu(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&mu(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=Ox(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=Ox(e,i),!i)||!mu(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(Mx.call(n,t)&&++r&&!Mx.call(e,t)||!(t in e)||!mu(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}const TR=L.createContext(null);function gu({children:n,type:e}){return M.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const u3="noopener noreferrer nofollow";class c3{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Je(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Je(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Je(this.pdfDocument),Je(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Je(Array.isArray(t));const r=t[0];new Promise(i=>{Je(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(s=>{i(s)}).catch(()=>{Je(!1)}):typeof r=="number"?i(r):Je(!1)}).then(i=>{const s=i+1;Je(this.pdfViewer),Je(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Je(this.pdfViewer),Je(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||u3,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Dx={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Fy=typeof document<"u",RR=Fy&&window.location.protocol==="file:";function d3(n){return typeof n<"u"}function Zo(n){return d3(n)&&n!==null}function h3(n){return typeof n=="string"}function f3(n){return n instanceof ArrayBuffer}function p3(n){return Je(Fy),n instanceof Blob}function f_(n){return h3(n)&&/^data:/.test(n)}function Nx(n){Je(f_(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function m3(){return Fy&&window.devicePixelRatio||1}const PR="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Ix(){hn(!RR,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${PR}`)}function g3(){hn(!RR,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${PR}`)}function Al(n){n!=null&&n.cancel&&n.cancel()}function p_(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function y3(n){return n.name==="RenderingCancelledException"}function v3(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}function w3(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Ac(){return L.useReducer(w3,{value:void 0,error:void 0})}var _3=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(n,e||[])).next())})},Fx=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const{PDFDataRangeTransport:b3}=Bz,E3=(n,e)=>{switch(e){case Dx.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case Dx.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function jx(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const S3=L.forwardRef(function(e,t){var{children:r,className:i,error:s="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:a,file:l,inputRef:u,imageResourcesPath:d,loading:h="Loading PDF",noData:f="No PDF file specified.",onItemClick:p,onLoadError:m,onLoadProgress:y,onLoadSuccess:w,onPassword:g=E3,onSourceError:v,onSourceSuccess:_,options:x,renderMode:C,rotate:k}=e,P=Fx(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[A,D]=Ac(),{value:I,error:j}=A,[ne,J]=Ac(),{value:X,error:he}=ne,pe=L.useRef(new c3),V=L.useRef([]),F=L.useRef(void 0),$=L.useRef(void 0);l&&l!==F.current&&jx(l)&&(hn(!mu(l,F.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),F.current=l),x&&x!==$.current&&(hn(!mu(x,$.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),$.current=x);const ie=L.useRef({scrollPageIntoView:Ve=>{const{dest:Pe,pageNumber:ut,pageIndex:bt=ut-1}=Ve;if(p){p({dest:Pe,pageIndex:bt,pageNumber:ut});return}const si=V.current[bt];if(si){si.scrollIntoView();return}hn(!1,`An internal link leading to page ${ut} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});L.useImperativeHandle(t,()=>({linkService:pe,pages:V,viewer:ie}),[]);function Re(){_&&_()}function ue(){j&&(hn(!1,j.toString()),v&&v(j))}function Ee(){D({type:"RESET"})}L.useEffect(Ee,[l,D]);const Ye=L.useCallback(()=>_3(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return f_(l)?{data:Nx(l)}:(Ix(),{url:l});if(l instanceof b3)return{range:l};if(f3(l))return{data:l};if(Fy&&p3(l))return{data:yield v3(l)};if(Je(typeof l=="object"),Je(jx(l)),"url"in l&&typeof l.url=="string"){if(f_(l.url)){const{url:Ve}=l,Pe=Fx(l,["url"]),ut=Nx(Ve);return Object.assign({data:ut},Pe)}Ix()}return l}),[l]);L.useEffect(()=>{const Ve=ap(Ye());return Ve.promise.then(Pe=>{D({type:"RESOLVE",value:Pe})}).catch(Pe=>{D({type:"REJECT",error:Pe})}),()=>{Al(Ve)}},[Ye,D]),L.useEffect(()=>{if(!(typeof I>"u")){if(I===!1){ue();return}Re()}},[I]);function lt(){X&&(w&&w(X),V.current=new Array(X.numPages),pe.current.setDocument(X))}function De(){he&&(hn(!1,he.toString()),m&&m(he))}L.useEffect(function(){J({type:"RESET"})},[J,I]),L.useEffect(function(){if(!I)return;const Pe=Object.assign(Object.assign({},I),x),ut=AR(Pe);y&&(ut.onProgress=y),g&&(ut.onPassword=g);const bt=ut;return bt.promise.then(si=>{J({type:"RESOLVE",value:si})}).catch(si=>{bt.destroyed||J({type:"REJECT",error:si})}),()=>{bt.destroy()}},[x,J,I]),L.useEffect(()=>{if(!(typeof X>"u")){if(X===!1){De();return}lt()}},[X]),L.useEffect(function(){pe.current.setViewer(ie.current),pe.current.setExternalLinkRel(o),pe.current.setExternalLinkTarget(a)},[o,a]);const Se=L.useCallback((Ve,Pe)=>{V.current[Ve]=Pe},[]),yt=L.useCallback(Ve=>{delete V.current[Ve]},[]),fr=L.useMemo(()=>({imageResourcesPath:d,linkService:pe.current,onItemClick:p,pdf:X,registerPage:Se,renderMode:C,rotate:k,unregisterPage:yt}),[d,p,X,Se,C,k,yt]),tt=L.useMemo(()=>CR(P,()=>X),[P,X]);function Go(){return M.jsx(TR.Provider,{value:fr,children:r})}function qo(){return l?X==null?M.jsx(gu,{type:"loading",children:typeof h=="function"?h():h}):X===!1?M.jsx(gu,{type:"error",children:typeof s=="function"?s():s}):Go():M.jsx(gu,{type:"no-data",children:typeof f=="function"?f():f})}return M.jsx("div",Object.assign({className:Iy("react-pdf__Document",i),ref:u,style:{"--scale-factor":"1"}},tt,{children:qo()}))});function LR(){return L.useContext(TR)}function MR(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(s){t.forEach(function(o){typeof o=="function"?o(s):o&&(o.current=s)})}}const OR=L.createContext(null),DR={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},x3=/^H(\d+)$/;function A3(n){return n in DR}function jy(n){return"children"in n}function NR(n){return jy(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function C3(n){const e={};if(jy(n)){const{role:t}=n,r=t.match(x3);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(A3(t)){const i=DR[t];i&&(e.role=i)}}return e}function IR(n){const e={};if(jy(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),NR(n)){const[t]=n.children;if(t){const r=IR(t);return Object.assign(Object.assign({},e),r)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function k3(n){return n?Object.assign(Object.assign({},C3(n)),IR(n)):null}function FR({className:n,node:e}){const t=L.useMemo(()=>k3(e),[e]),r=L.useMemo(()=>!jy(e)||NR(e)?null:e.children.map((i,s)=>M.jsx(FR,{node:i},s)),[e]);return M.jsx("span",Object.assign({className:n},t,{children:r}))}function zy(){return L.useContext(OR)}function T3(){const n=zy();Je(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,i]=Ac(),{value:s,error:o}=r,{customTextRenderer:a,page:l}=n;function u(){s&&t&&t(s)}function d(){o&&(hn(!1,o.toString()),e&&e(o))}return L.useEffect(function(){i({type:"RESET"})},[i,l]),L.useEffect(function(){if(a||!l)return;const f=ap(l.getStructTree()),p=f;return f.promise.then(m=>{i({type:"RESOLVE",value:m})}).catch(m=>{i({type:"REJECT",error:m})}),()=>Al(p)},[a,l,i]),L.useEffect(()=>{if(s!==void 0){if(s===!1){d();return}u()}},[s]),s?M.jsx(FR,{className:"react-pdf__Page__structTree structTree",node:s}):null}const zx=SR;function R3(n){const e=zy();Je(e);const t=Object.assign(Object.assign({},e),n),{_className:r,canvasBackground:i,devicePixelRatio:s=m3(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:u,renderTextLayer:d,rotate:h,scale:f}=t,{canvasRef:p}=n;Je(l);const m=L.useRef(null);function y(){l&&a&&a(p_(l,f))}function w(x){y3(x)||(hn(!1,x.toString()),o&&o(x))}const g=L.useMemo(()=>l.getViewport({scale:f*s,rotation:h}),[s,l,h,f]),v=L.useMemo(()=>l.getViewport({scale:f,rotation:h}),[l,h,f]);L.useEffect(function(){if(!l)return;l.cleanup();const{current:C}=m;if(!C)return;C.width=g.width,C.height=g.height,C.style.width=`${Math.floor(v.width)}px`,C.style.height=`${Math.floor(v.height)}px`,C.style.visibility="hidden";const k={annotationMode:u?zx.ENABLE_FORMS:zx.ENABLE,canvasContext:C.getContext("2d",{alpha:!1}),viewport:g};i&&(k.background=i);const P=l.render(k),A=P;return P.promise.then(()=>{C.style.visibility="",y()}).catch(w),()=>Al(A)},[i,l,u,g,v]);const _=L.useCallback(()=>{const{current:x}=m;x&&(x.width=0,x.height=0)},[]);return L.useEffect(()=>_,[_]),M.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:MR(p,m),style:{display:"block",userSelect:"none"},children:d?M.jsx(T3,{}):null})}function P3(n){return"str"in n}function L3(){const n=zy();Je(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:l,rotate:u,scale:d}=n;Je(o);const[h,f]=Ac(),{value:p,error:m}=h,y=L.useRef(null),w=L.useRef(void 0);hn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function g(){p&&r&&r(p)}function v(){m&&(hn(!1,m.toString()),t&&t(m))}L.useEffect(function(){f({type:"RESET"})},[o,f]),L.useEffect(function(){if(!o)return;const D=ap(o.getTextContent()),I=D;return D.promise.then(j=>{f({type:"RESOLVE",value:j})}).catch(j=>{f({type:"REJECT",error:j})}),()=>Al(I)},[o,f]),L.useEffect(()=>{if(p!==void 0){if(p===!1){v();return}g()}},[p]);const _=L.useCallback(()=>{s&&s()},[s]),x=L.useCallback(A=>{hn(!1,A.toString()),i&&i(A)},[i]);function C(){const A=w.current;A&&A.classList.add("active")}function k(){const A=w.current;A&&A.classList.remove("active")}const P=L.useMemo(()=>o.getViewport({scale:d,rotation:u}),[o,u,d]);return L.useLayoutEffect(function(){if(!o||!p)return;const{current:D}=y;if(!D)return;D.innerHTML="";const I=o.streamTextContent({includeMarkedContent:!0}),j={container:D,textContentSource:I,viewport:P},ne=new xR(j),J=ne;return ne.render().then(()=>{const X=document.createElement("div");X.className="endOfContent",D.append(X),w.current=X;const he=D.querySelectorAll('[role="presentation"]');if(e){let pe=0;p.items.forEach((V,F)=>{if(!P3(V))return;const $=he[pe];if(!$)return;const ie=e(Object.assign({pageIndex:a,pageNumber:l,itemIndex:F},V));$.innerHTML=ie,pe+=V.str&&V.hasEOL?2:1})}_()}).catch(x),()=>Al(J)},[e,x,_,o,a,l,p,P]),M.jsx("div",{className:Iy("react-pdf__Page__textContent","textLayer"),onMouseUp:k,onMouseDown:C,ref:y})}function M3(){const n=LR(),e=zy();Je(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:r,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:u,pdf:d,renderForms:h,rotate:f,scale:p=1}=t;Je(d),Je(u),Je(i);const[m,y]=Ac(),{value:w,error:g}=m,v=L.useRef(null);hn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function _(){w&&o&&o(w)}function x(){g&&(hn(!1,g.toString()),s&&s(g))}L.useEffect(function(){y({type:"RESET"})},[y,u]),L.useEffect(function(){if(!u)return;const D=ap(u.getAnnotations()),I=D;return D.promise.then(j=>{y({type:"RESOLVE",value:j})}).catch(j=>{y({type:"REJECT",error:j})}),()=>{Al(I)}},[y,u]),L.useEffect(()=>{if(w!==void 0){if(w===!1){x();return}_()}},[w]);function C(){l&&l()}function k(A){hn(!1,`${A}`),a&&a(A)}const P=L.useMemo(()=>u.getViewport({scale:p,rotation:f}),[u,f,p]);return L.useEffect(function(){if(!d||!u||!i||!w)return;const{current:D}=v;if(!D)return;const I=P.clone({dontFlip:!0}),j={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:D,l10n:null,page:u,viewport:I},ne={annotations:w,annotationStorage:d.annotationStorage,div:D,imageResourcesPath:r,linkService:i,page:u,renderForms:h,viewport:I};D.innerHTML="";try{new ER(j).render(ne),C()}catch(J){k(J)}return()=>{}},[w,r,i,u,d,h,P]),M.jsx("div",{className:Iy("react-pdf__Page__annotations","annotationLayer"),ref:v})}var O3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Bx=1;function D3(n){const e=LR(),t=Object.assign(Object.assign({},e),n),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:o,children:a,className:l,customRenderer:u,customTextRenderer:d,devicePixelRatio:h,error:f="Failed to load the page.",height:p,inputRef:m,loading:y="Loading page",noData:w="No page specified.",onGetAnnotationsError:g,onGetAnnotationsSuccess:v,onGetStructTreeError:_,onGetStructTreeSuccess:x,onGetTextError:C,onGetTextSuccess:k,onLoadError:P,onLoadSuccess:A,onRenderAnnotationLayerError:D,onRenderAnnotationLayerSuccess:I,onRenderError:j,onRenderSuccess:ne,onRenderTextLayerError:J,onRenderTextLayerSuccess:X,pageIndex:he,pageNumber:pe,pdf:V,registerPage:F,renderAnnotationLayer:$=!0,renderForms:ie=!1,renderMode:Re="canvas",renderTextLayer:ue=!0,rotate:Ee,scale:Ye=Bx,unregisterPage:lt,width:De}=t,Se=O3(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[yt,fr]=Ac(),{value:tt,error:Go}=yt,qo=L.useRef(null);Je(V);const Ve=Zo(pe)?pe-1:he??null,Pe=pe??(Zo(he)?he+1:null),ut=Ee??(tt?tt.rotate:null),bt=L.useMemo(()=>{if(!tt)return null;let pr=1;const Yo=Ye??Bx;if(De||p){const Fs=tt.getViewport({scale:1,rotation:ut});De?pr=De/Fs.width:p&&(pr=p/Fs.height)}return Yo*pr},[p,tt,ut,Ye,De]);L.useEffect(function(){return()=>{Zo(Ve)&&i&&lt&&lt(Ve)}},[i,V,Ve,lt]);function si(){if(A){if(!tt||!bt)return;A(p_(tt,bt))}if(i&&F){if(!Zo(Ve)||!qo.current)return;F(Ve,qo.current)}}function Ii(){Go&&(hn(!1,Go.toString()),P&&P(Go))}L.useEffect(function(){fr({type:"RESET"})},[fr,V,Ve]),L.useEffect(function(){if(!V||!Pe)return;const Yo=ap(V.getPage(Pe)),Fs=Yo;return Yo.promise.then(mr=>{fr({type:"RESOLVE",value:mr})}).catch(mr=>{fr({type:"REJECT",error:mr})}),()=>Al(Fs)},[fr,V,Pe]),L.useEffect(()=>{if(tt!==void 0){if(tt===!1){Ii();return}si()}},[tt,bt]);const By=L.useMemo(()=>tt&&Zo(Ve)&&Pe&&Zo(ut)&&Zo(bt)?{_className:r,canvasBackground:s,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:g,onGetAnnotationsSuccess:v,onGetStructTreeError:_,onGetStructTreeSuccess:x,onGetTextError:C,onGetTextSuccess:k,onRenderAnnotationLayerError:D,onRenderAnnotationLayerSuccess:I,onRenderError:j,onRenderSuccess:ne,onRenderTextLayerError:J,onRenderTextLayerSuccess:X,page:tt,pageIndex:Ve,pageNumber:Pe,renderForms:ie,renderTextLayer:ue,rotate:ut,scale:bt}:null,[r,s,d,h,g,v,_,x,C,k,D,I,j,ne,J,X,tt,Ve,Pe,ie,ue,ut,bt]),Uy=L.useMemo(()=>CR(Se,()=>tt&&(bt?p_(tt,bt):void 0)),[Se,tt,bt]),Xo=`${Ve}@${bt}/${ut}`;function Hy(){switch(Re){case"custom":return Je(u),M.jsx(u,{},`${Xo}_custom`);case"none":return null;case"canvas":default:return M.jsx(R3,{canvasRef:o},`${Xo}_canvas`)}}function $y(){return ue?M.jsx(L3,{},`${Xo}_text`):null}function Vy(){return $?M.jsx(M3,{},`${Xo}_annotations`):null}function Wy(){return M.jsxs(OR.Provider,{value:By,children:[Hy(),$y(),Vy(),a]})}function Ko(){return Pe?V===null||tt===void 0||tt===null?M.jsx(gu,{type:"loading",children:typeof y=="function"?y():y}):V===!1||tt===!1?M.jsx(gu,{type:"error",children:typeof f=="function"?f():f}):Wy():M.jsx(gu,{type:"no-data",children:typeof w=="function"?w():w})}return M.jsx("div",Object.assign({className:Iy(r,l),"data-page-number":Pe,ref:MR(m,qo),style:{"--scale-factor":`${bt}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Uy,{children:Ko()}))}g3();zb.workerSrc="pdf.worker.mjs";function N3(n){return my({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},child:[]}]})(n)}function I3(n){return my({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"},child:[]}]})(n)}zb.workerSrc=new URL("/assets/pdf.worker.min-DGf6LXVo.mjs",import.meta.url).toString();function F3({fileName:n,setOutputFile:e,setLoading:t}){const[r,i]=L.useState(null),[s,o]=L.useState(1),[a,l]=L.useState(),[u,d]=L.useState([]),[h,f]=L.useState(null);L.useEffect(()=>{Sc.get(`/api/pdf/pdfname/${n}`,{responseType:"blob"}).then(v=>{const _=URL.createObjectURL(v.data);i(_),console.log(_)}).catch(v=>{console.log(v)})},[]);const p=({numPages:v})=>{l(v)},m=()=>{o(v=>v<a?v+1:v)},y=()=>{o(v=>v>1?v-1:v)},w=()=>{u.includes(s)?d(v=>v.filter(_=>_!=s)):d(v=>[...v,s])},g=()=>{u.length>0?(t(!0),f(null),console.log(u),Sc.post("/api/pdf/extract",{pageNumbers:u,fileName:n},{responseType:"blob"}).then(v=>{const _=URL.createObjectURL(v.data);t(!1),e(_)})):f("Select atleast 1 page")};return M.jsxs("div",{children:[M.jsx("p",{className:"mt-5 text-center text-2xl font-bold",children:"PDF preview"}),M.jsxs("div",{className:"mx-auto w-fit border border-gray-300 my-5",children:[M.jsx("nav",{className:"flex justify-center items-center",children:M.jsxs("div",{children:[s>1&&M.jsx("button",{type:"button",className:"text-gray-900 hover:text-blue-600  border-gray-800   focus:outline-none  font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2  ",onClick:y,children:M.jsx(N3,{})}),s<a&&M.jsx("button",{type:"button",className:"text-gray-900 hover:text-blue-600  border-gray-800   focus:outline-none  font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2  ",onClick:m,children:M.jsx(I3,{})})]})}),M.jsxs("div",{children:[M.jsxs("div",{className:"mx-2 flex gap-4 items-center",children:[M.jsx("input",{id:"link-checkbox",type:"checkbox",checked:u.includes(s),onChange:w,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),M.jsx("div",{children:u.includes(s)&&u.indexOf(s)+1})]}),M.jsx(S3,{file:r,onLoadSuccess:p,className:"mx-auto w-fit",children:M.jsx(D3,{className:"mx-auto",pageNumber:s,height:400,renderAnnotationLayer:!1})})]}),M.jsxs("p",{className:"text-center",children:["Page ",s," of ",a]})]}),M.jsxs("div",{className:"text-center my-2",children:[M.jsx("div",{className:"my-2",children:h&&M.jsx("p",{className:"text-red-700",children:h})}),M.jsx("button",{type:"button",onClick:g,className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800",children:"Extract and Create New Pdf"})]})]})}function j3(n){return my({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(n)}function z3({outputFile:n}){const e=()=>{const t=document.createElement("a");t.href=n,t.download="extract-pdf.pdf",document.body.appendChild(t),t.click(),t.remove(),window.URL.revokeObjectURL(n)};return M.jsxs("div",{className:"h-screen w-screen flex flex-col justify-center items-center",children:[M.jsx("p",{className:"text-2xl font-semibold mb-10",children:"Your PDF is ready to download"}),M.jsxs("button",{type:"button",onClick:e,className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:["Download New PDF",M.jsx(j3,{})]})]})}function B3(){const[n,e]=L.useState(!0),[t,r]=L.useState(null),[i,s]=L.useState(null),[o,a]=L.useState(!1),{status:l}=xb(d=>d.user),u=Qf();return L.useEffect(()=>{l?e(!1):u("/login")},[l,u]),M.jsx(M.Fragment,{children:M.jsxs("div",{children:[M.jsx(ZF,{}),n&&M.jsx(BI,{}),!o&&M.jsx(zI,{setLoading:e,setFileName:r,setIsPdfPreview:a}),o&&t&&!i&&M.jsx(F3,{fileName:t,setOutputFile:s,setLoading:e}),i&&M.jsx(z3,{outputFile:i})]})})}const U3=ki.object({email:ki.string().email({message:"Invalid email address"}),password:ki.string().min(6,{message:"Password must be at least 6 characters long"})});function H3(){const[n,e]=L.useState({email:"",password:""}),[t,r]=L.useState({}),[i,s]=L.useState(null),o=hk(),a=Qf(),l=d=>{const{name:h,value:f}=d.target;e(p=>({...p,[h]:f}))},u=d=>{d.preventDefault();const h=U3.safeParse(n);if(h.success)r({}),console.log("Form data is valid:",h.data),Sc.post("/api/user/login",n).then(()=>{o(XF()),a("/")}).catch(f=>{console.log(f),s(f.response.data.message)});else{const f={};h.error.errors.forEach(p=>{p.path.length>0&&(f[p.path[0]]=p.message)}),r(f)}};return M.jsxs("div",{className:"flex min-h-full flex-col justify-center px-6 py-12 lg:px-8",children:[M.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[M.jsx("img",{className:"mx-auto h-10 w-auto",src:"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600",alt:"Your Company"}),M.jsx("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Login to your account"}),i&&M.jsx("p",{className:"text-red-600 text-center",children:i})]}),M.jsx("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:M.jsxs("form",{className:"space-y-6",onSubmit:u,children:[M.jsxs("div",{children:[M.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email address"}),M.jsxs("div",{className:"mt-2",children:[M.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:n.email,onChange:l,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 px-2"}),t.email&&M.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.email})]})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"}),M.jsxs("div",{className:"mt-2",children:[M.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",value:n.password,onChange:l,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 px-2"}),t.password&&M.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.password})]})]}),M.jsx("div",{children:M.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Login"})})]})})]})}function $3(){const[n,e]=L.useState(!0),{status:t}=xb(i=>i.user),r=Qf();return L.useEffect(()=>{t?r("/"):e(!1)},[t,r]),M.jsx(M.Fragment,{children:n?M.jsx("p",{children:"Loading..."}):M.jsx(H3,{})})}const V3=ki.object({email:ki.string().email("Invalid email address"),password:ki.string().min(6,"Password must be at least 6 characters long"),confirmPassword:ki.string().min(6,"Password must be at least 6 characters long")}).refine(n=>n.password===n.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),W3=()=>{const[n,e]=L.useState({email:"",password:"",confirmPassword:""}),[t,r]=L.useState({}),i=o=>{e({...n,[o.target.name]:o.target.value})},s=o=>{o.preventDefault();try{V3.parse(n),console.log("Form is valid:",n),Sc.post("/api/user/signup",n).then(a=>{console.log(a)}).catch(a=>{console.log(a)})}catch(a){if(a instanceof ki.ZodError){const l=a.errors.reduce((u,d)=>(u[d.path[0]]=d.message,u),{});r(l)}}};return M.jsxs("div",{className:"flex min-h-full flex-col justify-center px-6 py-12 lg:px-8",children:[M.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[M.jsx("img",{className:"mx-auto h-10 w-auto",src:"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600",alt:"Your Company"}),M.jsx("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Sign up for your account"})]}),M.jsx("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:M.jsxs("form",{className:"space-y-6",onSubmit:s,children:[M.jsxs("div",{children:[M.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email address"}),M.jsxs("div",{className:"mt-2",children:[M.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:n.email,onChange:i,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 px-2"}),t.email&&M.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.email})]})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"}),M.jsxs("div",{className:"mt-2",children:[M.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",value:n.password,onChange:i,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 px-2"}),t.password&&M.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.password})]})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium leading-6 text-gray-900",children:"Confirm Password"}),M.jsxs("div",{className:"mt-2",children:[M.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"current-password",value:n.confirmPassword,onChange:i,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 px-2"}),t.confirmPassword&&M.jsx("p",{className:"text-red-600 text-sm mt-1",children:t.confirmPassword})]})]}),M.jsx("div",{children:M.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Sign up"})})]})})]})};function G3(){const[n,e]=L.useState(!0),{status:t}=xb(i=>i.user),r=Qf();return L.useEffect(()=>{t?r("/"):e(!1)},[t,r]),M.jsx(M.Fragment,{children:n?M.jsx("p",{children:"Loading..."}):M.jsx(W3,{})})}function q3(){const n=UO([{path:"/signup",element:M.jsx(G3,{})},{path:"/login",element:M.jsx($3,{})},{path:"/",element:M.jsx(B3,{})}]);return M.jsx(YO,{router:n})}function km(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?km=function(t){return typeof t}:km=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(n)}function X3(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function K3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Y3(n,e,t){return e&&K3(n.prototype,e),n}function Z3(n,e){return e&&(km(e)==="object"||typeof e=="function")?e:Tm(n)}function m_(n){return m_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m_(n)}function Tm(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Q3(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&g_(n,e)}function g_(n,e){return g_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},g_(n,e)}function Rm(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var jR=function(n){Q3(e,n);function e(){var t,r;X3(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=Z3(this,(t=m_(e)).call.apply(t,[this].concat(s))),Rm(Tm(r),"state",{bootstrapped:!1}),Rm(Tm(r),"_unsubscribe",void 0),Rm(Tm(r),"handlePersistorState",function(){var a=r.props.persistor,l=a.getState(),u=l.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return Y3(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(L.PureComponent);Rm(jR,"defaultProps",{children:null,loading:null});var Bb="persist:",zR="persist/FLUSH",Ub="persist/REHYDRATE",BR="persist/PAUSE",UR="persist/PERSIST",HR="persist/PURGE",$R="persist/REGISTER",J3=-1;function Pm(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pm=function(t){return typeof t}:Pm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(n)}function Ux(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function eB(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ux(t,!0).forEach(function(r){tB(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ux(t).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function tB(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nB(n,e,t,r){r.debug;var i=eB({},t);return n&&Pm(n)==="object"&&Object.keys(n).forEach(function(s){s!=="_persist"&&e[s]===t[s]&&(i[s]=n[s])}),i}function rB(n){var e=n.blacklist||null,t=n.whitelist||null,r=n.transforms||[],i=n.throttle||0,s="".concat(n.keyPrefix!==void 0?n.keyPrefix:Bb).concat(n.key),o=n.storage,a;n.serialize===!1?a=function(C){return C}:typeof n.serialize=="function"?a=n.serialize:a=iB;var l=n.writeFailHandler||null,u={},d={},h=[],f=null,p=null,m=function(C){Object.keys(C).forEach(function(k){g(k)&&u[k]!==C[k]&&h.indexOf(k)===-1&&h.push(k)}),Object.keys(u).forEach(function(k){C[k]===void 0&&g(k)&&h.indexOf(k)===-1&&u[k]!==void 0&&h.push(k)}),f===null&&(f=setInterval(y,i)),u=C};function y(){if(h.length===0){f&&clearInterval(f),f=null;return}var x=h.shift(),C=r.reduce(function(k,P){return P.in(k,x,u)},u[x]);if(C!==void 0)try{d[x]=a(C)}catch(k){console.error("redux-persist/createPersistoid: error serializing state",k)}else delete d[x];h.length===0&&w()}function w(){Object.keys(d).forEach(function(x){u[x]===void 0&&delete d[x]}),p=o.setItem(s,a(d)).catch(v)}function g(x){return!(t&&t.indexOf(x)===-1&&x!=="_persist"||e&&e.indexOf(x)!==-1)}function v(x){l&&l(x)}var _=function(){for(;h.length!==0;)y();return p||Promise.resolve()};return{update:m,flush:_}}function iB(n){return JSON.stringify(n)}function sB(n){var e=n.transforms||[],t="".concat(n.keyPrefix!==void 0?n.keyPrefix:Bb).concat(n.key),r=n.storage;n.debug;var i;return n.deserialize===!1?i=function(o){return o}:typeof n.deserialize=="function"?i=n.deserialize:i=oB,r.getItem(t).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(l){o[l]=e.reduceRight(function(u,d){return d.out(u,l,a)},i(a[l]))}),o}catch(l){throw l}else return})}function oB(n){return JSON.parse(n)}function aB(n){var e=n.storage,t="".concat(n.keyPrefix!==void 0?n.keyPrefix:Bb).concat(n.key);return e.removeItem(t,lB)}function lB(n){}function Hx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ui(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Hx(t,!0).forEach(function(r){uB(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Hx(t).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function uB(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cB(n,e){if(n==null)return{};var t=dB(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function dB(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var hB=5e3;function fB(n,e){var t=n.version!==void 0?n.version:J3;n.debug;var r=n.stateReconciler===void 0?nB:n.stateReconciler,i=n.getStoredState||sB,s=n.timeout!==void 0?n.timeout:hB,o=null,a=!1,l=!0,u=function(h){return h._persist.rehydrated&&o&&!l&&o.update(h),h};return function(d,h){var f=d||{},p=f._persist,m=cB(f,["_persist"]),y=m;if(h.type===UR){var w=!1,g=function(A,D){w||(h.rehydrate(n.key,A,D),w=!0)};if(s&&setTimeout(function(){!w&&g(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(n.key,'"')))},s),l=!1,o||(o=rB(n)),p)return Ui({},e(y,h),{_persist:p});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(n.key),i(n).then(function(P){var A=n.migrate||function(D,I){return Promise.resolve(D)};A(P,t).then(function(D){g(D)},function(D){g(void 0,D)})},function(P){g(void 0,P)}),Ui({},e(y,h),{_persist:{version:t,rehydrated:!1}})}else{if(h.type===HR)return a=!0,h.result(aB(n)),Ui({},e(y,h),{_persist:p});if(h.type===zR)return h.result(o&&o.flush()),Ui({},e(y,h),{_persist:p});if(h.type===BR)l=!0;else if(h.type===Ub){if(a)return Ui({},y,{_persist:Ui({},p,{rehydrated:!0})});if(h.key===n.key){var v=e(y,h),_=h.payload,x=r!==!1&&_!==void 0?r(_,d,v,n):v,C=Ui({},x,{_persist:Ui({},p,{rehydrated:!0})});return u(C)}}}if(!p)return e(d,h);var k=e(y,h);return k===y?d:u(Ui({},k,{_persist:p}))}}function $x(n){return gB(n)||mB(n)||pB()}function pB(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function mB(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function gB(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}function Vx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function y_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Vx(t,!0).forEach(function(r){yB(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Vx(t).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function yB(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var VR={registry:[],bootstrapped:!1},vB=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:VR,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $R:return y_({},e,{registry:[].concat($x(e.registry),[t.key])});case Ub:var r=e.registry.indexOf(t.key),i=$x(e.registry);return i.splice(r,1),y_({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function wB(n,e,t){var r=Cb(vB,VR,void 0),i=function(l){r.dispatch({type:$R,key:l})},s=function(l,u,d){var h={type:Ub,payload:u,err:d,key:l};n.dispatch(h),r.dispatch(h)},o=y_({},r,{purge:function(){var l=[];return n.dispatch({type:HR,result:function(d){l.push(d)}}),Promise.all(l)},flush:function(){var l=[];return n.dispatch({type:zR,result:function(d){l.push(d)}}),Promise.all(l)},pause:function(){n.dispatch({type:BR})},persist:function(){n.dispatch({type:UR,register:i,rehydrate:s})}});return o.persist(),o}var Hb={},$b={};$b.__esModule=!0;$b.default=EB;function Lm(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lm=function(t){return typeof t}:Lm=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(n)}function jv(){}var _B={getItem:jv,setItem:jv,removeItem:jv};function bB(n){if((typeof self>"u"?"undefined":Lm(self))!=="object"||!(n in self))return!1;try{var e=self[n],t="redux-persist ".concat(n," test");e.setItem(t,"test"),e.getItem(t),e.removeItem(t)}catch{return!1}return!0}function EB(n){var e="".concat(n,"Storage");return bB(e)?self[e]:_B}Hb.__esModule=!0;Hb.default=AB;var SB=xB($b);function xB(n){return n&&n.__esModule?n:{default:n}}function AB(n){var e=(0,SB.default)(n);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var WR=void 0,CB=kB(Hb);function kB(n){return n&&n.__esModule?n:{default:n}}var TB=(0,CB.default)("local");WR=TB;const RB=fk({user:YF}),PB={key:"root",storage:WR},LB=fB(PB,RB),GR=DF({reducer:LB}),MB=wB(GR),OB=({children:n})=>M.jsx(aF,{store:GR,children:M.jsx(jR,{loading:null,persistor:MB,children:n})});oC(document.getElementById("root")).render(M.jsx(L.StrictMode,{children:M.jsx(OB,{children:M.jsx(q3,{})})}));
